import{S as Ie,i as We,s as Je,M as Ke,w as v,x as g,t as b,b as _,y as $,K as Pe,D as Xe,aX as Ye,A as Qe,R as Me,C as Ue,h as c,o as w,j as y,a as R,d as H,B as N,F as A,p as l,G as z,m as re,q as Ve}from"./MainLayout.js";import{t as X}from"./formatter.js";import{C as Ze}from"./Collapse.js";import{C as xe}from"./Card.js";import{B as Oe}from"./BaseInput.js";import{B as Ne}from"./Button.js";import{T as et}from"./TypeofServiceDropdown.js";import{O as tt}from"./ObjectiveDropdown.js";import{C as nt}from"./CurrentStatusDropdown.js";import{C as se,T as at}from"./Table.js";import{E as ie}from"./ESS_Manpower.service.js";import{D as oe}from"./DateRange.js";import{S as rt}from"./SectionDropdown.js";import"./Label.js";import"./Dropdown.js";import"./html.js";import"./_commonjsHelpers.js";import"./flatpickr.js";function st(n){let o,a,i,d,f,t,s,u,h,k,j,m,D,q,F,p,T,K,P,M,Y,r,O,C,U,le,B,V,E,Z,ue,x,G,ee,pe,te,L,ne,ae,I,W,de,J,Q;function Ae(e){n[6](e)}let fe={placeholder:"Document No.",isHorizontal:!0};n[1].documentNo!==void 0&&(fe.value=n[1].documentNo),d=new Oe({props:fe}),N.push(()=>A(d,"value",Ae));function ze(e){n[7](e)}let ce={isHorizontal:!0,showAll:!0,labelClass:"text-gray-800 mr-2 self-center"};n[1].typeOfService!==void 0&&(ce.value=n[1].typeOfService),u=new et({props:ce}),N.push(()=>A(u,"value",ze));function Re(e){n[8](e)}let me={isHorizontal:!0,showAll:!0,labelClass:"text-gray-800 mr-2 self-center"};n[1].objective!==void 0&&(me.value=n[1].objective),m=new tt({props:me}),N.push(()=>A(m,"value",Re));function He(e){n[9](e)}let ve={label:"Job Title",labelClass:"text-gray-800 mr-3",isHorizontal:!0};n[1].jobTitle!==void 0&&(ve.value=n[1].jobTitle),p=new Oe({props:ve}),N.push(()=>A(p,"value",He));function Be(e){n[10](e)}let ge={labelClass:"text-gray-800 mr-3"};n[1].status!==void 0&&(ge.value=n[1].status),M=new nt({props:ge}),N.push(()=>A(M,"value",Be));function Ee(e){n[11](e)}let be={service:ie.ESSGlobal_GetSections,labelClass:"text-gray-800 mr-3"};n[1].section!==void 0&&(be.value=n[1].section),C=new rt({props:be}),N.push(()=>A(C,"value",Ee));function Ge(e){n[12](e)}let _e={label:"Created Date",labelClass:"text-gray-800 self-center mr-4",isHorizontal:!0,canClear:!0};n[1].createdDate!==void 0&&(_e.value=n[1].createdDate),E=new oe({props:_e}),N.push(()=>A(E,"value",Ge));function Le(e){n[13](e)}let $e={label:"Submitted Date",labelClass:"text-gray-800 self-center mr-2",isHorizontal:!0,canClear:!0};n[1].submittedDate!==void 0&&($e.value=n[1].submittedDate),G=new oe({props:$e}),N.push(()=>A(G,"value",Le));function Fe(e){n[14](e)}let we={label:"Completed Date",labelClass:"text-gray-800 self-center mr-2",isHorizontal:!0,canClear:!0};return n[1].completedDate!==void 0&&(we.value=n[1].completedDate),L=new oe({props:we}),N.push(()=>A(L,"value",Fe)),W=new Ne({props:{search:!0,label:"Search",class:"text-size-large place-self-end mr-2 w-[96px]",icon:"ic-search"}}),W.$on("click",n[4]),J=new Ne({props:{clear:!0,label:"Clear",class:"w-[96px]"}}),J.$on("click",n[5]),{c(){o=c("div"),a=c("div"),i=c("div"),v(d.$$.fragment),t=w(),s=c("div"),v(u.$$.fragment),k=w(),j=c("div"),v(m.$$.fragment),q=w(),F=c("div"),v(p.$$.fragment),K=w(),P=c("div"),v(M.$$.fragment),r=w(),O=c("div"),v(C.$$.fragment),le=w(),B=c("div"),V=c("div"),v(E.$$.fragment),ue=w(),x=c("div"),v(G.$$.fragment),pe=w(),te=c("div"),v(L.$$.fragment),ae=w(),I=c("div"),v(W.$$.fragment),de=w(),v(J.$$.fragment),y(j,"class","desktop:col-span-2"),y(P,"class","desktop:col-span-2"),y(a,"class","grid desktop:grid-cols-4 grid-cols-1 desktop:gap-4 gap-2 desktop:mb-4 mb-2"),y(B,"class","grid desktop:grid-cols-3 grid-cols-1 desktop:gap-4 gap-2 mb-2"),y(o,"class","desktop:px-[18.6rem]"),y(I,"class","self-center text-center pb-2")},m(e,S){R(e,o,S),l(o,a),l(a,i),g(d,i,null),l(a,t),l(a,s),g(u,s,null),l(a,k),l(a,j),g(m,j,null),l(a,q),l(a,F),g(p,F,null),l(a,K),l(a,P),g(M,P,null),l(a,r),l(a,O),g(C,O,null),l(o,le),l(o,B),l(B,V),g(E,V,null),l(B,ue),l(B,x),g(G,x,null),l(B,pe),l(B,te),g(L,te,null),R(e,ae,S),R(e,I,S),g(W,I,null),l(I,de),g(J,I,null),Q=!0},p(e,S){const De={};!f&&S&2&&(f=!0,De.value=e[1].documentNo,z(()=>f=!1)),d.$set(De);const Ce={};!h&&S&2&&(h=!0,Ce.value=e[1].typeOfService,z(()=>h=!1)),u.$set(Ce);const Se={};!D&&S&2&&(D=!0,Se.value=e[1].objective,z(()=>D=!1)),m.$set(Se);const he={};!T&&S&2&&(T=!0,he.value=e[1].jobTitle,z(()=>T=!1)),p.$set(he);const ye={};!Y&&S&2&&(Y=!0,ye.value=e[1].status,z(()=>Y=!1)),M.$set(ye);const Te={};!U&&S&2&&(U=!0,Te.value=e[1].section,z(()=>U=!1)),C.$set(Te);const ke={};!Z&&S&2&&(Z=!0,ke.value=e[1].createdDate,z(()=>Z=!1)),E.$set(ke);const je={};!ee&&S&2&&(ee=!0,je.value=e[1].submittedDate,z(()=>ee=!1)),G.$set(je);const qe={};!ne&&S&2&&(ne=!0,qe.value=e[1].completedDate,z(()=>ne=!1)),L.$set(qe)},i(e){Q||(b(d.$$.fragment,e),b(u.$$.fragment,e),b(m.$$.fragment,e),b(p.$$.fragment,e),b(M.$$.fragment,e),b(C.$$.fragment,e),b(E.$$.fragment,e),b(G.$$.fragment,e),b(L.$$.fragment,e),b(W.$$.fragment,e),b(J.$$.fragment,e),Q=!0)},o(e){_(d.$$.fragment,e),_(u.$$.fragment,e),_(m.$$.fragment,e),_(p.$$.fragment,e),_(M.$$.fragment,e),_(C.$$.fragment,e),_(E.$$.fragment,e),_(G.$$.fragment,e),_(L.$$.fragment,e),_(W.$$.fragment,e),_(J.$$.fragment,e),Q=!1},d(e){e&&H(o),$(d),$(u),$(m),$(p),$(M),$(C),$(E),$(G),$(L),e&&H(ae),e&&H(I),$(W),$(J)}}}function ot(n){let o,a,i,d,f,t,s,u,h,k,j,m,D,q,F={tableConfig:n[3]};return D=new at({props:F}),n[15](D),{c(){o=c("div"),a=c("div"),i=c("span"),i.innerHTML='<i class="ic ic-manpower-service"></i>',d=w(),f=c("span"),f.textContent="Request Manpower Service Requisition",t=w(),s=c("span"),u=re("("),h=re(n[0]),k=re(")"),j=w(),m=c("div"),v(D.$$.fragment),y(i,"class","_icon-header svelte-1w0nmuu"),y(f,"class","text-size-large text-link"),y(s,"class","text-title text-size-large"),y(a,"class","text-center font-weight-bold desktop:col-start-2"),y(o,"class","desktop:grid desktop:grid-cols-3 mb-2")},m(p,T){R(p,o,T),l(o,a),l(a,i),l(a,d),l(a,f),l(a,t),l(a,s),l(s,u),l(s,h),l(s,k),R(p,j,T),R(p,m,T),g(D,m,null),q=!0},p(p,T){(!q||T&1)&&Ve(h,p[0]);const K={};D.$set(K)},i(p){q||(b(D.$$.fragment,p),q=!0)},o(p){_(D.$$.fragment,p),q=!1},d(p){p&&H(o),p&&H(j),p&&H(m),n[15](null),$(D)}}}function it(n){let o,a,i,d,f,t;return i=new Ze({props:{title:"ค้นหารายการ",containerClass:"mb-3 bg-search px-2",titleClass:"text-link font-weight-bold  border-b-0 bg-search",$$slots:{default:[st]},$$scope:{ctx:n}}}),f=new xe({props:{$$slots:{default:[ot]},$$scope:{ctx:n}}}),{c(){o=c("div"),o.innerHTML=`<div class="_icon-text svelte-1w0nmuu"><div class="bg-title rounded-xl w-6 h-6"><span class="icon _icon-main svelte-1w0nmuu"><div class="m-1"><i class="ic ic-manpower-service"></i></div></span></div> 

      <div class="pl-2">Request Manpower Service Requisition
        <div class="font-weight-bold text-size-xlarge">Waiting to Approve</div></div></div>`,a=w(),v(i.$$.fragment),d=w(),v(f.$$.fragment),y(o,"class","bg-gray-100 border-gray-400 border p-2 rounded mb-2")},m(s,u){R(s,o,u),R(s,a,u),g(i,s,u),R(s,d,u),g(f,s,u),t=!0},p(s,u){const h={};u&4194306&&(h.$$scope={dirty:u,ctx:s}),i.$set(h);const k={};u&4194309&&(k.$$scope={dirty:u,ctx:s}),f.$set(k)},i(s){t||(b(i.$$.fragment,s),b(f.$$.fragment,s),t=!0)},o(s){_(i.$$.fragment,s),_(f.$$.fragment,s),t=!1},d(s){s&&H(o),s&&H(a),$(i,s),s&&H(d),$(f,s)}}}function lt(n){let o,a;return o=new Ke({props:{$$slots:{default:[it]},$$scope:{ctx:n}}}),{c(){v(o.$$.fragment)},m(i,d){g(o,i,d),a=!0},p(i,[d]){const f={};d&4194311&&(f.$$scope={dirty:d,ctx:i}),o.$set(f)},i(i){a||(b(o.$$.fragment,i),a=!0)},o(i){_(o.$$.fragment,i),a=!1},d(i){$(o,i)}}}function ut(n,o,a){let i=0;const d=Pe.ManpowerStatus;new Date().getFullYear()-2,Xe.now().toJSDate();const f={documentNo:"",typeOfService:{key:"all",value:"All"},objective:{key:"all",value:"All"},jobTitle:"",status:{key:d.WaitingToAcknowledge,value:Ye[d.WaitingToAcknowledge]},section:"All",createdDate:void 0,submittedDate:void 0,completedDate:void 0};let t={...f};function s(){var r,O,C;return{documentNo:t.documentNo,jobTitle:t.jobTitle,section:t.section,typeOfService:(r=t.typeOfService)==null?void 0:r.key,objective:(O=t.objective)==null?void 0:O.key,status:(C=t.status)==null?void 0:C.key,startCreatedDate:t.createdDate?X(t.createdDate[0]):void 0,endCreatedDate:t.createdDate?X(t.createdDate[1],!0):void 0,startSubmittedDate:t.submittedDate?X(t.submittedDate[0]):void 0,endSubmittedDate:t.submittedDate?X(t.submittedDate[1],!0):void 0,startCompletedDate:t.completedDate?X(t.completedDate[0]):void 0,endCompletedDate:t.completedDate?X(t.completedDate[1],!0):void 0}}let u,h={columns:[{name:"Document No.",prop:"documentNo",cellTemplate:se.Link,onClick:(r,O)=>{Qe(Me.ManpowerDetail,{parent:Me.ManpowerWaitingList,manpowerId:O.recordId})}},{name:"Type of Service",prop:"typeOfService",render:r=>r.value??"-"},{name:"Objective",prop:"objective",render:r=>r.value??"-"},{name:"Job Title",prop:"jobTitle"},{name:"Current Status",prop:"status",render:r=>r.value??"-"},{name:"Created Date",prop:"createdDate",cellTemplate:se.Date},{name:"Submitted Date",prop:"submittedDate",cellTemplate:se.Date},{name:"Requester",prop:"requesterName"},{name:"On Behalf Of",prop:"onBehalfOfName"}],getData:(r,O)=>Ue.all([ie.GetManpowerApproveTableCount({filter:{...s()}}).then(C=>(a(0,i=C),C)),ie.GetManpowerApproveTable({filter:{...s()},sortByParam:O,pageParam:r})]),isStriped:!1};function k(){u.reload()}function j(){a(1,t={...f})}function m(r){n.$$.not_equal(t.documentNo,r)&&(t.documentNo=r,a(1,t))}function D(r){n.$$.not_equal(t.typeOfService,r)&&(t.typeOfService=r,a(1,t))}function q(r){n.$$.not_equal(t.objective,r)&&(t.objective=r,a(1,t))}function F(r){n.$$.not_equal(t.jobTitle,r)&&(t.jobTitle=r,a(1,t))}function p(r){n.$$.not_equal(t.status,r)&&(t.status=r,a(1,t))}function T(r){n.$$.not_equal(t.section,r)&&(t.section=r,a(1,t))}function K(r){n.$$.not_equal(t.createdDate,r)&&(t.createdDate=r,a(1,t))}function P(r){n.$$.not_equal(t.submittedDate,r)&&(t.submittedDate=r,a(1,t))}function M(r){n.$$.not_equal(t.completedDate,r)&&(t.completedDate=r,a(1,t))}function Y(r){N[r?"unshift":"push"](()=>{u=r,a(2,u)})}return[i,t,u,h,k,j,m,D,q,F,p,T,K,P,M,Y]}class pt extends Ie{constructor(o){super(),We(this,o,ut,lt,Je,{})}}new pt({target:document.getElementById("app")});
