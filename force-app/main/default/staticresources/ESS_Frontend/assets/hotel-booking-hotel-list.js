import{v as _e,be,bf as _n,S as bn,i as hn,s as vn,M as $n,w as B,x as w,t as d,b as h,y as H,X as Cn,b3 as kn,b4 as Bn,o as _,h as m,j as b,a as O,p as i,d as P,C as wn,L as Xe,ae as Hn,B as I,g as Ze,c as xe,m as Ge,q as nn,a0 as Mn,F as D,ab as En,G as R,r as yn,a3 as Tn,ap as Qt}from"./MainLayout.js";import{a as ye}from"./formatter.js";import{P as Sn}from"./PageTitle.js";import{T as Nn}from"./Table.js";import{B as et}from"./Button.js";import{B as re}from"./BaseInput.js";import{N as Te}from"./NumberInput.js";import{F as In}from"./FileInput.js";import{M as qn}from"./Modal.js";import{c as Qe,d as Yt}from"./array.js";import{r as Y,a as Ae}from"./sharedValidate.js";import{L as Ye}from"./Label.js";import"./html.js";import"./_commonjsHelpers.js";class he{static GetMasterHotelBookingListCount(){return _e({remoteAction:"ESS_MasterHotelBooking.GetMasterHotelBookingListCount",params:[]})}static GetMasterHotelBookingList(n){return _e({remoteAction:"ESS_MasterHotelBooking.GetMasterHotelBookingList",params:[n.sortByParam,n.pageParam],responseFormatter:l=>l.map(r=>be.MasterHotelBookingDTOFormatter(r,!0))})}static GetMasterHotelBookingDetail(n){return _e({remoteAction:"ESS_MasterHotelBooking.GetMasterHotelBookingDetail",params:[be.SearchDTOFormatter(n.search)],responseFormatter:l=>be.MasterHotelBookingDTOFormatter(l,!0)})}static DeleteMasterHotelBooking(n){return _e({remoteAction:"ESS_MasterHotelBooking.DeleteMasterHotelBooking",params:[be.SearchDTOFormatter(n.search)]})}static SaveMasterHotelBooking(n){return _e({remoteAction:"ESS_MasterHotelBooking.SaveMasterHotelBooking",params:[be.MasterHotelBookingDTOFormatter(n.input)],responseFormatter:l=>be.MasterHotelBookingDTOFormatter(l,!0)})}static CheckMasterHotelBookingID(n){return _e({remoteAction:"ESS_MasterHotelBooking.CheckMasterHotelBookingID",params:[n.hotelBookingId]})}static UploadFile(n){return _e({remoteAction:"ESS_MasterHotelBooking.UploadFile",params:[be.UploadFileDTOFormatter(n.UploadFile)]})}}const Fn=e=>{const n=Qe({attachmentFiles:Yt().nullable().of(Qe({id:Y.required(Ae.upload)}).required(Ae.upload)).required(Ae.upload).min(1,Ae.upload),hotelId:Y.label("Hotel ID"),hotelName:Y.label("Hotel Name"),hotelWebsite:Y.label("Hotel Website"),linkMap:Y.label("Link Map"),location:Y.label("Location"),masterHotelBookingContacts:Yt().of(Qe({contactName:Y.label("Contact Name"),contactEmail:Y.label("Email"),contactTelephone:Y.label("เบอร์โทรศัพท์มือถือ (Mobile)")}))});return _n(n,e)};function Zt(e,n,l){const r=e.slice();return r[38]=n[l],r[39]=n,r[40]=l,r}function xt(e){var Mt,Et,yt,Tt,St,Nt,It;let n,l,r,p,s,M,o,C,k,S,q,y,J,g,f,L,K,c,ie,se,G,Z,ve,U,ue,pe,A,x,v,N,Q,ge,j,W,me,$e,Ce=e[3].active?"Active":"Inactive",Se,Fe,t,u,T,tt,ke,nt,Be,ee,Ue,at,te,We,lt,z,Le,ot,we,rt,He,ne,Oe,it,ae,Pe,st,Me,ut,Ee,le,Ke,pt,oe,je,gt,ze,mt,fe,Ve,De,ce,Ne,Je,ft;function ct(a,$){var V,Ie,qe;return a[6]??((qe=(Ie=(V=a[3])==null?void 0:V.attachmentFiles)==null?void 0:Ie[0])==null?void 0:qe.url)?Dn:Ln}let Re=ct(e),X=Re(e);k=new In({props:{accept:"image/jpeg,image/png",fileName:(yt=(Et=(Mt=e[3])==null?void 0:Mt.attachmentFiles)==null?void 0:Et[0])!=null&&yt.id?e[7][(Nt=(St=(Tt=e[3])==null?void 0:Tt.attachmentFiles)==null?void 0:St[0])==null?void 0:Nt.id]??"Uploaded Image":void 0,isUploading:e[1]}}),k.$on("change",e[12]);function an(a){e[15](a)}let dt={required:!0};e[3].hotelId!==void 0&&(dt.value=e[3].hotelId),f=new re({props:dt}),I.push(()=>D(f,"value",an));function ln(a){e[16](a)}let _t={label:"Hotel Name",required:!0};e[3].hotelName!==void 0&&(_t.value=e[3].hotelName),c=new re({props:_t}),I.push(()=>D(c,"value",ln));function on(a){e[17](a)}let bt={label:"Hotel Website",required:!0};e[3].hotelWebsite!==void 0&&(bt.value=e[3].hotelWebsite),G=new re({props:bt}),I.push(()=>D(G,"value",on));function rn(a){e[18](a)}let ht={label:"Location",required:!0};e[3].location!==void 0&&(ht.value=e[3].location),U=new re({props:ht}),I.push(()=>D(U,"value",rn));function sn(a){e[19](a)}let vt={label:"Link Map",required:!0};e[3].linkMap!==void 0&&(vt.value=e[3].linkMap),A=new re({props:vt}),I.push(()=>D(A,"value",sn)),ke=new Ye({props:{label:"King Bed (Single)",labelClass:"font-weight-bold text-gray-800 pt-2"}});function un(a){e[21](a)}let $t={digits:0,label:"Contract Rate (THB)"};e[3].guest1ContractRate!==void 0&&($t.value=e[3].guest1ContractRate),ee=new Te({props:$t}),I.push(()=>D(ee,"value",un));function pn(a){e[22](a)}let Ct={digits:0,label:"Charge Employee (THB)"};e[3].guest1ChargeEmployee!==void 0&&(Ct.value=e[3].guest1ChargeEmployee),te=new Te({props:Ct}),I.push(()=>D(te,"value",pn)),we=new Ye({props:{label:"King Bed (Double)",labelClass:"font-weight-bold text-gray-800 pt-2"}});function gn(a){e[23](a)}let kt={digits:0,label:"Contract Rate (THB)"};e[3].guest2ContractRate!==void 0&&(kt.value=e[3].guest2ContractRate),ne=new Te({props:kt}),I.push(()=>D(ne,"value",gn));function mn(a){e[24](a)}let Bt={digits:0,label:"Charge Employee (THB)"};e[3].guest2ChargeEmployee!==void 0&&(Bt.value=e[3].guest2ChargeEmployee),ae=new Te({props:Bt}),I.push(()=>D(ae,"value",mn)),Me=new Ye({props:{label:"Twin Bed (Twin)",labelClass:"font-weight-bold text-gray-800 pt-2"}});function fn(a){e[25](a)}let wt={digits:0,label:"Contract Rate (THB)"};e[3].twinBedContractRate!==void 0&&(wt.value=e[3].twinBedContractRate),le=new Te({props:wt}),I.push(()=>D(le,"value",fn));function cn(a){e[26](a)}let Ht={digits:0,label:"Charge Employee (THB)"};e[3].twinBedChargeEmployee!==void 0&&(Ht.value=e[3].twinBedChargeEmployee),oe=new Te({props:Ht}),I.push(()=>D(oe,"value",cn));let de=(It=e[3])==null?void 0:It.masterHotelBookingContacts,E=[];for(let a=0;a<de.length;a+=1)E[a]=tn(Zt(e,de,a));const dn=a=>h(E[a],1,1,()=>{E[a]=null});return ce=new et({props:{outline:!0,icon:"ic-add",label:"Add New Contact"}}),ce.$on("click",e[33]),{c(){n=m("div"),l=m("div"),r=m("div"),r.innerHTML=`<span>Logo Image</span> 
              <span class="text-required-star mr-1">*</span> 
              <span>(Image File (.JPEG/.PNG))</span>`,p=_(),s=m("div"),M=m("figure"),X.c(),o=_(),C=m("div"),B(k.$$.fragment),S=_(),q=m("div"),y=m("div"),y.innerHTML=`<span>Hotel ID</span> 
              <span class="text-required-star mr-1">*</span> 
              <span class="text-gray-600">(Same as Hotel Code in SAP)</span>`,J=_(),g=m("div"),B(f.$$.fragment),K=_(),B(c.$$.fragment),se=_(),B(G.$$.fragment),ve=_(),B(U.$$.fragment),pe=_(),B(A.$$.fragment),v=_(),N=m("div"),Q=m("div"),Q.textContent="Active Status",ge=_(),j=m("div"),W=m("input"),me=_(),$e=m("span"),Se=Ge(Ce),Fe=_(),t=m("div"),u=m("div"),T=m("p"),T.textContent="Guest 1 Adult",tt=_(),B(ke.$$.fragment),nt=_(),Be=m("div"),B(ee.$$.fragment),at=_(),B(te.$$.fragment),lt=_(),z=m("div"),Le=m("p"),Le.textContent="Guest 2 Adult",ot=_(),B(we.$$.fragment),rt=_(),He=m("div"),B(ne.$$.fragment),it=_(),B(ae.$$.fragment),st=_(),B(Me.$$.fragment),ut=_(),Ee=m("div"),B(le.$$.fragment),pt=_(),B(oe.$$.fragment),gt=_(),ze=m("div"),mt=_(),fe=m("div");for(let a=0;a<E.length;a+=1)E[a].c();Ve=_(),De=m("div"),B(ce.$$.fragment),b(r,"class","flex text-gray-800 mb-1"),b(M,"class","w-[66px] h-[66px] flex items-center justify-center bg-gray-100 border border-gray-400 mr-3"),b(s,"class","flex items-center"),b(y,"class","flex text-gray-800 mb-1"),b(g,"class","flex items-center"),b(Q,"class","text-gray-800 mb-1"),b(W,"type","checkbox"),b(W,"class","toggle toggle-secondary toggle-lg svelte-1s4k2qz"),b($e,"class","text-black"),b(j,"class","flex gap-1"),b(T,"class","text-primary font-weight-bold"),b(Be,"class","grid grid-cols-2 gap-2"),b(Le,"class","text-primary font-weight-bold"),b(He,"class","grid grid-cols-2 gap-2"),b(Ee,"class","grid grid-cols-2 gap-2"),b(t,"class","grid col-span-2 bg-gray-300 items-center desktop:px-[17.4rem] p-2 gap-2"),b(ze,"class","divider desktop:col-span-2"),b(De,"class","mt-2"),b(fe,"class","grid gap-2 desktop:col-span-2"),b(n,"class","flex flex-col desktop:grid gap-2 desktop:grid-cols-2")},m(a,$){O(a,n,$),i(n,l),i(l,r),i(l,p),i(l,s),i(s,M),X.m(M,null),i(s,o),i(s,C),w(k,C,null),i(n,S),i(n,q),i(q,y),i(q,J),i(q,g),w(f,g,null),i(n,K),w(c,n,null),i(n,se),w(G,n,null),i(n,ve),w(U,n,null),i(n,pe),w(A,n,null),i(n,v),i(n,N),i(N,Q),i(N,ge),i(N,j),i(j,W),W.checked=e[3].active,i(j,me),i(j,$e),i($e,Se),i(n,Fe),i(n,t),i(t,u),i(u,T),i(u,tt),w(ke,u,null),i(u,nt),i(u,Be),w(ee,Be,null),i(Be,at),w(te,Be,null),i(t,lt),i(t,z),i(z,Le),i(z,ot),w(we,z,null),i(z,rt),i(z,He),w(ne,He,null),i(He,it),w(ae,He,null),i(z,st),w(Me,z,null),i(z,ut),i(z,Ee),w(le,Ee,null),i(Ee,pt),w(oe,Ee,null),i(n,gt),i(n,ze),i(n,mt),i(n,fe);for(let V=0;V<E.length;V+=1)E[V]&&E[V].m(fe,null);i(fe,Ve),i(fe,De),w(ce,De,null),Ne=!0,Je||(ft=En(W,"change",e[20]),Je=!0)},p(a,$){var Ot,Pt,Kt,jt,zt,Vt,Jt;Re===(Re=ct(a))&&X?X.p(a,$):(X.d(1),X=Re(a),X&&(X.c(),X.m(M,null)));const V={};$[0]&136&&(V.fileName=(Kt=(Pt=(Ot=a[3])==null?void 0:Ot.attachmentFiles)==null?void 0:Pt[0])!=null&&Kt.id?a[7][(Vt=(zt=(jt=a[3])==null?void 0:jt.attachmentFiles)==null?void 0:zt[0])==null?void 0:Vt.id]??"Uploaded Image":void 0),$[0]&2&&(V.isUploading=a[1]),k.$set(V);const Ie={};!L&&$[0]&8&&(L=!0,Ie.value=a[3].hotelId,R(()=>L=!1)),f.$set(Ie);const qe={};!ie&&$[0]&8&&(ie=!0,qe.value=a[3].hotelName,R(()=>ie=!1)),c.$set(qe);const qt={};!Z&&$[0]&8&&(Z=!0,qt.value=a[3].hotelWebsite,R(()=>Z=!1)),G.$set(qt);const Ft={};!ue&&$[0]&8&&(ue=!0,Ft.value=a[3].location,R(()=>ue=!1)),U.$set(Ft);const Lt={};!x&&$[0]&8&&(x=!0,Lt.value=a[3].linkMap,R(()=>x=!1)),A.$set(Lt),$[0]&8&&(W.checked=a[3].active),(!Ne||$[0]&8)&&Ce!==(Ce=a[3].active?"Active":"Inactive")&&nn(Se,Ce);const Dt={};!Ue&&$[0]&8&&(Ue=!0,Dt.value=a[3].guest1ContractRate,R(()=>Ue=!1)),ee.$set(Dt);const Rt={};!We&&$[0]&8&&(We=!0,Rt.value=a[3].guest1ChargeEmployee,R(()=>We=!1)),te.$set(Rt);const At={};!Oe&&$[0]&8&&(Oe=!0,At.value=a[3].guest2ContractRate,R(()=>Oe=!1)),ne.$set(At);const Gt={};!Pe&&$[0]&8&&(Pe=!0,Gt.value=a[3].guest2ChargeEmployee,R(()=>Pe=!1)),ae.$set(Gt);const Ut={};!Ke&&$[0]&8&&(Ke=!0,Ut.value=a[3].twinBedContractRate,R(()=>Ke=!1)),le.$set(Ut);const Wt={};if(!je&&$[0]&8&&(je=!0,Wt.value=a[3].twinBedChargeEmployee,R(()=>je=!1)),oe.$set(Wt),$[0]&8){de=(Jt=a[3])==null?void 0:Jt.masterHotelBookingContacts;let F;for(F=0;F<de.length;F+=1){const Xt=Zt(a,de,F);E[F]?(E[F].p(Xt,$),d(E[F],1)):(E[F]=tn(Xt),E[F].c(),d(E[F],1),E[F].m(fe,Ve))}for(Ze(),F=de.length;F<E.length;F+=1)dn(F);xe()}},i(a){if(!Ne){d(k.$$.fragment,a),d(f.$$.fragment,a),d(c.$$.fragment,a),d(G.$$.fragment,a),d(U.$$.fragment,a),d(A.$$.fragment,a),d(ke.$$.fragment,a),d(ee.$$.fragment,a),d(te.$$.fragment,a),d(we.$$.fragment,a),d(ne.$$.fragment,a),d(ae.$$.fragment,a),d(Me.$$.fragment,a),d(le.$$.fragment,a),d(oe.$$.fragment,a);for(let $=0;$<de.length;$+=1)d(E[$]);d(ce.$$.fragment,a),Ne=!0}},o(a){h(k.$$.fragment,a),h(f.$$.fragment,a),h(c.$$.fragment,a),h(G.$$.fragment,a),h(U.$$.fragment,a),h(A.$$.fragment,a),h(ke.$$.fragment,a),h(ee.$$.fragment,a),h(te.$$.fragment,a),h(we.$$.fragment,a),h(ne.$$.fragment,a),h(ae.$$.fragment,a),h(Me.$$.fragment,a),h(le.$$.fragment,a),h(oe.$$.fragment,a),E=E.filter(Boolean);for(let $=0;$<E.length;$+=1)h(E[$]);h(ce.$$.fragment,a),Ne=!1},d(a){a&&P(n),X.d(),H(k),H(f),H(c),H(G),H(U),H(A),H(ke),H(ee),H(te),H(we),H(ne),H(ae),H(Me),H(le),H(oe),yn(E,a),H(ce),Je=!1,ft()}}}function Ln(e){let n;return{c(){n=m("span"),n.innerHTML='<i class="ic ic-photo"></i>',b(n,"class","text-size-3xlarge text-gray-700")},m(l,r){O(l,n,r)},p:Tn,d(l){l&&P(n)}}}function Dn(e){let n,l;return{c(){var r,p,s;n=m("img"),Qt(n.src,l=e[6]??((s=(p=(r=e[3])==null?void 0:r.attachmentFiles)==null?void 0:p[0])==null?void 0:s.url))||b(n,"src",l),b(n,"alt","preview")},m(r,p){O(r,n,p)},p(r,p){var s,M,o;p[0]&72&&!Qt(n.src,l=r[6]??((o=(M=(s=r[3])==null?void 0:s.attachmentFiles)==null?void 0:M[0])==null?void 0:o.url))&&b(n,"src",l)},d(r){r&&P(n)}}}function en(e){let n,l,r;function p(){return e[27](e[40])}return l=new et({props:{outline:!0,icon:"ic-delete"}}),l.$on("click",p),{c(){n=m("span"),B(l.$$.fragment)},m(s,M){O(s,n,M),w(l,n,null),r=!0},p(s,M){e=s},i(s){r||(d(l.$$.fragment,s),r=!0)},o(s){h(l.$$.fragment,s),r=!1},d(s){s&&P(n),H(l)}}}function tn(e){var A,x;let n,l,r,p=e[40]+1+"",s,M,o,C,k,S,q,y,J,g,f,L,K,c=((x=(A=e[3])==null?void 0:A.masterHotelBookingContacts)==null?void 0:x.length)>1&&en(e);function ie(v){e[28](v,e[38])}let se={label:"Contact Name",required:!0};e[38].contactName!==void 0&&(se.value=e[38].contactName),k=new re({props:se}),I.push(()=>D(k,"value",ie));function G(v){e[29](v,e[38])}let Z={label:"Email",required:!0};e[38].contactEmail!==void 0&&(Z.value=e[38].contactEmail),y=new re({props:Z}),I.push(()=>D(y,"value",G));function ve(v){e[30](v,e[38])}function U(){return e[31](e[38],e[39],e[40])}function ue(...v){return e[32](e[38],...v)}let pe={label:"เบอร์โทรศัพท์มือถือ (Mobile)",name:"contactTelephone",required:!0};return e[38].contactTelephone!==void 0&&(pe.value=e[38].contactTelephone),f=new re({props:pe}),I.push(()=>D(f,"value",ve)),f.$on("input",U),f.$on("keypress",ue),{c(){n=m("div"),l=m("p"),r=Ge("Contact "),s=Ge(p),M=_(),c&&c.c(),o=_(),C=m("div"),B(k.$$.fragment),q=_(),B(y.$$.fragment),g=_(),B(f.$$.fragment),b(l,"class","text-primary font-weight-bold"),b(n,"class","flex justify-between"),b(C,"class","grid grid-cols-1 desktop:grid-cols-3 gap-2")},m(v,N){O(v,n,N),i(n,l),i(l,r),i(l,s),i(n,M),c&&c.m(n,null),O(v,o,N),O(v,C,N),w(k,C,null),i(C,q),w(y,C,null),i(C,g),w(f,C,null),K=!0},p(v,N){var W,me;e=v,((me=(W=e[3])==null?void 0:W.masterHotelBookingContacts)==null?void 0:me.length)>1?c?(c.p(e,N),N[0]&8&&d(c,1)):(c=en(e),c.c(),d(c,1),c.m(n,null)):c&&(Ze(),h(c,1,1,()=>{c=null}),xe());const Q={};!S&&N[0]&8&&(S=!0,Q.value=e[38].contactName,R(()=>S=!1)),k.$set(Q);const ge={};!J&&N[0]&8&&(J=!0,ge.value=e[38].contactEmail,R(()=>J=!1)),y.$set(ge);const j={};!L&&N[0]&8&&(L=!0,j.value=e[38].contactTelephone,R(()=>L=!1)),f.$set(j)},i(v){K||(d(c),d(k.$$.fragment,v),d(y.$$.fragment,v),d(f.$$.fragment,v),K=!0)},o(v){h(c),h(k.$$.fragment,v),h(y.$$.fragment,v),h(f.$$.fragment,v),K=!1},d(v){v&&P(n),c&&c.d(),v&&P(o),v&&P(C),H(k),H(y),H(f)}}}function Rn(e){let n,l,r=e[3]&&xt(e);return{c(){n=m("div"),r&&r.c(),b(n,"class","max-w-[636px] mx-auto")},m(p,s){O(p,n,s),r&&r.m(n,null),l=!0},p(p,s){p[3]?r?(r.p(p,s),s[0]&8&&d(r,1)):(r=xt(p),r.c(),d(r,1),r.m(n,null)):r&&(Ze(),h(r,1,1,()=>{r=null}),xe())},i(p){l||(d(r),l=!0)},o(p){h(r),l=!1},d(p){p&&P(n),r&&r.d()}}}function An(e){let n,l=e[2]?"Add New Hotel":"Edit",r;return{c(){n=m("div"),r=Ge(l),b(n,"slot","title")},m(p,s){O(p,n,s),i(n,r)},p(p,s){s[0]&4&&l!==(l=p[2]?"Add New Hotel":"Edit")&&nn(r,l)},d(p){p&&P(n)}}}function Gn(e){let n,l,r,p,s,M,o,C,k,S,q;n=new Sn({props:{icon:"ic-hotel",iconBg:"bg-hotel",title:"Hotel Booking - รายการโรงแรม",isRoundBottom:!1}}),s=new et({props:{outline:!0,icon:"ic-add",label:"Add New Hotel",isLoading:e[0]}}),s.$on("click",e[13]);let y={tableConfig:e[8]};C=new Nn({props:y}),e[14](C);let J={nextLabel:e[2]?"Add":"Save",onConfirm:e[10],onClose:e[11],isLoading:e[0],$$slots:{title:[An],default:[Rn]},$$scope:{ctx:e}};return S=new qn({props:J}),e[34](S),{c(){B(n.$$.fragment),l=_(),r=m("div"),p=m("div"),B(s.$$.fragment),M=_(),o=m("div"),B(C.$$.fragment),k=_(),B(S.$$.fragment),b(p,"class","text-right mb-2"),b(o,"class","overflow-x-auto"),b(r,"class","p-2 bg-white border border-gray-400 desktop:p-3")},m(g,f){w(n,g,f),O(g,l,f),O(g,r,f),i(r,p),w(s,p,null),i(r,M),i(r,o),w(C,o,null),O(g,k,f),w(S,g,f),q=!0},p(g,f){const L={};f[0]&1&&(L.isLoading=g[0]),s.$set(L);const K={};C.$set(K);const c={};f[0]&4&&(c.nextLabel=g[2]?"Add":"Save"),f[0]&1&&(c.isLoading=g[0]),f[0]&206|f[1]&1024&&(c.$$scope={dirty:f,ctx:g}),S.$set(c)},i(g){q||(d(n.$$.fragment,g),d(s.$$.fragment,g),d(C.$$.fragment,g),d(S.$$.fragment,g),q=!0)},o(g){h(n.$$.fragment,g),h(s.$$.fragment,g),h(C.$$.fragment,g),h(S.$$.fragment,g),q=!1},d(g){H(n,g),g&&P(l),g&&P(r),H(s),e[14](null),H(C),g&&P(k),e[34](null),H(S,g)}}}function Un(e){let n,l;return n=new $n({props:{isShowLoading:e[0],$$slots:{default:[Gn]},$$scope:{ctx:e}}}),{c(){B(n.$$.fragment)},m(r,p){w(n,r,p),l=!0},p(r,p){const s={};p[0]&1&&(s.isShowLoading=r[0]),p[0]&255|p[1]&1024&&(s.$$scope={dirty:p,ctx:r}),n.$set(s)},i(r){l||(d(n.$$.fragment,r),l=!0)},o(r){h(n.$$.fragment,r),l=!1},d(r){H(n,r)}}}function Wn(e,n,l){let r;Cn(e,Mn,t=>l(7,r=t)),kn.set({vertical:Bn.Middle});let p=!1,s=!1,M=!1,o,C,k,S={columns:[{name:"Hotel ID",prop:"hotelId",headerClasses:"text-center"},{name:"Logo",width:"120px",prop:"attachmentFiles",render(t,u){var T;return`<img src="${(T=t==null?void 0:t[0])==null?void 0:T.url}" style="width: 100px; height: 100px;" />`},sortable:!1,headerClasses:"text-center"},{name:"Hotel Name",prop:"hotelName",width:"150px",headerClasses:"text-center"},{name:"Contract Rate",prop:"guest1ContractRate",group:"Guest 1 (King Bed)",render(t,u){return ye(t)},headerClasses:"text-center"},{name:" Charge Employee",prop:"guest1ChargeEmployee",group:"Guest 1 (King Bed)",render(t,u){return ye(t)},headerClasses:"text-center"},{name:"Contract Rate",prop:"guest2ContractRate",group:"Guest 2 (King Bed)",render(t,u){return ye(t)},headerClasses:"text-center"},{name:"Charge Employee",prop:"guest2ChargeEmployee",group:"Guest 2 (King Bed)",render(t,u){return ye(t)},headerClasses:"text-center"},{name:"Contract Rate",prop:"twinBedContractRate",group:"Guest 2 (Twin Bed)",render(t,u){return ye(t)},headerClasses:"text-center"},{name:"Charge Employee",prop:"twinBedChargeEmployee",group:"Guest 2 (Twin Bed)",render(t,u){return ye(t)},headerClasses:"text-center"},{name:"Contact Name",prop:"masterHotelBookingContacts",render(t){var u;return((u=t[0])==null?void 0:u.contactName)??"-"},headerClasses:"text-center"},{name:"Email",prop:"masterHotelBookingContacts",render(t){var u;return((u=t[0])==null?void 0:u.contactEmail)??"-"},headerClasses:"text-center"},{name:"Telephone",prop:"masterHotelBookingContacts",render(t){var u;return((u=t[0])==null?void 0:u.contactTelephone)??"-"},headerClasses:"text-center"},{name:"Location",prop:"location",headerClasses:"text-center"},{name:"Hotel Website",prop:"hotelWebsite",cellClasses:"text-center",width:"70px",render:t=>`<a href="${t}" target="_blank"><span class="icon text-primary tooltip" data-tip="${t}">
                    <i class="ic ic-hyperlink" />
                  </span></a>`,headerClasses:"text-center"},{name:"Link Map",prop:"linkMap",cellClasses:"text-center",render:t=>`<a href="${t}" target="_blank"><span class="icon text-primary">
                    <i class="ic ic-hyperlink" />
                  </span></a>`,headerClasses:"text-center"},{name:"Active Status",prop:"active",width:"70px",render:t=>`<span class="${t?"text-secondary":"text-reject"}">${t?"Active":"Inactive"}</span>`,headerClasses:"text-center"},{name:"Action",prop:"_action",width:"70px",actions:{isEdit:!0,isDelete:t=>!t.active,isDownload:!1,onEdit:t=>{y(t.recordId)}}}],getData:(t,u)=>wn.all([he.GetMasterHotelBookingListCount(),he.GetMasterHotelBookingList({pageParam:t,sortByParam:u})]),deleteData:t=>he.DeleteMasterHotelBooking({search:{recordId:t.recordId,search:""}}),displayDeleteKey:"hotelName",isStriped:!1};async function q(t=""){return l(0,p=!0),he.GetMasterHotelBookingDetail({search:{recordId:t,search:""}}).then(u=>{console.log("recordId",t),console.log("setItem",u),l(3,o=u),l(2,M=!t),console.log("isNew",M),(M||!o.attachmentFiles)&&(l(3,o.attachmentFiles=[],o),l(6,L=void 0)),o.masterHotelBookingContacts||l(3,o.masterHotelBookingContacts=[{contactName:"",contactEmail:"",contactTelephone:""}],o)}).finally(()=>{l(0,p=!1)})}function y(t=""){q(t).finally(()=>{C.open()})}function J(){console.log("onConfirm",o);const{isValid:t}=Fn(o);t&&(l(0,p=!0),M?he.CheckMasterHotelBookingID({hotelBookingId:o.hotelId}).then(u=>{u?Xe.error("Hotel Name already exists"):g()}).finally(()=>{l(0,p=!1)}):g())}function g(){he.SaveMasterHotelBooking({input:o}).then(t=>{k.reload(),C.close(),Xe.success(`${M?"Create":"Update"} Successfully`)}).finally(()=>{l(0,p=!1)})}function f(){l(3,o=null)}let L;function K({detail:{target:t}}){if(!(o!=null&&o.recordId)){Xe.error("Invalid recordId");return}l(1,s=!0);const u=t.files[0];Hn(he.UploadFile,u,o.recordId).then(T=>{l(3,o.attachmentFiles[0]={id:T,url:""},o),l(6,L=URL.createObjectURL(u)),console.log("upload result",T)}).finally(()=>{l(1,s=!1)})}const c=()=>y();function ie(t){I[t?"unshift":"push"](()=>{k=t,l(5,k)})}function se(t){e.$$.not_equal(o.hotelId,t)&&(o.hotelId=t,l(3,o))}function G(t){e.$$.not_equal(o.hotelName,t)&&(o.hotelName=t,l(3,o))}function Z(t){e.$$.not_equal(o.hotelWebsite,t)&&(o.hotelWebsite=t,l(3,o))}function ve(t){e.$$.not_equal(o.location,t)&&(o.location=t,l(3,o))}function U(t){e.$$.not_equal(o.linkMap,t)&&(o.linkMap=t,l(3,o))}function ue(){o.active=this.checked,l(3,o)}function pe(t){e.$$.not_equal(o.guest1ContractRate,t)&&(o.guest1ContractRate=t,l(3,o))}function A(t){e.$$.not_equal(o.guest1ChargeEmployee,t)&&(o.guest1ChargeEmployee=t,l(3,o))}function x(t){e.$$.not_equal(o.guest2ContractRate,t)&&(o.guest2ContractRate=t,l(3,o))}function v(t){e.$$.not_equal(o.guest2ChargeEmployee,t)&&(o.guest2ChargeEmployee=t,l(3,o))}function N(t){e.$$.not_equal(o.twinBedContractRate,t)&&(o.twinBedContractRate=t,l(3,o))}function Q(t){e.$$.not_equal(o.twinBedChargeEmployee,t)&&(o.twinBedChargeEmployee=t,l(3,o))}const ge=t=>{l(3,o.masterHotelBookingContacts=o.masterHotelBookingContacts.filter((u,T)=>T!==t),o)};function j(t,u){e.$$.not_equal(u.contactName,t)&&(u.contactName=t,l(3,o))}function W(t,u){e.$$.not_equal(u.contactEmail,t)&&(u.contactEmail=t,l(3,o))}function me(t,u){e.$$.not_equal(u.contactTelephone,t)&&(u.contactTelephone=t,l(3,o))}const $e=(t,u,T)=>{/\D/.test(t.contactTelephone)&&l(3,u[T].contactTelephone=t.contactTelephone.replace(/\D/g,""),o),t.contactTelephone.length>10&&l(3,u[T].contactTelephone=t.contactTelephone.slice(0,10),o)},Ce=(t,u)=>{var T;/\D/.test(u.key)&&u.preventDefault(),((T=t.contactTelephone)==null?void 0:T.length)>10&&u.preventDefault()},Se=()=>{l(3,o.masterHotelBookingContacts=[...o.masterHotelBookingContacts,{contactName:"",contactEmail:"",contactTelephone:""}],o)};function Fe(t){I[t?"unshift":"push"](()=>{C=t,l(4,C)})}return[p,s,M,o,C,k,L,r,S,y,J,f,K,c,ie,se,G,Z,ve,U,ue,pe,A,x,v,N,Q,ge,j,W,me,$e,Ce,Se,Fe]}class On extends bn{constructor(n){super(),hn(this,n,Wn,Un,vn,{},null,[-1,-1])}}new On({target:document.getElementById("app")});
