import{S as J,i as K,s as P,M as X,w as D,x as C,t as h,b as k,y as S,K as Q,D as U,aX as V,A as Z,R as F,C as ee,h as b,o as y,j as M,a as T,d as x,B as R,F as H,p as g,G as I,m as N,q as te}from"./MainLayout.js";import{t as G}from"./formatter.js";import{C as ae}from"./Collapse.js";import{C as re}from"./Card.js";import{B as ne}from"./BaseInput.js";import{B as W}from"./Button.js";import{C as se}from"./CurrentStatusDropdown.js";import{E as Y}from"./ESS_Manpower.service.js";import"./Dropdown.js";import"./Label.js";import{C as A,T as le}from"./Table.js";import{D as oe}from"./DateRange.js";import"./html.js";import"./_commonjsHelpers.js";import"./flatpickr.js";function ie(i){let t,r,a,m,p,d,e,u,l,f,v,w,c,$,B,o,_;a=new ne({props:{placeholder:"Document No.",isHorizontal:!0}});function s(n){i[6](n)}let O={labelClass:"text-gray-800 mr-[19px]",disabled:!0};i[1].status!==void 0&&(O.value=i[1].status),d=new se({props:O}),R.push(()=>H(d,"value",s));function E(n){i[7](n)}let z={label:"Created Date",labelClass:"text-gray-800 self-center mr-4",isHorizontal:!0};return i[1].createdDate!==void 0&&(z.value=i[1].createdDate),f=new oe({props:z}),R.push(()=>H(f,"value",E)),$=new W({props:{search:!0,label:"Search",class:"text-size-large place-self-end mr-2 w-[96px]",icon:"ic-search"}}),$.$on("click",i[4]),o=new W({props:{clear:!0,label:"Clear",class:"w-[96px]"}}),o.$on("click",i[5]),{c(){t=b("div"),r=b("div"),D(a.$$.fragment),m=y(),p=b("div"),D(d.$$.fragment),u=y(),l=b("div"),D(f.$$.fragment),w=y(),c=b("div"),D($.$$.fragment),B=y(),D(o.$$.fragment),M(t,"class","desktop:grid desktop:grid-cols-3 desktop:gap-4 desktop:px-[18rem] mb-2"),M(c,"class","self-center text-center pb-4")},m(n,q){T(n,t,q),g(t,r),C(a,r,null),g(t,m),g(t,p),C(d,p,null),g(t,u),g(t,l),C(f,l,null),T(n,w,q),T(n,c,q),C($,c,null),g(c,B),C(o,c,null),_=!0},p(n,q){const L={};!e&&q&2&&(e=!0,L.value=n[1].status,I(()=>e=!1)),d.$set(L);const j={};!v&&q&2&&(v=!0,j.value=n[1].createdDate,I(()=>v=!1)),f.$set(j)},i(n){_||(h(a.$$.fragment,n),h(d.$$.fragment,n),h(f.$$.fragment,n),h($.$$.fragment,n),h(o.$$.fragment,n),_=!0)},o(n){k(a.$$.fragment,n),k(d.$$.fragment,n),k(f.$$.fragment,n),k($.$$.fragment,n),k(o.$$.fragment,n),_=!1},d(n){n&&x(t),S(a),S(d),S(f),n&&x(w),n&&x(c),S($),S(o)}}}function pe(i){let t,r,a,m,p,d,e,u,l,f,v,w,c,$,B={tableConfig:i[3]};return c=new le({props:B}),i[8](c),{c(){t=b("div"),r=b("div"),a=b("span"),a.innerHTML='<i class="ic ic-manpower-service"></i>',m=y(),p=b("span"),p.textContent="รออนุมัติ (On Behalf Of)",d=y(),e=b("span"),u=N("("),l=N(i[0]),f=N(")"),v=y(),w=b("div"),D(c.$$.fragment),M(a,"class","icon-header svelte-xkc7hy"),M(p,"class","text-size-large text-link"),M(e,"class","text-title text-size-large"),M(r,"class","text-center font-weight-bold mb-[14px] desktop:col-start-2"),M(t,"class","desktop:grid desktop:grid-cols-3")},m(o,_){T(o,t,_),g(t,r),g(r,a),g(r,m),g(r,p),g(r,d),g(r,e),g(e,u),g(e,l),g(e,f),T(o,v,_),T(o,w,_),C(c,w,null),$=!0},p(o,_){(!$||_&1)&&te(l,o[0]);const s={};c.$set(s)},i(o){$||(h(c.$$.fragment,o),$=!0)},o(o){k(c.$$.fragment,o),$=!1},d(o){o&&x(t),o&&x(v),o&&x(w),i[8](null),S(c)}}}function ue(i){let t,r,a,m,p,d;return a=new ae({props:{title:"ค้นหารายการ",containerClass:"mb-3 bg-search px-2",titleClass:"text-link font-weight-bold  border-b-0 bg-search",$$slots:{default:[ie]},$$scope:{ctx:i}}}),p=new re({props:{$$slots:{default:[pe]},$$scope:{ctx:i}}}),{c(){t=b("div"),t.innerHTML=`<div class="icon-text svelte-xkc7hy"><div class="bg-title rounded-xl w-[3.6rem] h-[3.6rem]"><span class="icon svelte-xkc7hy"><div class="mx-1 mt-1 mb-"><i class="ic ic-manpower-service"></i></div></span></div> 

      <div class="pl-2">Request Manpower Service Requisition
        <div class="font-weight-bold text-size-xlarge">Waiting to Employee Approve</div></div></div>`,r=y(),D(a.$$.fragment),m=y(),D(p.$$.fragment),M(t,"class","bg-gray-100 border-gray-400 border p-2 rounded mb-2")},m(e,u){T(e,t,u),T(e,r,u),C(a,e,u),T(e,m,u),C(p,e,u),d=!0},p(e,u){const l={};u&32770&&(l.$$scope={dirty:u,ctx:e}),a.$set(l);const f={};u&32773&&(f.$$scope={dirty:u,ctx:e}),p.$set(f)},i(e){d||(h(a.$$.fragment,e),h(p.$$.fragment,e),d=!0)},o(e){k(a.$$.fragment,e),k(p.$$.fragment,e),d=!1},d(e){e&&x(t),e&&x(r),S(a,e),e&&x(m),S(p,e)}}}function de(i){let t,r;return t=new X({props:{$$slots:{default:[ue]},$$scope:{ctx:i}}}),{c(){D(t.$$.fragment)},m(a,m){C(t,a,m),r=!0},p(a,[m]){const p={};m&32775&&(p.$$scope={dirty:m,ctx:a}),t.$set(p)},i(a){r||(h(t.$$.fragment,a),r=!0)},o(a){k(t.$$.fragment,a),r=!1},d(a){S(t,a)}}}function ce(i,t,r){let a=0;const m=Q.ManpowerStatus,p=new Date().getFullYear()-2,d=new Date(p,0,1),e=U.now().toJSDate(),u={documentNo:"",status:{key:m.WaitingToEmployeeApproved,value:V[m.WaitingToEmployeeApproved]},createdDate:[d,e]};let l={...u};function f(){var s;return{documentNo:l.documentNo,status:(s=l.status)==null?void 0:s.key,startCreatedDate:G(l.createdDate[0]),endCreatedDate:G(l.createdDate[1],!0)}}let v,w={columns:[{name:"Document No.",prop:"documentNo",cellTemplate:A.Link,onClick:(s,O)=>{Z(F.ManpowerDetail,{parent:F.ManpowerOnBehalfList,manpowerId:O.recordId})}},{name:"Type of Service",prop:"typeOfService",render:s=>s.value??"-"},{name:"Objective",prop:"objective",render:s=>s.value??"-"},{name:"Job Title",prop:"jobTitle"},{name:"Current Status",prop:"status",render:s=>s.value??"-"},{name:"Created Date",prop:"createdDate",cellTemplate:A.Date},{name:"Submitted Date",prop:"submittedDate",cellTemplate:A.Date},{name:"Requester",prop:"requesterName"},{name:"On Behalf Of",prop:"onBehalfOfName"}],getData:(s,O)=>ee.all([Y.GetManpowerOnBehalfApproveTableCount({filter:{...f()}}).then(E=>(r(0,a=E),E)),Y.GetManpowerOnBehalfApproveTable({filter:{...f()},sortByParam:O,pageParam:s})]),isStriped:!1};function c(){v.reload()}function $(){r(1,l={...u})}function B(s){i.$$.not_equal(l.status,s)&&(l.status=s,r(1,l))}function o(s){i.$$.not_equal(l.createdDate,s)&&(l.createdDate=s,r(1,l))}function _(s){R[s?"unshift":"push"](()=>{v=s,r(2,v)})}return[a,l,v,w,c,$,B,o,_]}class me extends J{constructor(t){super(),K(this,t,ce,de,P,{})}}new me({target:document.getElementById("app")});
