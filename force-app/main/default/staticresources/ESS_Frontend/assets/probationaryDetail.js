import{S as nt,i as it,s as at,f as pn,h as m,j as v,a as q,u as dn,k as mn,l as gn,t as g,b as c,d as M,K as L,w as P,x as H,y as E,a6 as Ie,r as rn,o as _,m as pe,e as vt,p as s,q as be,L as ct,z as ln,B as U,F as oe,G as re,g as ke,c as Pe,a3 as Lt,C as cn,O as Rt,P as _n,Q as bn,T as qt,V as vn,W as Tt,M as $n,ab as sn,ac as Mt,R as Ft,ay as Bt,ax as It,aa as hn,af as Gt,A as tt,at as wn,az as Cn,n as gt}from"./MainLayout.js";import{f as Ze}from"./formatter.js";import{E as qe}from"./ESS_Probationary.service.js";import{B as Me}from"./Button.js";import{C as $t}from"./Collapse.js";import{R as Ot}from"./Radio.js";import{T as un}from"./TextArea.js";import{B as bt}from"./BaseInput.js";import{A as Sn}from"./Alert.js";import{c as _t,b as ze}from"./array.js";import{M as fn}from"./Modal.js";import{A as kn}from"./ApprovalHistoryModal.js";import{T as Pn}from"./Table.js";import{F as Hn,D as En}from"./FunctionDropdown.js";import{S as yn}from"./SectionDropdown.js";import{D as Dn}from"./Dropdown.js";import{S as Nn}from"./SaveModal.js";import"./Label.js";import"./_commonjsHelpers.js";import"./html.js";function In(n){let t,e;const o=n[1].default,i=pn(o,n,n[0],null);return{c(){t=m("div"),i&&i.c(),v(t,"class","bg-white border-t p-2 desktop:border desktop:py-2 desktop:px-4")},m(r,a){q(r,t,a),i&&i.m(t,null),e=!0},p(r,[a]){i&&i.p&&(!e||a&1)&&dn(i,o,r,r[0],e?gn(o,r[0],a,null):mn(r[0]),null)},i(r){e||(g(i,r),e=!0)},o(r){c(i,r),e=!1},d(r){r&&M(t),i&&i.d(r)}}}function Ln(n,t,e){let{$$slots:o={},$$scope:i}=t;return n.$$set=r=>{"$$scope"in r&&e(0,i=r.$$scope)},[i,o]}class ut extends nt{constructor(t){super(),it(this,t,Ln,In,at,{})}}const Rn=[{value:L.ProbationSectionHeadQuantity.Learn,label:"Learn slowly and quantity of work is below expectation"},{value:L.ProbationSectionHeadQuantity.Meet,label:"Meet required standard"},{value:L.ProbationSectionHeadQuantity.Better,label:"Better than expectation"}],On=[{value:L.ProbationSectionHeadQuality.Below,label:"Below required standard"},{value:L.ProbationSectionHeadQuality.Meet,label:"Meet required standard"},{value:L.ProbationSectionHeadQuality.Better,label:"Better than expectation"}],Tn=[{value:L.ProbationSectionHeadSafety.Below,label:"Below required standard"},{value:L.ProbationSectionHeadSafety.Meet,label:"Meet required standard"},{value:L.ProbationSectionHeadSafety.Better,label:"Better than expectation"}],An=[{value:L.ProbationSectionHeadKnowledge.Insufficient,label:"Insufficient knowledge/skills to carry out work up to the required standard"},{value:L.ProbationSectionHeadKnowledge.Sufficient,label:"Sufficient knowledge/skills to carry out work up to the required standard"},{value:L.ProbationSectionHeadKnowledge.SufficientBetter,label:"Sufficient knowledge/skills to carry out work better than the required standard"}],qn=[{value:L.ProbationSectionHeadReliability.NeedSupervision,label:"Need close supervision"},{value:L.ProbationSectionHeadReliability.OccasionalSupervision,label:"Work well and need only occasional supervision"},{value:L.ProbationSectionHeadReliability.WithoutSupervision,label:"Work independently without supervision"}],Mn=[{value:L.ProbationSectionHeadAttitude.LackDescipline,label:"Lack discipline and always create problems"},{value:L.ProbationSectionHeadAttitude.NeatAndObey,label:"Neat and obey supervisor's order"},{value:L.ProbationSectionHeadAttitude.WorkWell,label:"Work well with colleagues and strictly adhere to Company regulations"}],Fn=[{value:L.ProbationSectionHeadEngineering.NotRequire,label:"Not require"},{value:L.ProbationSectionHeadEngineering.AlreadyPossessed,label:"The incumbent has already possessed the valid license"},{value:L.ProbationSectionHeadEngineering.NotYetPossessed,label:"The incumbent has not yet possessed the valid license"}],Bn=[{value:L.ProbationSectionHeadRecommendation.Confirm,label:"To confirm as regular employee of the Company"},{value:L.ProbationSectionHeadRecommendation.Terminate,label:"To terminate employment for the following reason"}],Gn=[{value:L.ProbationDepartmentHeadConfirmation.Confirm,label:"To confirm as regular employee of the Company"},{value:L.ProbationDepartmentHeadConfirmation.Terminate,label:"To terminate employment for the following reason"}];function Wt(n,t,e){const o=n.slice();return o[6]=t[e],o[8]=e,o}function Wn(n){let t,e;return{c(){t=m("span"),e=pe(n[4]),v(t,"class","text-gray-800")},m(o,i){q(o,t,i),s(t,e)},p(o,i){i&16&&be(e,o[4])},d(o){o&&M(t)}}}function jn(n){let t,e=n[6].isAssignedBy?"Reassigned By : ":"Reassigned Name : ",o;return{c(){t=m("span"),o=pe(e),v(t,"class","text-gray-800")},m(i,r){q(i,t,r),s(t,o)},p(i,r){r&1&&e!==(e=i[6].isAssignedBy?"Reassigned By : ":"Reassigned Name : ")&&be(o,e)},d(i){i&&M(t)}}}function zn(n){let t,e,o,i=Ze(n[6].submittedDate)+"",r;return{c(){t=m("span"),t.textContent="Submitted Date :",e=_(),o=m("span"),r=pe(i),v(t,"class","text-gray-800")},m(a,l){q(a,t,l),q(a,e,l),q(a,o,l),s(o,r)},p(a,l){l&1&&i!==(i=Ze(a[6].submittedDate)+"")&&be(r,i)},d(a){a&&M(t),a&&M(e),a&&M(o)}}}function Vn(n){let t,e,o,i=Ze(n[6].reassignedDate)+"",r;return{c(){t=m("span"),t.textContent="Reassigned Date :",e=_(),o=m("span"),r=pe(i),v(t,"class","text-gray-800")},m(a,l){q(a,t,l),q(a,e,l),q(a,o,l),s(o,r)},p(a,l){l&1&&i!==(i=Ze(a[6].reassignedDate)+"")&&be(r,i)},d(a){a&&M(t),a&&M(e),a&&M(o)}}}function jt(n){let t;return{c(){t=m("div"),v(t,"class","_divider svelte-jadhnq")},m(e,o){q(e,t,o)},d(e){e&&M(t)}}}function zt(n){let t,e,o,i,r=n[1]?`${n[6].employeeId} - `:"",a,l,p=n[6].name+"",u,d,b,S,T,G,R=n[6].position+"",D,j,W,z,O;function J(y,Q){return y[1]?jn:Wn}let F=J(n),k=F(n);function N(y,Q){return y[6].isAssignedBy?Vn:zn}let K=N(n),h=K(n),A=n[0].length>1&&n[0].length-1!==n[8]&&jt();return{c(){t=m("div"),e=m("div"),k.c(),o=_(),i=m("span"),a=pe(r),l=_(),u=pe(p),d=_(),b=m("div"),S=m("span"),S.textContent="Position :",T=_(),G=m("span"),D=pe(R),j=_(),W=m("div"),h.c(),z=_(),A&&A.c(),O=vt(),v(S,"class","text-gray-800"),v(t,"class","grid gap-1.5 _info svelte-jadhnq"),Ie(t,"_generating",n[5])},m(y,Q){q(y,t,Q),s(t,e),k.m(e,null),s(e,o),s(e,i),s(i,a),s(i,l),s(i,u),s(t,d),s(t,b),s(b,S),s(b,T),s(b,G),s(G,D),s(t,j),s(t,W),h.m(W,null),q(y,z,Q),A&&A.m(y,Q),q(y,O,Q)},p(y,Q){F===(F=J(y))&&k?k.p(y,Q):(k.d(1),k=F(y),k&&(k.c(),k.m(e,o))),Q&3&&r!==(r=y[1]?`${y[6].employeeId} - `:"")&&be(a,r),Q&1&&p!==(p=y[6].name+"")&&be(u,p),Q&1&&R!==(R=y[6].position+"")&&be(D,R),K===(K=N(y))&&h?h.p(y,Q):(h.d(1),h=K(y),h&&(h.c(),h.m(W,null))),Q&32&&Ie(t,"_generating",y[5]),y[0].length>1&&y[0].length-1!==y[8]?A||(A=jt(),A.c(),A.m(O.parentNode,O)):A&&(A.d(1),A=null)},d(y){y&&M(t),k.d(),h.d(),y&&M(z),A&&A.d(y),y&&M(O)}}}function Qn(n){let t,e=n[0],o=[];for(let i=0;i<e.length;i+=1)o[i]=zt(Wt(n,e,i));return{c(){t=m("div");for(let i=0;i<o.length;i+=1)o[i].c();v(t,"class","pt-3 px-4"),Ie(t,"pb-2",n[2])},m(i,r){q(i,t,r);for(let a=0;a<o.length;a+=1)o[a]&&o[a].m(t,null)},p(i,r){if(r&51){e=i[0];let a;for(a=0;a<e.length;a+=1){const l=Wt(i,e,a);o[a]?o[a].p(l,r):(o[a]=zt(l),o[a].c(),o[a].m(t,null))}for(;a<o.length;a+=1)o[a].d(1);o.length=e.length}r&4&&Ie(t,"pb-2",i[2])},d(i){i&&M(t),rn(o,i)}}}function Un(n){let t,e,o;return e=new $t({props:{title:n[3],containerClass:"border-0",titleClass:"text-left text-size-medium bg-gray-300 rounded-md",isPdfGenerating:n[5],$$slots:{default:[Qn]},$$scope:{ctx:n}}}),{c(){t=m("div"),P(e.$$.fragment),v(t,"class","prevent-split")},m(i,r){q(i,t,r),H(e,t,null),o=!0},p(i,[r]){const a={};r&8&&(a.title=i[3]),r&32&&(a.isPdfGenerating=i[5]),r&567&&(a.$$scope={dirty:r,ctx:i}),e.$set(a)},i(i){o||(g(e.$$.fragment,i),o=!0)},o(i){c(e.$$.fragment,i),o=!1},d(i){i&&M(t),E(e)}}}function Kn(n,t,e){let{items:o=[]}=t,{isReassigned:i=!1}=t,{isLast:r=!1}=t,{title:a=""}=t,{nameLabel:l=""}=t,{isPdfGenerating:p}=t;return n.$$set=u=>{"items"in u&&e(0,o=u.items),"isReassigned"in u&&e(1,i=u.isReassigned),"isLast"in u&&e(2,r=u.isLast),"title"in u&&e(3,a=u.title),"nameLabel"in u&&e(4,l=u.nameLabel),"isPdfGenerating"in u&&e(5,p=u.isPdfGenerating)},[o,i,r,a,l,p]}class ht extends nt{constructor(t){super(),it(this,t,Kn,Un,at,{items:0,isReassigned:1,isLast:2,title:3,nameLabel:4,isPdfGenerating:5})}}const Yn=n=>{var i,r,a,l,p;const t={isValid:!0,errorPath:void 0},e=_t({quantityOfWork:je("QUANTITY OF WORK"),qualityOfWork:je("QUALITY OF WORK"),safetyAwareness:je("SAFETY AWARENESS"),knowledgeSkills:je("KNOWLEDGE/SKILLS"),reliability:je("RELIABILITY"),attitude:je("ATTITUDE"),sectionHeadComment:ze().required().label("COMMENT OF IMMEDIATE LINE/SECTION HEAD"),engineeringLicense:je("ENGINEERING LICENSE"),recommendation:je("RECOMMENDATION"),recommendationComment:ze().when("recommendation",{is:u=>(u==null?void 0:u.key)===L.ProbationSectionHeadRecommendation.Terminate,then:u=>u.required().label("Terminate Reason"),otherwise:u=>u.nullable()})}),o=_t().shape({probationConfirmation:je("PROBATION CONFIRMATION"),probationConfirmationComment:ze().when("probationConfirmation",{is:u=>(u==null?void 0:u.key)===L.ProbationDepartmentHeadConfirmation.Terminate,then:u=>u.required().label("Terminate Reason"),otherwise:u=>u.nullable()}),cepConfirmation:((i=n.probationConfirmation)==null?void 0:i.key)!==L.ProbationDepartmentHeadConfirmation.Terminate?je("CEP CONFIRMATION"):_t().nullable(),cepFinalInterview:ze().nullable(),cepPropose:((r=n.probationConfirmation)==null?void 0:r.key)===L.ProbationDepartmentHeadConfirmation.Confirm&&((a=n.cepConfirmation)==null?void 0:a.key)===L.ProbationDepartmentHeadCEP.Propose?ze().nullable().required().label("New CEP"):ze().nullable(),cepComment:((l=n.probationConfirmation)==null?void 0:l.key)===L.ProbationDepartmentHeadConfirmation.Confirm&&((p=n.cepConfirmation)==null?void 0:p.key)===L.ProbationDepartmentHeadCEP.Propose?ze().nullable().required().label("New CEP reason"):ze().nullable(),departmentHeadComment:ze().required().label("Department Head Comment")});try{n.isEditSectionHead&&e.validateSync(n),n.isEditDepartmentHead&&o.validateSync(n)}catch(u){t.isValid=!1,t.errorPath=u.path.split(/\.|\[/),ct.error(u.errors[0])}return t},je=n=>_t({key:ze().nullable().required().label(n)}).nullable();function Vt(n){let t,e,o,i;function r(l){n[19](l)}let a={tableConfig:n[6]};return n[0]!==void 0&&(a.selected=n[0]),e=new Pn({props:a}),n[18](e),U.push(()=>oe(e,"selected",r)),{c(){t=m("div"),P(e.$$.fragment),v(t,"class","overflow-auto max-h-[210px]")},m(l,p){q(l,t,p),H(e,t,null),i=!0},p(l,p){const u={};!o&&p&1&&(o=!0,u.selected=l[0],re(()=>o=!1)),e.$set(u)},i(l){i||(g(e.$$.fragment,l),i=!0)},o(l){c(e.$$.fragment,l),i=!1},d(l){l&&M(t),n[18](null),E(e)}}}function Jn(n){let t,e,o,i,r,a,l,p,u,d,b,S,T,G,R,D,j,W,z,O,J,F,k,N,K,h,A,y,Q;function X($){n[13]($)}let x={label:"Employee ID"};n[2].employeeId!==void 0&&(x.value=n[2].employeeId),i=new bt({props:x}),U.push(()=>oe(i,"value",X));function Se($){n[14]($)}let B={label:"Employee Name"};n[2].employeeName!==void 0&&(B.value=n[2].employeeName),p=new bt({props:B}),U.push(()=>oe(p,"value",Se));function de($){n[15]($)}let se={service:qe.ESSGlobal_GetFunctions};n[2].function!==void 0&&(se.value=n[2].function),S=new Hn({props:se}),U.push(()=>oe(S,"value",de));function he($){n[16]($)}let ce={service:qe.ESSGlobal_GetDepartments,function:n[2].function};n[2].department!==void 0&&(ce.value=n[2].department),D=new En({props:ce}),U.push(()=>oe(D,"value",he));function ee($){n[17]($)}let $e={service:qe.ESSGlobal_GetSections,department:n[2].department};n[2].section!==void 0&&($e.value=n[2].section),O=new yn({props:$e}),U.push(()=>oe(O,"value",ee)),N=new Me({props:{class:"mr-2 w-[96px]",label:"Search",icon:"ic-search",outline:!0}}),N.$on("click",n[7]),h=new Me({props:{clear:!0,label:"Clear",class:"w-[96px]"}}),h.$on("click",n[8]);let V=n[1]&&Vt(n);return{c(){t=m("div"),e=m("div"),o=m("div"),P(i.$$.fragment),a=_(),l=m("div"),P(p.$$.fragment),d=_(),b=m("div"),P(S.$$.fragment),G=_(),R=m("div"),P(D.$$.fragment),W=_(),z=m("div"),P(O.$$.fragment),F=_(),k=m("div"),P(N.$$.fragment),K=_(),P(h.$$.fragment),A=_(),V&&V.c(),y=vt(),v(l,"class","desktop:col-span-2"),v(e,"class","grid desktop:grid-cols-3 grid-cols-1 gap-2"),v(k,"class","text-center py-4")},m($,te){q($,t,te),s(t,e),s(e,o),H(i,o,null),s(e,a),s(e,l),H(p,l,null),s(e,d),s(e,b),H(S,b,null),s(e,G),s(e,R),H(D,R,null),s(e,W),s(e,z),H(O,z,null),s(t,F),s(t,k),H(N,k,null),s(k,K),H(h,k,null),q($,A,te),V&&V.m($,te),q($,y,te),Q=!0},p($,te){const ne={};!r&&te&4&&(r=!0,ne.value=$[2].employeeId,re(()=>r=!1)),i.$set(ne);const me={};!u&&te&4&&(u=!0,me.value=$[2].employeeName,re(()=>u=!1)),p.$set(me);const _e={};!T&&te&4&&(T=!0,_e.value=$[2].function,re(()=>T=!1)),S.$set(_e);const He={};te&4&&(He.function=$[2].function),!j&&te&4&&(j=!0,He.value=$[2].department,re(()=>j=!1)),D.$set(He);const le={};te&4&&(le.department=$[2].department),!J&&te&4&&(J=!0,le.value=$[2].section,re(()=>J=!1)),O.$set(le),$[1]?V?(V.p($,te),te&2&&g(V,1)):(V=Vt($),V.c(),g(V,1),V.m(y.parentNode,y)):V&&(ke(),c(V,1,1,()=>{V=null}),Pe())},i($){Q||(g(i.$$.fragment,$),g(p.$$.fragment,$),g(S.$$.fragment,$),g(D.$$.fragment,$),g(O.$$.fragment,$),g(N.$$.fragment,$),g(h.$$.fragment,$),g(V),Q=!0)},o($){c(i.$$.fragment,$),c(p.$$.fragment,$),c(S.$$.fragment,$),c(D.$$.fragment,$),c(O.$$.fragment,$),c(N.$$.fragment,$),c(h.$$.fragment,$),c(V),Q=!1},d($){$&&M(t),E(i),E(p),E(S),E(D),E(O),E(N),E(h),$&&M(A),V&&V.d($),$&&M(y)}}}function Xn(n){let t;return{c(){t=m("div"),t.innerHTML='<span class="font-weight-bold"><span>Please select employee to reassign</span></span>',v(t,"slot","title")},m(e,o){q(e,t,o)},p:Lt,d(e){e&&M(t)}}}function Zn(n){let t,e,o={nextLabel:"Reassign",nextDisabled:!n[5],onConfirm:n[9],$$slots:{title:[Xn],default:[Jn]},$$scope:{ctx:n}};return t=new fn({props:o}),n[20](t),{c(){P(t.$$.fragment)},m(i,r){H(t,i,r),e=!0},p(i,[r]){const a={};r&32&&(a.nextDisabled=!i[5]),r&8388631&&(a.$$scope={dirty:r,ctx:i}),t.$set(a)},i(i){e||(g(t.$$.fragment,i),e=!0)},o(i){c(t.$$.fragment,i),e=!1},d(i){n[20](null),E(t,i)}}}function xn(n,t,e){let o,{onConfirm:i}=t,{documentNo:r}=t,a=[],l={};const p={documentNo:"",employeeId:"",employeeName:"",function:void 0,department:void 0,section:void 0};let u={...p},d,b,S={columns:[{name:"Employee ID",prop:"employeeId"},{name:"Employee Name",prop:"employeeName"},{name:"Function",prop:"function"},{name:"Department",prop:"department"},{name:"Section",prop:"section"}],getData:(h,A)=>cn.all([Promise.resolve(a==null?void 0:a.length),Promise.resolve(a)]),isStriped:!1,selectable:!0,canSelectAll:!1,onSelect:h=>({}),rowIdentity:"employeeId",isExternalPaging:!1};function T(){qe.ReassignPersons({filter:{...u,documentNo:r}}).then(h=>{e(1,a=h),b&&b.reload()})}function G(){T()}function R(){e(2,u={...p})}function D(){i(Object.values(l)[0]),d.close()}ln(()=>{T()});function j(){e(0,l={}),d.open()}function W(h){n.$$.not_equal(u.employeeId,h)&&(u.employeeId=h,e(2,u))}function z(h){n.$$.not_equal(u.employeeName,h)&&(u.employeeName=h,e(2,u))}function O(h){n.$$.not_equal(u.function,h)&&(u.function=h,e(2,u))}function J(h){n.$$.not_equal(u.department,h)&&(u.department=h,e(2,u))}function F(h){n.$$.not_equal(u.section,h)&&(u.section=h,e(2,u))}function k(h){U[h?"unshift":"push"](()=>{b=h,e(4,b)})}function N(h){l=h,e(0,l)}function K(h){U[h?"unshift":"push"](()=>{d=h,e(3,d)})}return n.$$set=h=>{"onConfirm"in h&&e(10,i=h.onConfirm),"documentNo"in h&&e(11,r=h.documentNo)},n.$$.update=()=>{n.$$.dirty&1&&e(5,o=Object.keys(l).length>0)},[l,a,u,d,b,o,S,G,R,D,i,r,j,W,z,O,J,F,k,N,K]}class ei extends nt{constructor(t){super(),it(this,t,xn,Zn,at,{onConfirm:10,documentNo:11,open:12})}get open(){return this.$$.ctx[12]}}function ti(n){let t,e,o;const i=[{isPrimitive:!0},{placeholder:""},{getOptionList:n[1]},n[2],{value:n[0]}];function r(l){n[3](l)}let a={};for(let l=0;l<i.length;l+=1)a=Rt(a,i[l]);return n[0]!==void 0&&(a.justValue=n[0]),t=new Dn({props:a}),U.push(()=>oe(t,"justValue",r)),t.$on("change",n[4]),{c(){P(t.$$.fragment)},m(l,p){H(t,l,p),o=!0},p(l,[p]){const u=p&7?_n(i,[i[0],i[1],p&2&&{getOptionList:l[1]},p&4&&bn(l[2]),p&1&&{value:l[0]}]):{};!e&&p&1&&(e=!0,u.justValue=l[0],re(()=>e=!1)),t.$set(u)},i(l){o||(g(t.$$.fragment,l),o=!0)},o(l){c(t.$$.fragment,l),o=!1},d(l){E(t,l)}}}function ni(n,t,e){const o=["value"];let i=qt(t,o),{value:r=void 0}=t;function a(){return qe.GetCEPs()}function l(u){r=u,e(0,r)}function p(u){Tt.call(this,n,u)}return n.$$set=u=>{t=Rt(Rt({},t),vn(u)),e(2,i=qt(t,o)),"value"in u&&e(0,r=u.value)},[r,a,i,l,p]}class ii extends nt{constructor(t){super(),it(this,t,ni,ti,at,{value:0})}}function Qt(n,t,e){const o=n.slice();return o[6]=t[e],o}function Ut(n){let t,e,o;function i(a){n[4](a)}let r={isForm:!0,isEnumValue:!0,fullWidth:!0,value:n[6].value,label:n[6].label,labelMultipleLines:!0,name:n[2],disabled:n[3]};return n[0]!==void 0&&(r.group=n[0]),t=new Ot({props:r}),U.push(()=>oe(t,"group",i)),t.$on("change",n[5]),{c(){P(t.$$.fragment)},m(a,l){H(t,a,l),o=!0},p(a,l){const p={};l&2&&(p.value=a[6].value),l&2&&(p.label=a[6].label),l&4&&(p.name=a[2]),l&8&&(p.disabled=a[3]),!e&&l&1&&(e=!0,p.group=a[0],re(()=>e=!1)),t.$set(p)},i(a){o||(g(t.$$.fragment,a),o=!0)},o(a){c(t.$$.fragment,a),o=!1},d(a){E(t,a)}}}function ai(n){let t,e,o=n[1],i=[];for(let a=0;a<o.length;a+=1)i[a]=Ut(Qt(n,o,a));const r=a=>c(i[a],1,1,()=>{i[a]=null});return{c(){for(let a=0;a<i.length;a+=1)i[a].c();t=vt()},m(a,l){for(let p=0;p<i.length;p+=1)i[p]&&i[p].m(a,l);q(a,t,l),e=!0},p(a,[l]){if(l&15){o=a[1];let p;for(p=0;p<o.length;p+=1){const u=Qt(a,o,p);i[p]?(i[p].p(u,l),g(i[p],1)):(i[p]=Ut(u),i[p].c(),g(i[p],1),i[p].m(t.parentNode,t))}for(ke(),p=o.length;p<i.length;p+=1)r(p);Pe()}},i(a){if(!e){for(let l=0;l<o.length;l+=1)g(i[l]);e=!0}},o(a){i=i.filter(Boolean);for(let l=0;l<i.length;l+=1)c(i[l]);e=!1},d(a){rn(i,a),a&&M(t)}}}function oi(n,t,e){let{options:o}=t,{name:i}=t,{group:r}=t,{disabled:a}=t;function l(u){r=u,e(0,r)}function p(u){Tt.call(this,n,u)}return n.$$set=u=>{"options"in u&&e(1,o=u.options),"name"in u&&e(2,i=u.name),"group"in u&&e(0,r=u.group),"disabled"in u&&e(3,a=u.disabled)},[r,o,i,a,l,p]}class Ye extends nt{constructor(t){super(),it(this,t,oi,ai,at,{options:1,name:2,group:0,disabled:3})}}function ri(n){let t,e,o;function i(a){n[3](a)}let r={isForm:!0,autoResize:!0,name:n[1]};return n[0]!==void 0&&(r.value=n[0]),t=new un({props:r}),U.push(()=>oe(t,"value",i)),t.$on("change",n[4]),{c(){P(t.$$.fragment)},m(a,l){H(t,a,l),o=!0},p(a,l){const p={};l&2&&(p.name=a[1]),!e&&l&1&&(e=!0,p.value=a[0],re(()=>e=!1)),t.$set(p)},i(a){o||(g(t.$$.fragment,a),o=!0)},o(a){c(t.$$.fragment,a),o=!1},d(a){E(t,a)}}}function li(n){let t,e=(n[0]??"")+"",o;return{c(){t=m("div"),o=pe(e),v(t,"class","px-2 py-1 bg-gray-100 rounded-lg text-size-medium min-h-[30px]")},m(i,r){q(i,t,r),s(t,o)},p(i,r){r&1&&e!==(e=(i[0]??"")+"")&&be(o,e)},i:Lt,o:Lt,d(i){i&&M(t)}}}function si(n){let t,e,o,i;const r=[li,ri],a=[];function l(p,u){return p[2]?0:1}return t=l(n),e=a[t]=r[t](n),{c(){e.c(),o=vt()},m(p,u){a[t].m(p,u),q(p,o,u),i=!0},p(p,[u]){let d=t;t=l(p),t===d?a[t].p(p,u):(ke(),c(a[d],1,1,()=>{a[d]=null}),Pe(),e=a[t],e?e.p(p,u):(e=a[t]=r[t](p),e.c()),g(e,1),e.m(o.parentNode,o))},i(p){i||(g(e),i=!0)},o(p){c(e),i=!1},d(p){a[t].d(p),p&&M(o)}}}function ui(n,t,e){let{name:o}=t,{value:i}=t,{disabled:r}=t;function a(p){i=p,e(0,i)}function l(p){Tt.call(this,n,p)}return n.$$set=p=>{"name"in p&&e(1,o=p.name),"value"in p&&e(0,i=p.value),"disabled"in p&&e(2,r=p.disabled)},[i,o,r,a,l]}class ft extends nt{constructor(t){super(),it(this,t,ui,si,at,{name:1,value:0,disabled:2})}}function Kt(n){let t,e;return t=new Me({props:{secondary:!0,class:"w-[96px] font-weight-normal",label:"Submit",isLoading:n[2]}}),t.$on("click",n[17]),{c(){P(t.$$.fragment)},m(o,i){H(t,o,i),e=!0},p(o,i){const r={};i[0]&4&&(r.isLoading=o[2]),t.$set(r)},i(o){e||(g(t.$$.fragment,o),e=!0)},o(o){c(t.$$.fragment,o),e=!1},d(o){E(t,o)}}}function Yt(n){let t,e;return t=new Me({props:{secondary2:!0,class:"w-[96px] font-weight-normal",label:"Reassign",isLoading:n[2]}}),t.$on("click",n[19]),{c(){P(t.$$.fragment)},m(o,i){H(t,o,i),e=!0},p(o,i){const r={};i[0]&4&&(r.isLoading=o[2]),t.$set(r)},i(o){e||(g(t.$$.fragment,o),e=!0)},o(o){c(t.$$.fragment,o),e=!1},d(o){E(t,o)}}}function Jt(n){let t,e;return t=new Me({props:{secondary3:!0,class:"w-[120px] font-weight-normal",label:"ส่งกลับเพื่อแก้ไข",isLoading:n[2]}}),t.$on("click",n[21]),{c(){P(t.$$.fragment)},m(o,i){H(t,o,i),e=!0},p(o,i){const r={};i[0]&4&&(r.isLoading=o[2]),t.$set(r)},i(o){e||(g(t.$$.fragment,o),e=!0)},o(o){c(t.$$.fragment,o),e=!1},d(o){E(t,o)}}}function Xt(n){let t,e;return t=new Me({props:{isLoading:n[2],outline:!0,icon:"ic-pdf text-pdf",label:"Upload to Personnel Folder"}}),t.$on("click",n[27]),{c(){P(t.$$.fragment)},m(o,i){H(t,o,i),e=!0},p(o,i){const r={};i[0]&4&&(r.isLoading=o[2]),t.$set(r)},i(o){e||(g(t.$$.fragment,o),e=!0)},o(o){c(t.$$.fragment,o),e=!1},d(o){E(t,o)}}}function Zt(n){let t,e,o,i,r,a,l,p,u;o=new ut({props:{$$slots:{default:[pi]},$$scope:{ctx:n}}}),r=new ut({props:{$$slots:{default:[mi]},$$scope:{ctx:n}}}),l=new ut({props:{$$slots:{default:[gi]},$$scope:{ctx:n}}});let d=n[0].canViewDepartmentHead&&tn(n);return{c(){t=m("div"),e=m("div"),P(o.$$.fragment),i=_(),P(r.$$.fragment),a=_(),P(l.$$.fragment),p=_(),d&&d.c(),v(e,"class","max-w-[1068px] mx-auto space-y-1"),v(t,"class","bg-gray-100 pb-4")},m(b,S){q(b,t,S),s(t,e),H(o,e,null),s(e,i),H(r,e,null),s(e,a),H(l,e,null),s(e,p),d&&d.m(e,null),u=!0},p(b,S){const T={};S[0]&4097|S[2]&64&&(T.$$scope={dirty:S,ctx:b}),o.$set(T);const G={};S[0]&4109|S[2]&64&&(G.$$scope={dirty:S,ctx:b}),r.$set(G);const R={};S[0]&4129|S[2]&64&&(R.$$scope={dirty:S,ctx:b}),l.$set(R),b[0].canViewDepartmentHead?d?(d.p(b,S),S[0]&1&&g(d,1)):(d=tn(b),d.c(),g(d,1),d.m(e,null)):d&&(ke(),c(d,1,1,()=>{d=null}),Pe())},i(b){u||(g(o.$$.fragment,b),g(r.$$.fragment,b),g(l.$$.fragment,b),g(d),u=!0)},o(b){c(o.$$.fragment,b),c(r.$$.fragment,b),c(l.$$.fragment,b),c(d),u=!1},d(b){b&&M(t),E(o),E(r),E(l),d&&d.d()}}}function fi(n){let t,e,o,i,r,a=n[0].employeeId+"",l,p,u,d,b,S,T=n[0].employeeNameEN+"",G,R,D,j,W,z,O=n[0].section+"",J,F,k,N,K,h,A=n[0].department+"",y,Q,X,x,Se,B,de=Ze(n[0].dateJoinedCompany)+"",se,he,ce,ee,$e,V,$=Ze(n[0].dateCompletedProbation)+"",te;return{c(){t=m("div"),e=m("div"),o=m("span"),o.textContent="Employee ID :",i=_(),r=m("span"),l=pe(a),p=_(),u=m("div"),d=m("span"),d.textContent="Employee Name :",b=_(),S=m("span"),G=pe(T),R=_(),D=m("div"),j=m("span"),j.textContent="Section :",W=_(),z=m("span"),J=pe(O),F=_(),k=m("div"),N=m("span"),N.textContent="Department :",K=_(),h=m("span"),y=pe(A),Q=_(),X=m("div"),x=m("span"),x.textContent="Date Joined Company :",Se=_(),B=m("span"),se=pe(de),he=_(),ce=m("div"),ee=m("span"),ee.textContent="Date Completed Probation :",$e=_(),V=m("span"),te=pe($),v(o,"class","text-gray-800"),v(d,"class","text-gray-800"),v(j,"class","text-gray-800"),v(N,"class","text-gray-800"),v(x,"class","text-gray-800"),v(ee,"class","text-gray-800"),v(t,"class","grid gap-1.5 pt-3 _employee-info svelte-psrmln")},m(ne,me){q(ne,t,me),s(t,e),s(e,o),s(e,i),s(e,r),s(r,l),s(t,p),s(t,u),s(u,d),s(u,b),s(u,S),s(S,G),s(t,R),s(t,D),s(D,j),s(D,W),s(D,z),s(z,J),s(t,F),s(t,k),s(k,N),s(k,K),s(k,h),s(h,y),s(t,Q),s(t,X),s(X,x),s(X,Se),s(X,B),s(B,se),s(t,he),s(t,ce),s(ce,ee),s(ce,$e),s(ce,V),s(V,te)},p(ne,me){me[0]&1&&a!==(a=ne[0].employeeId+"")&&be(l,a),me[0]&1&&T!==(T=ne[0].employeeNameEN+"")&&be(G,T),me[0]&1&&O!==(O=ne[0].section+"")&&be(J,O),me[0]&1&&A!==(A=ne[0].department+"")&&be(y,A),me[0]&1&&de!==(de=Ze(ne[0].dateJoinedCompany)+"")&&be(se,de),me[0]&1&&$!==($=Ze(ne[0].dateCompletedProbation)+"")&&be(te,$)},d(ne){ne&&M(t)}}}function pi(n){let t,e;return t=new $t({props:{title:"EMPLOYEE INFORMATION",containerClass:"border-0",titleClass:"text-left text-size-medium bg-gray-300 rounded-md",isPdfGenerating:n[12],$$slots:{default:[fi]},$$scope:{ctx:n}}}),{c(){P(t.$$.fragment)},m(o,i){H(t,o,i),e=!0},p(o,i){const r={};i[0]&4096&&(r.isPdfGenerating=o[12]),i[0]&1|i[2]&64&&(r.$$scope={dirty:i,ctx:o}),t.$set(r)},i(o){e||(g(t.$$.fragment,o),e=!0)},o(o){c(t.$$.fragment,o),e=!1},d(o){E(t,o)}}}function xt(n){let t,e,o,i,r;return e=new Me({props:{outline:!0,primary:!1,class:"w-[96px] font-weight-normal",label:"Cancel",isLoading:n[2]}}),e.$on("click",n[22]),i=new Me({props:{class:"w-[96px] font-weight-normal",label:"Save",isLoading:n[2]}}),i.$on("click",n[23]),{c(){t=m("div"),P(e.$$.fragment),o=_(),P(i.$$.fragment),v(t,"class","flex justify-end gap-2 mb-2 no-print")},m(a,l){q(a,t,l),H(e,t,null),s(t,o),H(i,t,null),r=!0},p(a,l){const p={};l[0]&4&&(p.isLoading=a[2]),e.$set(p);const u={};l[0]&4&&(u.isLoading=a[2]),i.$set(u)},i(a){r||(g(e.$$.fragment,a),g(i.$$.fragment,a),r=!0)},o(a){c(e.$$.fragment,a),c(i.$$.fragment,a),r=!1},d(a){a&&M(t),E(e),E(i)}}}function di(n){var st;let t,e,o,i,r,a,l,p,u,d,b,S,T,G,R,D,j,W,z,O,J,F,k,N,K,h,A,y,Q,X,x,Se,B,de,se,he,ce,ee,$e,V,$,te,ne,me,_e,He,le,ve,Le,ye,ie,ue,Y,Z,fe,Ve,De,Re,Qe,Ee,we,Oe,Fe,Ce,C,ae;function Be(w){n[29](w)}let Te={options:Rn,name:"quantityOfWork",disabled:!n[0].isEditSectionHead};n[3].quantityOfWork!==void 0&&(Te.group=n[3].quantityOfWork),a=new Ye({props:Te}),U.push(()=>oe(a,"group",Be)),a.$on("change",n[25]);function Ge(w){n[30](w)}let We={options:On,name:"qualityOfWork",disabled:!n[0].isEditSectionHead};n[3].qualityOfWork!==void 0&&(We.group=n[3].qualityOfWork),T=new Ye({props:We}),U.push(()=>oe(T,"group",Ge)),T.$on("change",n[25]);function f(w){n[31](w)}let I={options:Tn,name:"safetyAwareness",disabled:!n[0].isEditSectionHead};n[3].safetyAwareness!==void 0&&(I.group=n[3].safetyAwareness),O=new Ye({props:I}),U.push(()=>oe(O,"group",f)),O.$on("change",n[25]);function Ne(w){n[32](w)}let Ae={options:An,name:"knowledgeSkills",disabled:!n[0].isEditSectionHead};n[3].knowledgeSkills!==void 0&&(Ae.group=n[3].knowledgeSkills),A=new Ye({props:Ae}),U.push(()=>oe(A,"group",Ne)),A.$on("change",n[25]);function Ue(w){n[33](w)}let Ke={options:qn,name:"reliability",disabled:!n[0].isEditSectionHead};n[3].reliability!==void 0&&(Ke.group=n[3].reliability),de=new Ye({props:Ke}),U.push(()=>oe(de,"group",Ue)),de.$on("change",n[25]);function xe(w){n[34](w)}let Je={options:Mn,name:"attitude",disabled:!n[0].isEditSectionHead};n[3].attitude!==void 0&&(Je.group=n[3].attitude),$=new Ye({props:Je}),U.push(()=>oe($,"group",xe)),$.$on("change",n[25]);function et(w){n[35](w)}let Xe={name:"sectionHeadComment",disabled:!n[0].isEditSectionHead};n[3].sectionHeadComment!==void 0&&(Xe.value=n[3].sectionHeadComment),le=new ft({props:Xe}),U.push(()=>oe(le,"value",et)),le.$on("change",n[25]);function pt(w){n[36](w)}let ot={options:Fn,name:"engineeringLicense",disabled:!n[0].isEditSectionHead};n[3].engineeringLicense!==void 0&&(ot.group=n[3].engineeringLicense),Z=new Ye({props:ot}),U.push(()=>oe(Z,"group",pt)),Z.$on("change",n[25]);function dt(w){n[37](w)}let rt={options:Bn,name:"recommendation",disabled:!n[0].isEditSectionHead};n[3].recommendation!==void 0&&(rt.group=n[3].recommendation),we=new Ye({props:rt}),U.push(()=>oe(we,"group",dt)),we.$on("change",n[38]);function mt(w){n[39](w)}let lt={name:"recommendationComment",disabled:!(n[0].isEditSectionHead&&((st=n[3].recommendation)==null?void 0:st.key)===L.ProbationSectionHeadRecommendation.Terminate)};return n[3].recommendationComment!==void 0&&(lt.value=n[3].recommendationComment),Ce=new ft({props:lt}),U.push(()=>oe(Ce,"value",mt)),Ce.$on("change",n[25]),{c(){t=m("div"),e=m("div"),o=m("div"),o.textContent="(1) QUANTITY OF WORK",i=_(),r=m("div"),P(a.$$.fragment),p=_(),u=m("div"),d=m("div"),d.textContent="(2) QUALITY OF WORK",b=_(),S=m("div"),P(T.$$.fragment),R=_(),D=m("div"),j=m("div"),j.textContent="(3) SAFETY AWARENESS",W=_(),z=m("div"),P(O.$$.fragment),F=_(),k=m("div"),N=m("div"),N.textContent="(4) KNOWLEDGE/SKILLS",K=_(),h=m("div"),P(A.$$.fragment),Q=_(),X=m("div"),x=m("div"),x.textContent="(5) RELIABILITY",Se=_(),B=m("div"),P(de.$$.fragment),he=_(),ce=m("div"),ee=m("div"),ee.textContent="(6) ATTITUDE",$e=_(),V=m("div"),P($.$$.fragment),ne=_(),me=m("div"),_e=m("div"),_e.textContent="(7) COMMENT OF IMMEDIATE LINE/SECTION HEAD",He=_(),P(le.$$.fragment),Le=_(),ye=m("div"),ie=m("div"),ie.textContent="(8) ENGINEERING LICENSE",ue=_(),Y=m("div"),P(Z.$$.fragment),Ve=_(),De=m("div"),Re=m("div"),Re.textContent="(9) RECOMMENDATION",Qe=_(),Ee=m("div"),P(we.$$.fragment),Fe=_(),P(Ce.$$.fragment),v(o,"class","font-weight-bold text-primary mb-0.5"),v(r,"class","pl-0.5"),v(d,"class","font-weight-bold text-primary mb-0.5"),v(S,"class","pl-0.5"),v(j,"class","font-weight-bold text-primary mb-0.5"),v(z,"class","pl-0.5"),v(N,"class","font-weight-bold text-primary mb-0.5"),v(h,"class","pl-0.5"),v(x,"class","font-weight-bold text-primary mb-0.5"),v(B,"class","pl-0.5"),v(ee,"class","font-weight-bold text-primary mb-0.5"),v(V,"class","pl-0.5"),v(_e,"class","font-weight-bold text-primary mb-1.5"),v(ie,"class","font-weight-bold text-primary mb-0.5"),v(Y,"class","pl-0.5"),v(ye,"class","page-break"),v(Re,"class","font-weight-bold text-primary mb-0.5"),v(Ee,"class","pl-0.5 mb-2"),v(t,"class","space-y-3 pt-3 pb-2 px-4")},m(w,ge){q(w,t,ge),s(t,e),s(e,o),s(e,i),s(e,r),H(a,r,null),s(t,p),s(t,u),s(u,d),s(u,b),s(u,S),H(T,S,null),s(t,R),s(t,D),s(D,j),s(D,W),s(D,z),H(O,z,null),s(t,F),s(t,k),s(k,N),s(k,K),s(k,h),H(A,h,null),s(t,Q),s(t,X),s(X,x),s(X,Se),s(X,B),H(de,B,null),s(t,he),s(t,ce),s(ce,ee),s(ce,$e),s(ce,V),H($,V,null),s(t,ne),s(t,me),s(me,_e),s(me,He),H(le,me,null),s(t,Le),s(t,ye),s(ye,ie),s(ye,ue),s(ye,Y),H(Z,Y,null),s(t,Ve),s(t,De),s(De,Re),s(De,Qe),s(De,Ee),H(we,Ee,null),s(De,Fe),H(Ce,De,null),ae=!0},p(w,ge){var At;const wt={};ge[0]&1&&(wt.disabled=!w[0].isEditSectionHead),!l&&ge[0]&8&&(l=!0,wt.group=w[3].quantityOfWork,re(()=>l=!1)),a.$set(wt);const Ct={};ge[0]&1&&(Ct.disabled=!w[0].isEditSectionHead),!G&&ge[0]&8&&(G=!0,Ct.group=w[3].qualityOfWork,re(()=>G=!1)),T.$set(Ct);const St={};ge[0]&1&&(St.disabled=!w[0].isEditSectionHead),!J&&ge[0]&8&&(J=!0,St.group=w[3].safetyAwareness,re(()=>J=!1)),O.$set(St);const kt={};ge[0]&1&&(kt.disabled=!w[0].isEditSectionHead),!y&&ge[0]&8&&(y=!0,kt.group=w[3].knowledgeSkills,re(()=>y=!1)),A.$set(kt);const Pt={};ge[0]&1&&(Pt.disabled=!w[0].isEditSectionHead),!se&&ge[0]&8&&(se=!0,Pt.group=w[3].reliability,re(()=>se=!1)),de.$set(Pt);const Ht={};ge[0]&1&&(Ht.disabled=!w[0].isEditSectionHead),!te&&ge[0]&8&&(te=!0,Ht.group=w[3].attitude,re(()=>te=!1)),$.$set(Ht);const Et={};ge[0]&1&&(Et.disabled=!w[0].isEditSectionHead),!ve&&ge[0]&8&&(ve=!0,Et.value=w[3].sectionHeadComment,re(()=>ve=!1)),le.$set(Et);const yt={};ge[0]&1&&(yt.disabled=!w[0].isEditSectionHead),!fe&&ge[0]&8&&(fe=!0,yt.group=w[3].engineeringLicense,re(()=>fe=!1)),Z.$set(yt);const Dt={};ge[0]&1&&(Dt.disabled=!w[0].isEditSectionHead),!Oe&&ge[0]&8&&(Oe=!0,Dt.group=w[3].recommendation,re(()=>Oe=!1)),we.$set(Dt);const Nt={};ge[0]&9&&(Nt.disabled=!(w[0].isEditSectionHead&&((At=w[3].recommendation)==null?void 0:At.key)===L.ProbationSectionHeadRecommendation.Terminate)),!C&&ge[0]&8&&(C=!0,Nt.value=w[3].recommendationComment,re(()=>C=!1)),Ce.$set(Nt)},i(w){ae||(g(a.$$.fragment,w),g(T.$$.fragment,w),g(O.$$.fragment,w),g(A.$$.fragment,w),g(de.$$.fragment,w),g($.$$.fragment,w),g(le.$$.fragment,w),g(Z.$$.fragment,w),g(we.$$.fragment,w),g(Ce.$$.fragment,w),ae=!0)},o(w){c(a.$$.fragment,w),c(T.$$.fragment,w),c(O.$$.fragment,w),c(A.$$.fragment,w),c(de.$$.fragment,w),c($.$$.fragment,w),c(le.$$.fragment,w),c(Z.$$.fragment,w),c(we.$$.fragment,w),c(Ce.$$.fragment,w),ae=!1},d(w){w&&M(t),E(a),E(T),E(O),E(A),E(de),E($),E(le),E(Z),E(we),E(Ce)}}}function mi(n){let t,e,o,i=n[0].canSaveSectionHead&&xt(n);return e=new $t({props:{title:"For Immediate Line / Section Head",containerClass:"border-0",titleClass:`text-left text-size-medium rounded-md ${n[0].isEditSectionHead?"bg-highlight-header":"bg-gray-300"}`,isPdfGenerating:n[12],$$slots:{default:[di]},$$scope:{ctx:n}}}),{c(){i&&i.c(),t=_(),P(e.$$.fragment)},m(r,a){i&&i.m(r,a),q(r,t,a),H(e,r,a),o=!0},p(r,a){r[0].canSaveSectionHead?i?(i.p(r,a),a[0]&1&&g(i,1)):(i=xt(r),i.c(),g(i,1),i.m(t.parentNode,t)):i&&(ke(),c(i,1,1,()=>{i=null}),Pe());const l={};a[0]&1&&(l.titleClass=`text-left text-size-medium rounded-md ${r[0].isEditSectionHead?"bg-highlight-header":"bg-gray-300"}`),a[0]&4096&&(l.isPdfGenerating=r[12]),a[0]&9|a[2]&64&&(l.$$scope={dirty:a,ctx:r}),e.$set(l)},i(r){o||(g(i),g(e.$$.fragment,r),o=!0)},o(r){c(i),c(e.$$.fragment,r),o=!1},d(r){i&&i.d(r),r&&M(t),E(e,r)}}}function en(n){let t,e,o;return e=new ht({props:{isReassigned:!0,title:"Reassigned Information",items:n[0].reassignSectionHeads,isPdfGenerating:n[12]}}),{c(){t=m("div"),P(e.$$.fragment),v(t,"class","mb-3.5")},m(i,r){q(i,t,r),H(e,t,null),o=!0},p(i,r){const a={};r[0]&1&&(a.items=i[0].reassignSectionHeads),r[0]&4096&&(a.isPdfGenerating=i[12]),e.$set(a)},i(i){o||(g(e.$$.fragment,i),o=!0)},o(i){c(e.$$.fragment,i),o=!1},d(i){i&&M(t),E(e)}}}function gi(n){var r;let t,e,o,i=((r=n[0].reassignSectionHeads)==null?void 0:r.length)&&en(n);return e=new ht({props:{isLast:!0,title:"Immediate Line / Section Head Submit Information",nameLabel:"Immediate Line/Section Head : ",items:n[5],isPdfGenerating:n[12]}}),{c(){i&&i.c(),t=_(),P(e.$$.fragment)},m(a,l){i&&i.m(a,l),q(a,t,l),H(e,a,l),o=!0},p(a,l){var u;(u=a[0].reassignSectionHeads)!=null&&u.length?i?(i.p(a,l),l[0]&1&&g(i,1)):(i=en(a),i.c(),g(i,1),i.m(t.parentNode,t)):i&&(ke(),c(i,1,1,()=>{i=null}),Pe());const p={};l[0]&32&&(p.items=a[5]),l[0]&4096&&(p.isPdfGenerating=a[12]),e.$set(p)},i(a){o||(g(i),g(e.$$.fragment,a),o=!0)},o(a){c(i),c(e.$$.fragment,a),o=!1},d(a){i&&i.d(a),a&&M(t),E(e,a)}}}function tn(n){let t,e,o,i;return t=new ut({props:{$$slots:{default:[vi]},$$scope:{ctx:n}}}),o=new ut({props:{$$slots:{default:[$i]},$$scope:{ctx:n}}}),{c(){P(t.$$.fragment),e=_(),P(o.$$.fragment)},m(r,a){H(t,r,a),q(r,e,a),H(o,r,a),i=!0},p(r,a){const l={};a[0]&6157|a[2]&64&&(l.$$scope={dirty:a,ctx:r}),t.$set(l);const p={};a[0]&4161|a[2]&64&&(p.$$scope={dirty:a,ctx:r}),o.$set(p)},i(r){i||(g(t.$$.fragment,r),g(o.$$.fragment,r),i=!0)},o(r){c(t.$$.fragment,r),c(o.$$.fragment,r),i=!1},d(r){E(t,r),r&&M(e),E(o,r)}}}function nn(n){let t,e,o,i,r,a,l,p;e=new Me({props:{outline:!0,primary:!1,class:"w-[96px] font-weight-normal",label:"Cancel",isLoading:n[2]}}),e.$on("click",n[22]),i=new Me({props:{class:"w-[96px] font-weight-normal",label:"Save",isLoading:n[2]}}),i.$on("click",n[40]);function u(b){n[41](b)}let d={onConfirm:n[23],isLoading:n[2]};return n[11]!==void 0&&(d.modal=n[11]),a=new Nn({props:d}),U.push(()=>oe(a,"modal",u)),{c(){t=m("div"),P(e.$$.fragment),o=_(),P(i.$$.fragment),r=_(),P(a.$$.fragment),v(t,"class","flex justify-end gap-2 mb-2 no-print")},m(b,S){q(b,t,S),H(e,t,null),s(t,o),H(i,t,null),s(t,r),H(a,t,null),p=!0},p(b,S){const T={};S[0]&4&&(T.isLoading=b[2]),e.$set(T);const G={};S[0]&4&&(G.isLoading=b[2]),i.$set(G);const R={};S[0]&4&&(R.isLoading=b[2]),!l&&S[0]&2048&&(l=!0,R.modal=b[11],re(()=>l=!1)),a.$set(R)},i(b){p||(g(e.$$.fragment,b),g(i.$$.fragment,b),g(a.$$.fragment,b),p=!0)},o(b){c(e.$$.fragment,b),c(i.$$.fragment,b),c(a.$$.fragment,b),p=!1},d(b){b&&M(t),E(e),E(i),E(a)}}}function ci(n){var a;let t,e,o;function i(l){n[49](l)}let r={isForm:!0,disabled:!(n[0].isEditDepartmentHead&&((a=n[3].cepConfirmation)==null?void 0:a.key)===L.ProbationDepartmentHeadCEP.Propose)};return n[3].cepPropose!==void 0&&(r.value=n[3].cepPropose),t=new ii({props:r}),U.push(()=>oe(t,"value",i)),t.$on("change",n[25]),{c(){P(t.$$.fragment)},m(l,p){H(t,l,p),o=!0},p(l,p){var d;const u={};p[0]&9&&(u.disabled=!(l[0].isEditDepartmentHead&&((d=l[3].cepConfirmation)==null?void 0:d.key)===L.ProbationDepartmentHeadCEP.Propose)),!e&&p[0]&8&&(e=!0,u.value=l[3].cepPropose,re(()=>e=!1)),t.$set(u)},i(l){o||(g(t.$$.fragment,l),o=!0)},o(l){c(t.$$.fragment,l),o=!1},d(l){E(t,l)}}}function _i(n){let t,e;return t=new bt({props:{isForm:!0,name:"CEPs",value:n[3].cepPropose,disabled:!0}}),{c(){P(t.$$.fragment)},m(o,i){H(t,o,i),e=!0},p(o,i){const r={};i[0]&8&&(r.value=o[3].cepPropose),t.$set(r)},i(o){e||(g(t.$$.fragment,o),e=!0)},o(o){c(t.$$.fragment,o),e=!1},d(o){E(t,o)}}}function bi(n){var Qe,Ee,we,Oe,Fe,Ce;let t,e,o,i,r,a,l,p,u,d,b,S,T,G,R,D,j,W,z,O,J,F,k,N,K,h,A,y,Q,X,x,Se,B,de,se,he,ce,ee,$e,V,$,te,ne;function me(C){n[42](C)}let _e={options:Gn,name:"probationConfirmation",disabled:!n[0].isEditDepartmentHead};n[3].probationConfirmation!==void 0&&(_e.group=n[3].probationConfirmation),a=new Ye({props:_e}),U.push(()=>oe(a,"group",me)),a.$on("change",n[43]);function He(C){n[44](C)}let le={name:"probationConfirmationComment",disabled:!(n[0].isEditDepartmentHead&&((Qe=n[3].probationConfirmation)==null?void 0:Qe.key)===L.ProbationDepartmentHeadConfirmation.Terminate)};n[3].probationConfirmationComment!==void 0&&(le.value=n[3].probationConfirmationComment),u=new ft({props:le}),U.push(()=>oe(u,"value",He)),u.$on("change",n[25]);function ve(C){n[45](C)}let Le={isForm:!0,fullWidth:!0,isEnumValue:!0,value:L.ProbationDepartmentHeadCEP.Confirm,label:"To confirm CEP as final interview :",labelMultipleLines:!0,name:"cepConfirmation",disabled:!(n[0].isEditDepartmentHead&&((we=(Ee=n[0].cepFinalInterview)==null?void 0:Ee.trim)!=null&&we.call(Ee))&&((Oe=n[3].probationConfirmation)==null?void 0:Oe.key)!==L.ProbationDepartmentHeadConfirmation.Terminate)};n[3].cepConfirmation!==void 0&&(Le.group=n[3].cepConfirmation),W=new Ot({props:Le}),U.push(()=>oe(W,"group",ve)),W.$on("change",n[46]),F=new bt({props:{isForm:!0,name:"cepFinalInterview",value:n[0].cepFinalInterview,disabled:!0}});function ye(C){n[47](C)}let ie={isForm:!0,fullWidth:!0,isEnumValue:!0,value:L.ProbationDepartmentHeadCEP.Propose,label:"To propose new CEP",labelMultipleLines:!0,name:"cepConfirmation",disabled:!(n[0].isEditDepartmentHead&&((Fe=n[3].probationConfirmation)==null?void 0:Fe.key)!==L.ProbationDepartmentHeadConfirmation.Terminate)};n[3].cepConfirmation!==void 0&&(ie.group=n[3].cepConfirmation),h=new Ot({props:ie}),U.push(()=>oe(h,"group",ye)),h.$on("change",n[48]);const ue=[_i,ci],Y=[];function Z(C,ae){return C[12]?0:1}X=Z(n),x=Y[X]=ue[X](n);function fe(C){n[50](C)}let Ve={name:"cepComment",disabled:!(n[0].isEditDepartmentHead&&((Ce=n[3].cepConfirmation)==null?void 0:Ce.key)===L.ProbationDepartmentHeadCEP.Propose)};n[3].cepComment!==void 0&&(Ve.value=n[3].cepComment),se=new ft({props:Ve}),U.push(()=>oe(se,"value",fe)),se.$on("change",n[25]);function De(C){n[51](C)}let Re={name:"departmentHeadComment",disabled:!n[0].isEditDepartmentHead};return n[3].departmentHeadComment!==void 0&&(Re.value=n[3].departmentHeadComment),$=new ft({props:Re}),U.push(()=>oe($,"value",De)),$.$on("change",n[25]),{c(){t=m("div"),e=m("div"),o=m("div"),o.textContent="(1) PROBATION CONFIRMATION",i=_(),r=m("div"),P(a.$$.fragment),p=_(),P(u.$$.fragment),b=_(),S=m("div"),T=m("div"),T.innerHTML=`<div class="font-weight-bold mb-1">(2) CEP CONFIRMATION</div> 
                        <div class="text-[11px]">(Any question, please contact PMBP)</div>`,G=_(),R=m("div"),D=m("div"),j=m("div"),P(W.$$.fragment),O=_(),J=m("div"),P(F.$$.fragment),k=_(),N=m("div"),K=m("div"),P(h.$$.fragment),y=_(),Q=m("div"),x.c(),Se=_(),B=m("div"),B.textContent="for the following reason",de=_(),P(se.$$.fragment),ce=_(),ee=m("div"),$e=m("div"),$e.innerHTML='<div class="font-weight-bold mb-1">(3) COMMENT</div>',V=_(),P($.$$.fragment),v(o,"class","font-weight-bold text-primary mb-0.5"),v(r,"class","pl-0.5 mb-2"),v(T,"class","text-primary mb-0.5"),v(j,"class","w-[220px]"),v(J,"class","min-w-[102px]"),v(D,"class","flex flex-wrap mb-2"),v(K,"class","w-[146px]"),v(Q,"class","w-[190px]"),v(B,"class","pl-2"),v(N,"class","flex items-center flex-wrap gap-y-1"),v(R,"class","pl-0.5 mb-2"),v($e,"class","text-primary mb-0.5"),v(t,"class","space-y-3 pt-3 pb-2 px-4")},m(C,ae){q(C,t,ae),s(t,e),s(e,o),s(e,i),s(e,r),H(a,r,null),s(e,p),H(u,e,null),s(t,b),s(t,S),s(S,T),s(S,G),s(S,R),s(R,D),s(D,j),H(W,j,null),s(D,O),s(D,J),H(F,J,null),s(R,k),s(R,N),s(N,K),H(h,K,null),s(N,y),s(N,Q),Y[X].m(Q,null),s(N,Se),s(N,B),s(S,de),H(se,S,null),s(t,ce),s(t,ee),s(ee,$e),s(ee,V),H($,ee,null),ne=!0},p(C,ae){var Ue,Ke,xe,Je,et,Xe;const Be={};ae[0]&1&&(Be.disabled=!C[0].isEditDepartmentHead),!l&&ae[0]&8&&(l=!0,Be.group=C[3].probationConfirmation,re(()=>l=!1)),a.$set(Be);const Te={};ae[0]&9&&(Te.disabled=!(C[0].isEditDepartmentHead&&((Ue=C[3].probationConfirmation)==null?void 0:Ue.key)===L.ProbationDepartmentHeadConfirmation.Terminate)),!d&&ae[0]&8&&(d=!0,Te.value=C[3].probationConfirmationComment,re(()=>d=!1)),u.$set(Te);const Ge={};ae[0]&9&&(Ge.disabled=!(C[0].isEditDepartmentHead&&((xe=(Ke=C[0].cepFinalInterview)==null?void 0:Ke.trim)!=null&&xe.call(Ke))&&((Je=C[3].probationConfirmation)==null?void 0:Je.key)!==L.ProbationDepartmentHeadConfirmation.Terminate)),!z&&ae[0]&8&&(z=!0,Ge.group=C[3].cepConfirmation,re(()=>z=!1)),W.$set(Ge);const We={};ae[0]&1&&(We.value=C[0].cepFinalInterview),F.$set(We);const f={};ae[0]&9&&(f.disabled=!(C[0].isEditDepartmentHead&&((et=C[3].probationConfirmation)==null?void 0:et.key)!==L.ProbationDepartmentHeadConfirmation.Terminate)),!A&&ae[0]&8&&(A=!0,f.group=C[3].cepConfirmation,re(()=>A=!1)),h.$set(f);let I=X;X=Z(C),X===I?Y[X].p(C,ae):(ke(),c(Y[I],1,1,()=>{Y[I]=null}),Pe(),x=Y[X],x?x.p(C,ae):(x=Y[X]=ue[X](C),x.c()),g(x,1),x.m(Q,null));const Ne={};ae[0]&9&&(Ne.disabled=!(C[0].isEditDepartmentHead&&((Xe=C[3].cepConfirmation)==null?void 0:Xe.key)===L.ProbationDepartmentHeadCEP.Propose)),!he&&ae[0]&8&&(he=!0,Ne.value=C[3].cepComment,re(()=>he=!1)),se.$set(Ne);const Ae={};ae[0]&1&&(Ae.disabled=!C[0].isEditDepartmentHead),!te&&ae[0]&8&&(te=!0,Ae.value=C[3].departmentHeadComment,re(()=>te=!1)),$.$set(Ae)},i(C){ne||(g(a.$$.fragment,C),g(u.$$.fragment,C),g(W.$$.fragment,C),g(F.$$.fragment,C),g(h.$$.fragment,C),g(x),g(se.$$.fragment,C),g($.$$.fragment,C),ne=!0)},o(C){c(a.$$.fragment,C),c(u.$$.fragment,C),c(W.$$.fragment,C),c(F.$$.fragment,C),c(h.$$.fragment,C),c(x),c(se.$$.fragment,C),c($.$$.fragment,C),ne=!1},d(C){C&&M(t),E(a),E(u),E(W),E(F),E(h),Y[X].d(),E(se),E($)}}}function vi(n){let t,e,o,i=n[0].canSaveDepartmentHead&&nn(n);return e=new $t({props:{title:"For Department Head",containerClass:"border-0",titleClass:`text-left text-size-medium rounded-md ${n[0].isEditDepartmentHead?"bg-highlight-header":"bg-gray-300"}`,isPdfGenerating:n[12],$$slots:{default:[bi]},$$scope:{ctx:n}}}),{c(){i&&i.c(),t=_(),P(e.$$.fragment)},m(r,a){i&&i.m(r,a),q(r,t,a),H(e,r,a),o=!0},p(r,a){r[0].canSaveDepartmentHead?i?(i.p(r,a),a[0]&1&&g(i,1)):(i=nn(r),i.c(),g(i,1),i.m(t.parentNode,t)):i&&(ke(),c(i,1,1,()=>{i=null}),Pe());const l={};a[0]&1&&(l.titleClass=`text-left text-size-medium rounded-md ${r[0].isEditDepartmentHead?"bg-highlight-header":"bg-gray-300"}`),a[0]&4096&&(l.isPdfGenerating=r[12]),a[0]&4105|a[2]&64&&(l.$$scope={dirty:a,ctx:r}),e.$set(l)},i(r){o||(g(i),g(e.$$.fragment,r),o=!0)},o(r){c(i),c(e.$$.fragment,r),o=!1},d(r){i&&i.d(r),r&&M(t),E(e,r)}}}function an(n){let t,e,o;return e=new ht({props:{isReassigned:!0,title:"Reassigned Information",items:n[0].reassignDepartmentHeads,isPdfGenerating:n[12]}}),{c(){t=m("div"),P(e.$$.fragment),v(t,"class","mb-3.5")},m(i,r){q(i,t,r),H(e,t,null),o=!0},p(i,r){const a={};r[0]&1&&(a.items=i[0].reassignDepartmentHeads),r[0]&4096&&(a.isPdfGenerating=i[12]),e.$set(a)},i(i){o||(g(e.$$.fragment,i),o=!0)},o(i){c(e.$$.fragment,i),o=!1},d(i){i&&M(t),E(e)}}}function $i(n){let t,e,o,i=n[0].reassignDepartmentHeads&&an(n);return e=new ht({props:{isLast:!0,title:"Department Head Submitted Information",nameLabel:"Department Head : ",items:n[6],isPdfGenerating:n[12]}}),{c(){i&&i.c(),t=_(),P(e.$$.fragment)},m(r,a){i&&i.m(r,a),q(r,t,a),H(e,r,a),o=!0},p(r,a){r[0].reassignDepartmentHeads?i?(i.p(r,a),a[0]&1&&g(i,1)):(i=an(r),i.c(),g(i,1),i.m(t.parentNode,t)):i&&(ke(),c(i,1,1,()=>{i=null}),Pe());const l={};a[0]&64&&(l.items=r[6]),a[0]&4096&&(l.isPdfGenerating=r[12]),e.$set(l)},i(r){o||(g(i),g(e.$$.fragment,r),o=!0)},o(r){c(i),c(e.$$.fragment,r),o=!1},d(r){i&&i.d(r),r&&M(t),E(e,r)}}}function on(n){let t,e,o,i;function r(l){n[53](l)}let a={autoResize:!0,label:"กรอกความคิดเห็น (Comment)",required:!0};return n[4]!==void 0&&(a.value=n[4]),e=new un({props:a}),U.push(()=>oe(e,"value",r)),{c(){t=m("div"),P(e.$$.fragment)},m(l,p){q(l,t,p),H(e,t,null),i=!0},p(l,p){const u={};!o&&p[0]&16&&(o=!0,u.value=l[4],re(()=>o=!1)),e.$set(u)},i(l){i||(g(e.$$.fragment,l),i=!0)},o(l){c(e.$$.fragment,l),i=!1},d(l){l&&M(t),E(e)}}}function hi(n){let t,e,o,i,r,a=n[14].text+"",l,p,u,d,b,S,T,G,R=n[14].textEN+"",D,j,W,z,O,J,F,k=n[14].state!==n[1].Submit&&on(n);return{c(){t=m("div"),e=m("p"),o=m("span"),o.textContent="คุณต้องการ",i=_(),r=m("span"),l=pe(a),u=_(),d=m("span"),d.textContent="ใช่หรือไม่ ?",b=pe(`
        (`),S=m("span"),S.textContent="Do you want to",T=_(),G=m("span"),D=pe(R),W=_(),z=m("span"),z.textContent="?",O=pe(")"),J=_(),k&&k.c(),v(r,"class",p=gt(n[14].color)+" svelte-psrmln"),v(G,"class",j=gt(n[14].color)+" svelte-psrmln"),v(e,"class","text-center pb-3 text-size-xlarge")},m(N,K){q(N,t,K),s(t,e),s(e,o),s(e,i),s(e,r),s(r,l),s(e,u),s(e,d),s(e,b),s(e,S),s(e,T),s(e,G),s(G,D),s(e,W),s(e,z),s(e,O),s(t,J),k&&k.m(t,null),F=!0},p(N,K){(!F||K[0]&16384)&&a!==(a=N[14].text+"")&&be(l,a),(!F||K[0]&16384&&p!==(p=gt(N[14].color)+" svelte-psrmln"))&&v(r,"class",p),(!F||K[0]&16384)&&R!==(R=N[14].textEN+"")&&be(D,R),(!F||K[0]&16384&&j!==(j=gt(N[14].color)+" svelte-psrmln"))&&v(G,"class",j),N[14].state!==N[1].Submit?k?(k.p(N,K),K[0]&16386&&g(k,1)):(k=on(N),k.c(),g(k,1),k.m(t,null)):k&&(ke(),c(k,1,1,()=>{k=null}),Pe())},i(N){F||(g(k),F=!0)},o(N){c(k),F=!1},d(N){N&&M(t),k&&k.d()}}}function wi(n){let t,e,o,i=n[14].text+"",r,a,l=(n[14].textEN?n[14].textEN[0].toUpperCase()+n[14].textEN.slice(1):"")+"",p,u;return{c(){t=m("div"),e=m("span"),o=pe("ยืนยันการ "),r=pe(i),a=pe(" ("),p=pe(l),u=pe(" confirmation)"),v(e,"class","font-weight-bold"),v(t,"slot","title")},m(d,b){q(d,t,b),s(t,e),s(e,o),s(e,r),s(e,a),s(e,p),s(e,u)},p(d,b){b[0]&16384&&i!==(i=d[14].text+"")&&be(r,i),b[0]&16384&&l!==(l=(d[14].textEN?d[14].textEN[0].toUpperCase()+d[14].textEN.slice(1):"")+"")&&be(p,l)},d(d){d&&M(t)}}}function Ci(n){var Ee,we,Oe,Fe,Ce,C,ae,Be,Te,Ge,We;let t,e,o,i,r,a,l,p,u,d=(Bt[(we=(Ee=n[0])==null?void 0:Ee.companyName)==null?void 0:we.toLowerCase()]??"")+"",b,S,T,G,R,D,j,W,z,O=(((Oe=n[0])==null?void 0:Oe.documentNo)??"-")+"",J,F,k,N,K,h,A=(It[(Ce=(Fe=n[0])==null?void 0:Fe.currentStatus)==null?void 0:Ce.value]??"-")+"",y,Q,X,x,Se,B,de,se,he,ce,ee,$e,V,$,te,ne,me,_e,He,le,ve,Le,ye;e=new hn({props:{isShow:n[2]}});let ie=((C=n[0])==null?void 0:C.canSubmit)&&Kt(n),ue=((ae=n[0])==null?void 0:ae.canReassign)&&Yt(n),Y=((Be=n[0])==null?void 0:Be.canSendBack)&&Jt(n),Z=((Te=n[0])==null?void 0:Te.canUploadPersonalFolder)&&Xt(n);ee=new Me({props:{isLoading:n[2],outline:!0,icon:"ic-pdf text-pdf",label:"Generate PDF (DEBUG ONLY)"}}),ee.$on("click",n[28]);let fe=n[0]&&Zt(n),Ve={isLoading:n[2],nextLabel:n[14].text,onConfirm:n[24],$$slots:{title:[wi],default:[hi]},$$scope:{ctx:n}};$=new fn({props:Ve}),n[54]($);let De={};ne=new Sn({props:De}),n[55](ne);let Re={mapStatusText:It,histories:(Ge=n[0])==null?void 0:Ge.approvalHistories};_e=new kn({props:Re}),n[56](_e);let Qe={onConfirm:n[20],documentNo:(We=n[0])==null?void 0:We.documentNo};return le=new ei({props:Qe}),n[57](le),{c(){t=m("div"),P(e.$$.fragment),o=_(),i=m("div"),r=m("div"),a=m("div"),a.innerHTML=`<span class="icon text-secondary2 w-6 h-6 _g-icon-page"><i class="ic ic-days-square"></i></span> 
          <div><div class="leading-tight text-size-normal">Employee 180 days Probationary Period</div> 
            <div class="font-weight-bold text-size-xlarge leading-tight">Employee 180 Days Probation</div></div>`,l=_(),p=m("div"),u=m("div"),b=pe(d),S=_(),T=m("div"),T.textContent="PERFORMANCE APPRAISAL UPON COMPLETION OF PROBATIONARY PERIOD",G=_(),R=m("div"),D=m("div"),j=m("div"),j.textContent="Document No. :",W=_(),z=m("div"),J=pe(O),F=_(),k=m("div"),N=m("div"),N.textContent="Current Status :",K=_(),h=m("div"),y=pe(A),Q=_(),X=m("div"),x=m("span"),x.innerHTML=`<span class="icon text-gray-800"><i class="ic ic-history"></i></span> 
              <span class="text-size-normal underline">ประวัติการประเมินผลการทดลองงาน</span>`,Se=_(),B=m("div"),ie&&ie.c(),de=_(),ue&&ue.c(),se=_(),Y&&Y.c(),he=_(),Z&&Z.c(),ce=_(),P(ee.$$.fragment),$e=_(),fe&&fe.c(),V=_(),P($.$$.fragment),te=_(),P(ne.$$.fragment),me=_(),P(_e.$$.fragment),He=_(),P(le.$$.fragment),v(a,"class","icon-text flex mb-4 text-[3.6rem]"),v(u,"class","text-reject mb-1"),v(T,"class","text-primary"),v(p,"class","text-size-medium font-weight-bold mb-2 _header svelte-psrmln"),v(j,"class","text-gray-900"),v(z,"class","font-weight-bold"),v(D,"class","flex gap-1"),v(N,"class","text-gray-900"),v(h,"class","font-weight-bold"),v(k,"class","flex gap-1 no-print"),v(x,"class","icon-text text-size-xlarge cursor-pointer"),v(X,"class","mb-3 desktop:mb-0 no-print"),v(B,"class","flex desktop:justify-end desktop:gap-2 no-print"),Ie(B,"justify-end",n[15]<3),Ie(B,"gap-2",n[15]<3),Ie(B,"justify-between",n[15]===3),v(R,"class","flex items-center justify-between pr-4 flex-wrap _header svelte-psrmln"),v(r,"class","bg-gray-100 p-2"),v(i,"class","print-body svelte-psrmln"),Ie(i,"_generating",n[12]),v(t,"class","border border-gray-400 rounded-md overflow-hidden relative")},m(f,I){q(f,t,I),H(e,t,null),s(t,o),s(t,i),s(i,r),s(r,a),s(r,l),s(r,p),s(p,u),s(u,b),s(p,S),s(p,T),s(r,G),s(r,R),s(R,D),s(D,j),s(D,W),s(D,z),s(z,J),s(R,F),s(R,k),s(k,N),s(k,K),s(k,h),s(h,y),s(R,Q),s(R,X),s(X,x),s(R,Se),s(R,B),ie&&ie.m(B,null),s(B,de),ue&&ue.m(B,null),s(B,se),Y&&Y.m(B,null),s(B,he),Z&&Z.m(B,null),s(B,ce),H(ee,B,null),s(i,$e),fe&&fe.m(i,null),n[52](i),q(f,V,I),H($,f,I),q(f,te,I),H(ne,f,I),q(f,me,I),H(_e,f,I),q(f,He,I),H(le,f,I),ve=!0,Le||(ye=sn(x,"click",n[16]),Le=!0)},p(f,I){var et,Xe,pt,ot,dt,rt,mt,lt,st,w,ge;const Ne={};I[0]&4&&(Ne.isShow=f[2]),e.$set(Ne),(!ve||I[0]&1)&&d!==(d=(Bt[(Xe=(et=f[0])==null?void 0:et.companyName)==null?void 0:Xe.toLowerCase()]??"")+"")&&be(b,d),(!ve||I[0]&1)&&O!==(O=(((pt=f[0])==null?void 0:pt.documentNo)??"-")+"")&&be(J,O),(!ve||I[0]&1)&&A!==(A=(It[(dt=(ot=f[0])==null?void 0:ot.currentStatus)==null?void 0:dt.value]??"-")+"")&&be(y,A),(rt=f[0])!=null&&rt.canSubmit?ie?(ie.p(f,I),I[0]&1&&g(ie,1)):(ie=Kt(f),ie.c(),g(ie,1),ie.m(B,de)):ie&&(ke(),c(ie,1,1,()=>{ie=null}),Pe()),(mt=f[0])!=null&&mt.canReassign?ue?(ue.p(f,I),I[0]&1&&g(ue,1)):(ue=Yt(f),ue.c(),g(ue,1),ue.m(B,se)):ue&&(ke(),c(ue,1,1,()=>{ue=null}),Pe()),(lt=f[0])!=null&&lt.canSendBack?Y?(Y.p(f,I),I[0]&1&&g(Y,1)):(Y=Jt(f),Y.c(),g(Y,1),Y.m(B,he)):Y&&(ke(),c(Y,1,1,()=>{Y=null}),Pe()),(st=f[0])!=null&&st.canUploadPersonalFolder?Z?(Z.p(f,I),I[0]&1&&g(Z,1)):(Z=Xt(f),Z.c(),g(Z,1),Z.m(B,ce)):Z&&(ke(),c(Z,1,1,()=>{Z=null}),Pe());const Ae={};I[0]&4&&(Ae.isLoading=f[2]),ee.$set(Ae),(!ve||I[0]&32768)&&Ie(B,"justify-end",f[15]<3),(!ve||I[0]&32768)&&Ie(B,"gap-2",f[15]<3),(!ve||I[0]&32768)&&Ie(B,"justify-between",f[15]===3),f[0]?fe?(fe.p(f,I),I[0]&1&&g(fe,1)):(fe=Zt(f),fe.c(),g(fe,1),fe.m(i,null)):fe&&(ke(),c(fe,1,1,()=>{fe=null}),Pe()),(!ve||I[0]&4096)&&Ie(i,"_generating",f[12]);const Ue={};I[0]&4&&(Ue.isLoading=f[2]),I[0]&16384&&(Ue.nextLabel=f[14].text),I[0]&16402|I[2]&64&&(Ue.$$scope={dirty:I,ctx:f}),$.$set(Ue);const Ke={};ne.$set(Ke);const xe={};I[0]&1&&(xe.histories=(w=f[0])==null?void 0:w.approvalHistories),_e.$set(xe);const Je={};I[0]&1&&(Je.documentNo=(ge=f[0])==null?void 0:ge.documentNo),le.$set(Je)},i(f){ve||(g(e.$$.fragment,f),g(ie),g(ue),g(Y),g(Z),g(ee.$$.fragment,f),g(fe),g($.$$.fragment,f),g(ne.$$.fragment,f),g(_e.$$.fragment,f),g(le.$$.fragment,f),ve=!0)},o(f){c(e.$$.fragment,f),c(ie),c(ue),c(Y),c(Z),c(ee.$$.fragment,f),c(fe),c($.$$.fragment,f),c(ne.$$.fragment,f),c(_e.$$.fragment,f),c(le.$$.fragment,f),ve=!1},d(f){f&&M(t),E(e),ie&&ie.d(),ue&&ue.d(),Y&&Y.d(),Z&&Z.d(),E(ee),fe&&fe.d(),n[52](null),f&&M(V),n[54](null),E($,f),f&&M(te),n[55](null),E(ne,f),f&&M(me),n[56](null),E(_e,f),f&&M(He),n[57](null),E(le,f),Le=!1,ye()}}}function Si(n){let t,e,o,i;return t=new $n({props:{$$slots:{default:[Ci]},$$scope:{ctx:n}}}),{c(){P(t.$$.fragment)},m(r,a){H(t,r,a),e=!0,o||(i=sn(window,"beforeunload",n[26]),o=!0)},p(r,a){const l={};a[0]&65535|a[2]&64&&(l.$$scope={dirty:a,ctx:r}),t.$set(l)},i(r){e||(g(t.$$.fragment,r),e=!0)},o(r){c(t.$$.fragment,r),e=!1},d(r){E(t,r),o=!1,i()}}}function ki(n,t,e){let o;var i;(function(f){f.Submit="Submit",f.SendBack="SendBack",f.Reassign="Reassign"})(i||(i={}));const r=Mt.parent??Ft.ProbationaryApproveList,a=Mt.probationId??"";let l=!1,p=!1,u,d,b="",S=[],T=[],G,R,D,j,W,z,O=!1,J,F={};function k(){e(2,l=!0),qe.GetProbationaryDetail({probationaryId:a}).then(f=>{f?(e(2,l=!1),N(f)):tt(r)}).catch(()=>{e(2,l=!1)})}function N(f){var I,Ne;e(0,u=f),e(3,d={...u}),u.isEditDepartmentHead&&!((Ne=(I=u.cepFinalInterview)==null?void 0:I.trim)!=null&&Ne.call(I))&&e(3,d.cepConfirmation={enumName:"",key:L.ProbationDepartmentHeadCEP.Propose,value:L.ProbationDepartmentHeadCEP.Propose},d),e(5,S=[{name:u.sectionHeadName,position:u.sectionHeadPosition,submittedDate:u.sectionHeadSubmittedDate}]),e(6,T=[{name:u.departmentHeadName,position:u.departmentHeadPosition,submittedDate:u.departmentHeadSubmittedDate}])}function K(){j.open()}function h(){Yn(d).isValid&&(e(4,b=""),e(14,F={state:i.Submit,text:i.Submit,textEN:i.Submit,color:"text-secondary",action:A}),W.open())}async function A(){var f;e(2,l=!0);try{e(0,u=await qe.SubmitProbationary({probationDetail:d,comment:b})),e(0,u.departmentHeadSubmittedDate=new Date,u),e(3,d={...u}),W.close(),p=!1,await Gt(),((f=u==null?void 0:u.currentStatus)==null?void 0:f.key)===L.ProbationApproveStatus.WaitingForApprovalDepartmentHead?await y():(e(2,l=!1),D.success("Submit Successfully").then(()=>{tt(r)}))}catch(I){console.log("catch",I),e(2,l=!1)}}async function y(f=!0){e(12,O=!0),await Gt();const I="probation-detail",Ne=await wn.export(J,{fileName:I,margin:!1,keepTogether:".prevent-split",scale:.6,save:!f});if(f){const Ae=await Cn({base64:Ne,name:I,parentId:u.probationId});Q(Ae)}else e(12,O=!1)}async function Q(f){qe.ESSService_PersonelFolder({fileId:f,employeeId:u.employeeId,recordId:u.probationId}).then(()=>{e(12,O=!1),e(2,l=!1),D.success("Submit Successfully").then(()=>{tt(r)})}).catch(()=>{e(12,O=!1),e(2,l=!1),ct.error("Personnel Folder Error")})}function X(){G.open()}function x(f){R=f,e(4,b=""),e(14,F={state:i.Reassign,text:i.Reassign,textEN:i.Reassign,color:"text-secondary2",action:Se}),W.open()}function Se(){e(2,l=!0),qe.ReassignProbationary({probationId:u.probationId,reassignPerson:{...R,comment:b},status:u.currentStatus.key}).then(()=>{e(2,l=!1),p=!1,D.success("Reassign Successfully").then(()=>{tt(r)})}).catch(()=>{e(2,l=!1)})}function B(){e(4,b=""),e(14,F={state:i.Reassign,text:"ส่งกลับเพื่อแก้ไข",textEN:"send back to revise",color:"text-secondary3",action:de}),W.open()}function de(){e(2,l=!0),qe.RecorrectProbationary({probationId:u.probationId,comment:b}).then(()=>{e(2,l=!1),p=!1,D.success("ส่งกลับเพื่อแก้ไขสำเร็จ").then(()=>{tt(r)})}).catch(()=>{e(2,l=!1)})}function se(){tt(r)}function he(){e(2,l=!0),qe.SaveProbationary({probationDetail:d}).then(f=>{e(2,l=!1),p=!1,z.close(),a===null&&f.probationId?D.success("Save Successfully").then(()=>{tt(Ft.ProbationaryDetail,{applicationId:f.probationId,parent:r})}):ct.success("Save Successfully")}).catch(()=>{e(2,l=!1)})}function ce(){b.trim()||F.state===i.Submit?F.action():ct.error("โปรดกรอกความคิดเห็น")}function ee(){p=!0}function $e(f){if(p)if(f)f.returnValue="Changes you made may not be saved.";else return confirm("Changes you made may not be saved.");return!0}ln(()=>{k()});const V=()=>y(),$=()=>y(!1);function te(f){n.$$.not_equal(d.quantityOfWork,f)&&(d.quantityOfWork=f,e(3,d))}function ne(f){n.$$.not_equal(d.qualityOfWork,f)&&(d.qualityOfWork=f,e(3,d))}function me(f){n.$$.not_equal(d.safetyAwareness,f)&&(d.safetyAwareness=f,e(3,d))}function _e(f){n.$$.not_equal(d.knowledgeSkills,f)&&(d.knowledgeSkills=f,e(3,d))}function He(f){n.$$.not_equal(d.reliability,f)&&(d.reliability=f,e(3,d))}function le(f){n.$$.not_equal(d.attitude,f)&&(d.attitude=f,e(3,d))}function ve(f){n.$$.not_equal(d.sectionHeadComment,f)&&(d.sectionHeadComment=f,e(3,d))}function Le(f){n.$$.not_equal(d.engineeringLicense,f)&&(d.engineeringLicense=f,e(3,d))}function ye(f){n.$$.not_equal(d.recommendation,f)&&(d.recommendation=f,e(3,d))}const ie=()=>{ee(),e(3,d.recommendationComment="",d)};function ue(f){n.$$.not_equal(d.recommendationComment,f)&&(d.recommendationComment=f,e(3,d))}const Y=()=>z.open();function Z(f){z=f,e(11,z)}function fe(f){n.$$.not_equal(d.probationConfirmation,f)&&(d.probationConfirmation=f,e(3,d))}const Ve=()=>{var f;ee(),e(3,d.probationConfirmationComment="",d),((f=d.probationConfirmation)==null?void 0:f.key)===L.ProbationDepartmentHeadConfirmation.Terminate&&(e(3,d.cepConfirmation={enumName:"",key:"",value:""},d),e(3,d.cepPropose=null,d),e(3,d.cepComment="",d))};function De(f){n.$$.not_equal(d.probationConfirmationComment,f)&&(d.probationConfirmationComment=f,e(3,d))}function Re(f){n.$$.not_equal(d.cepConfirmation,f)&&(d.cepConfirmation=f,e(3,d))}const Qe=()=>{ee(),e(3,d.cepPropose=null,d),e(3,d.cepComment="",d)};function Ee(f){n.$$.not_equal(d.cepConfirmation,f)&&(d.cepConfirmation=f,e(3,d))}const we=()=>{ee()};function Oe(f){n.$$.not_equal(d.cepPropose,f)&&(d.cepPropose=f,e(3,d))}function Fe(f){n.$$.not_equal(d.cepComment,f)&&(d.cepComment=f,e(3,d))}function Ce(f){n.$$.not_equal(d.departmentHeadComment,f)&&(d.departmentHeadComment=f,e(3,d))}function C(f){U[f?"unshift":"push"](()=>{J=f,e(13,J)})}function ae(f){b=f,e(4,b)}function Be(f){U[f?"unshift":"push"](()=>{W=f,e(10,W)})}function Te(f){U[f?"unshift":"push"](()=>{D=f,e(8,D)})}function Ge(f){U[f?"unshift":"push"](()=>{j=f,e(9,j)})}function We(f){U[f?"unshift":"push"](()=>{G=f,e(7,G)})}return n.$$.update=()=>{n.$$.dirty[0]&1&&e(15,o=(u!=null&&u.canSubmit?1:0)+(u!=null&&u.canReassign?1:0)+(u!=null&&u.canSendBack?1:0))},[u,i,l,d,b,S,T,G,D,j,W,z,O,J,F,o,K,h,y,X,x,B,se,he,ce,ee,$e,V,$,te,ne,me,_e,He,le,ve,Le,ye,ie,ue,Y,Z,fe,Ve,De,Re,Qe,Ee,we,Oe,Fe,Ce,C,ae,Be,Te,Ge,We]}class Pi extends nt{constructor(t){super(),it(this,t,ki,Si,at,{},null,[-1,-1,-1])}}new Pi({target:document.getElementById("app")});
