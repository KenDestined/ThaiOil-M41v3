import{S as T,i as w,s as A,w as _,x as g,t as i,b as c,y as b,C as P,K as u,B as $,e as D,a as m,g as E,c as M,d as f,h,j as S,a3 as k}from"./MainLayout.js";import{M as R}from"./Modal.js";import{C as H,T as j}from"./Table.js";function d(r){let t,o,a;return o=new j({props:{tableConfig:r[2]}}),{c(){t=h("div"),_(o.$$.fragment),S(t,"class","overflow-x-auto")},m(e,s){m(e,t,s),g(o,t,null),a=!0},p:k,i(e){a||(i(o.$$.fragment,e),a=!0)},o(e){c(o.$$.fragment,e),a=!1},d(e){e&&f(t),b(o)}}}function B(r){let t,o,a=r[0]&&d(r);return{c(){a&&a.c(),t=D()},m(e,s){a&&a.m(e,s),m(e,t,s),o=!0},p(e,s){e[0]?a?(a.p(e,s),s&1&&i(a,1)):(a=d(e),a.c(),i(a,1),a.m(t.parentNode,t)):a&&(E(),c(a,1,1,()=>{a=null}),M())},i(e){o||(i(a),o=!0)},o(e){c(a),o=!1},d(e){a&&a.d(e),e&&f(t)}}}function F(r){let t;return{c(){t=h("div"),t.innerHTML=`<span class="font-weight-bold"><span>Approval History</span> 
      <span class="hidden desktop:inline-block">(ประวัติการอนุมัติ)</span></span>`,S(t,"slot","title")},m(o,a){m(o,t,a)},p:k,d(o){o&&f(t)}}}function N(r){let t,o,a={showFooter:!1,$$slots:{title:[F],default:[B]},$$scope:{ctx:r}};return t=new R({props:a}),r[7](t),{c(){_(t.$$.fragment)},m(e,s){g(t,e,s),o=!0},p(e,[s]){const l={};s&257&&(l.$$scope={dirty:s,ctx:e}),t.$set(l)},i(e){o||(i(t.$$.fragment,e),o=!0)},o(e){c(t.$$.fragment,e),o=!1},d(e){r[7](null),b(t,e)}}}function q(r,t,o){let{config:a={}}=t,{mapStatusText:e}=t,{histories:s=[]}=t,l,C={columns:[{name:"Employee Name",prop:"name",sortable:!1},{name:"Position",prop:"position",sortable:!1},{name:"Date",prop:"submittedDate",cellTemplate:H.Date,sortable:!1},{name:"Status",prop:"status",render:n=>`<span class=${p(n.key)}>${e[n.key]}</span>`,sortable:!1},{name:"Comment",prop:"comment",sortable:!1}],getData:(n,x)=>P.all([Promise.resolve(s==null?void 0:s.length),Promise.resolve(s)]),isStriped:!1,showFooter:!1,...a};function p(n){switch(n){case u.RetirementApprovalStatus.Approved:return"text-secondary";case u.RetirementApprovalStatus.Rejected:return"text-secondary3";case u.ProbationApproveStatus.Reassigned:return"text-secondary2";default:return""}}function v(){l.open()}function y(n){$[n?"unshift":"push"](()=>{l=n,o(1,l)})}return r.$$set=n=>{"config"in n&&o(3,a=n.config),"mapStatusText"in n&&o(4,e=n.mapStatusText),"histories"in n&&o(0,s=n.histories)},[s,l,C,a,e,p,v,y]}class G extends T{constructor(t){super(),w(this,t,q,N,A,{config:3,mapStatusText:4,histories:0,makeStatusColor:5,open:6})}get makeStatusColor(){return this.$$.ctx[5]}get open(){return this.$$.ctx[6]}}export{G as A};
