import{S as F,i as H,s as W,M as P,w,x as C,t as D,b as S,y as R,A as J,R as j,C as K,h as u,o as x,m as M,j as g,a as T,p as d,q as O,d as A,B as L,F as q,G as B}from"./MainLayout.js";import{E as G}from"./ESS_Retirement.service.js";import{C as E,T as Q}from"./Table.js";import{C as U}from"./Card.js";import{Y as V}from"./YearDropdown.js";import{C as X}from"./CheckBox.js";import"./formatter.js";import"./html.js";import"./_commonjsHelpers.js";import"./Dropdown.js";import"./Label.js";function Z(o){let a,s,r,t,i,p,f,m,_,v,b,c,e;function $(n){o[5](n)}let l={isHorizontal:!0,label:"Year"};o[1]!==void 0&&(l.value=o[1]),t=new V({props:l}),L.push(()=>q(t,"value",$)),t.$on("change",o[6]);function h(n){o[7](n)}let y={label:"All Status",isForm:!0,labelMultipleLines:!0};o[2]!==void 0&&(y.checked=o[2]),m=new X({props:y}),L.push(()=>q(m,"checked",h)),m.$on("change",o[8]);let Y={tableConfig:o[4]};return c=new Q({props:Y}),o[9](c),{c(){a=u("div"),s=u("div"),r=u("div"),w(t.$$.fragment),p=x(),f=u("div"),w(m.$$.fragment),v=x(),b=u("div"),w(c.$$.fragment),g(r,"class","mb-3 desktop:w-[150px] desktop:mb-0"),g(f,"class","flex items-center"),g(s,"class","desktop:flex mb-3 gap-3 desktop:gap-6"),g(a,"class","desktop:flex justify-between items-center pt-1"),g(b,"class","overflow-x-auto relative")},m(n,k){T(n,a,k),d(a,s),d(s,r),C(t,r,null),d(s,p),d(s,f),C(m,f,null),T(n,v,k),T(n,b,k),C(c,b,null),e=!0},p(n,k){const I={};!i&&k&2&&(i=!0,I.value=n[1],B(()=>i=!1)),t.$set(I);const N={};!_&&k&4&&(_=!0,N.checked=n[2],B(()=>_=!1)),m.$set(N);const z={};c.$set(z)},i(n){e||(D(t.$$.fragment,n),D(m.$$.fragment,n),D(c.$$.fragment,n),e=!0)},o(n){S(t.$$.fragment,n),S(m.$$.fragment,n),S(c.$$.fragment,n),e=!1},d(n){n&&A(a),R(t),R(m),n&&A(v),n&&A(b),o[9](null),R(c)}}}function ee(o){let a,s,r,t,i,p,f,m,_,v,b,c,e,$;return e=new U({props:{$$slots:{default:[Z]},$$scope:{ctx:o}}}),{c(){a=u("div"),s=u("div"),s.innerHTML=`<span class="icon svelte-1dr00bv"><i class="ic ic-retirement-square"></i></span> 
      <span class="font-weight-bold text-size-xlarge">Retirement Date Confirmation Waiting to Approve</span>`,r=x(),t=u("div"),i=u("div"),p=u("span"),f=u("span"),f.textContent="จำนวนรายการรออนุมัติทั้งหมด :",m=x(),_=u("span"),v=M(o[0]),b=M(" รายการ"),c=x(),w(e.$$.fragment),g(s,"class","icon-text svelte-1dr00bv"),g(f,"class","text-gray-900"),g(_,"class","font-weight-bold"),g(i,"class","flex justify-between"),g(t,"class","desktop:flex items-center justify-between desktop:pl-[4.2rem] desktop:gap-y-2 desktop:pt-0 pt-2"),g(a,"class","bg-gray-100 border-gray-400 border p-2 rounded")},m(l,h){T(l,a,h),d(a,s),d(a,r),d(a,t),d(t,i),d(i,p),d(p,f),d(p,m),d(p,_),d(_,v),d(_,b),T(l,c,h),C(e,l,h),$=!0},p(l,h){(!$||h&1)&&O(v,l[0]);const y={};h&1038&&(y.$$scope={dirty:h,ctx:l}),e.$set(y)},i(l){$||(D(e.$$.fragment,l),$=!0)},o(l){S(e.$$.fragment,l),$=!1},d(l){l&&A(a),l&&A(c),R(e,l)}}}function te(o){let a,s;return a=new P({props:{$$slots:{default:[ee]},$$scope:{ctx:o}}}),{c(){w(a.$$.fragment)},m(r,t){C(a,r,t),s=!0},p(r,[t]){const i={};t&1039&&(i.$$scope={dirty:t,ctx:r}),a.$set(i)},i(r){s||(D(a.$$.fragment,r),s=!0)},o(r){S(a.$$.fragment,r),s=!1},d(r){R(a,r)}}}function ae(o,a,s){let r=0,t,i=!1,p,f={columns:[{name:"Document No.",prop:"documentNo",cellTemplate:E.Link,onClick:(e,$)=>{J(j.RetirementDetail,{parent:j.RetirementWaitingList,retirementId:$.retirementId})}},{name:"Employee ID",prop:"employeeId"},{name:"Employee Name",prop:"employeeName"},{name:"Selected Retirement Date",prop:"retirementChoice",render:e=>e.value},{name:"Retirement Date",prop:"retirementDate",cellTemplate:E.Date},{name:"Current Status",prop:"status",render:e=>e.value},{name:"Created Date",prop:"createdDate",cellTemplate:E.Date},{name:"Employee Submit Date",prop:"employeeSubmitDate",cellTemplate:E.Date}],getData:(e,$)=>K.all([G.GetRetirementApproveListsCount({year:t,allStatus:i}).then(l=>(s(0,r=l),l)),G.GetRetirementApproveLists({year:t,allStatus:i,sortByParam:$,pageParam:e})]),isStriped:!1};function m(e){t=e,s(1,t)}const _=()=>{p.reload()};function v(e){i=e,s(2,i)}const b=()=>{p.reload()};function c(e){L[e?"unshift":"push"](()=>{p=e,s(3,p)})}return[r,t,i,p,f,m,_,v,b,c]}class ne extends F{constructor(a){super(),H(this,a,ae,te,W,{})}}new ne({target:document.getElementById("app")});
