import{S as Ye,i as Ze,s as xe,e as on,a as U,t as p,g as ce,b as _,c as me,d as z,h as m,o as b,w as N,m as De,j as h,p as f,x as q,q as Ge,y as B,O as Te,B as R,F as W,P as cn,Q as mn,G as Q,T as We,K as he,b5 as Vt,V as _n,W as Qe,b6 as Rt,X as Ut,a0 as zt,U as Kt,z as In,ag as Jt,r as Lt,a6 as Xe,ab as fn,aW as En,aa as Wt,b7 as Qt,D as Cn,L as tn,b8 as Xt,b9 as Yt,ba as Zt,a4 as xt,a5 as el,a3 as jt,bb as nl,M as tl,b3 as ll,b4 as al,aU as Mn,ac as An,A as il,R as ol,ae as rl}from"./MainLayout.js";import{f as an}from"./formatter.js";import{P as sl}from"./PageTitle.js";import{E as nn}from"./ESS_FixAndGeneral.service.js";import{B as un}from"./Button.js";import{R as fl}from"./Radio.js";import{E as ul}from"./EmployeeDropdown.js";import{B as Me}from"./BaseInput.js";import{D as Dn}from"./DatePicker.js";import{N as Fn}from"./NumberInput.js";import{T as rn}from"./TextArea.js";import{D as gn}from"./Dropdown.js";import{T as pl}from"./TimePicker.js";import{F as dl}from"./FileInput.js";import{M as Ht}from"./Modal.js";import{F as Pt}from"./FilePreview.js";import{L as pn}from"./Label.js";import{A as cl}from"./Alert.js";import{c as dn,b as bn,d as ml}from"./array.js";import{b as Tn,r as Ce,c as $n,a as yn}from"./sharedValidate.js";import{R as Vn}from"./RatingForm.js";import{R as _l}from"./RequesterData.js";import{C as gl}from"./ConfirmModal.js";import"./flatpickr.js";import"./DatePicker.svelte_svelte_type_style_lang.js";import"./_commonjsHelpers.js";function Rn(e){let n,l,t,a,s,i,o,r,u,v,c,k,D=(e[0].onBehalfOfEmployeeId??"-")+"",F,S,O,L,M,Z,P=(e[0].onBehalfOfEmployeeNameEN??"-")+"",K,X,J,G,C,le,d=(e[0].onBehalfOfEmail??"-")+"",x,T,Y,w,$,ee,g=(e[0].onBehalfOfPosition??"-")+"",V,ue,se,re,_e,Ne,qe=(e[0].onBehalfOfUnit??"-")+"",we,Ue,Ee,Ae,Ie,Le,de=(e[0].onBehalfOfSection??"-")+"",be,ze,Je,Ve,$e,ie,A=(e[0].onBehalfOfDepartment??"-")+"",y,te,I,ne,j,oe,Oe=(e[0].onBehalfOfFunction??"-")+"",Ke,ke;return i=new ul({props:{label:"On Behalf of :",service:e[5],value:e[2],clearable:e[0].canSave,disabled:e[1]||!e[0].canSave}}),i.$on("change",e[6]),{c(){n=m("div"),l=m("div"),l.textContent="ON BEHALF OF",t=b(),a=m("div"),s=m("div"),N(i.$$.fragment),o=b(),r=m("div"),u=m("div"),v=m("span"),v.textContent="Employee ID :",c=b(),k=m("span"),F=De(D),S=b(),O=m("div"),L=m("span"),L.textContent="Employee Name :",M=b(),Z=m("span"),K=De(P),X=b(),J=m("div"),G=m("span"),G.textContent="Email :",C=b(),le=m("span"),x=De(d),T=b(),Y=m("div"),w=m("span"),w.textContent="Position :",$=b(),ee=m("span"),V=De(g),ue=b(),se=m("div"),re=m("span"),re.textContent="Unit :",_e=b(),Ne=m("span"),we=De(qe),Ue=b(),Ee=m("div"),Ae=m("span"),Ae.textContent="Section :",Ie=b(),Le=m("span"),be=De(de),ze=b(),Je=m("div"),Ve=m("span"),Ve.textContent="Department :",$e=b(),ie=m("span"),y=De(A),te=b(),I=m("div"),ne=m("span"),ne.textContent="Function :",j=b(),oe=m("span"),Ke=De(Oe),h(l,"class","_title svelte-1ei5qb3"),h(s,"class","desktop:col-span-1 mb-3 mr-2"),h(a,"class","desktop:grid desktop:grid-cols-3 desktop:gap-x-10"),h(v,"class","text-gray-800"),h(L,"class","text-gray-800"),h(G,"class","text-gray-800"),h(w,"class","text-gray-800"),h(re,"class","text-gray-800"),h(Ae,"class","text-gray-800"),h(Ve,"class","text-gray-800"),h(ne,"class","text-gray-800"),h(r,"class","grid desktop:grid-cols-3 desktop:gap-x-10 gap-y-2"),h(n,"class","_wrapper svelte-1ei5qb3")},m(Se,Fe){U(Se,n,Fe),f(n,l),f(n,t),f(n,a),f(a,s),q(i,s,null),f(n,o),f(n,r),f(r,u),f(u,v),f(u,c),f(u,k),f(k,F),f(r,S),f(r,O),f(O,L),f(O,M),f(O,Z),f(Z,K),f(r,X),f(r,J),f(J,G),f(J,C),f(J,le),f(le,x),f(r,T),f(r,Y),f(Y,w),f(Y,$),f(Y,ee),f(ee,V),f(r,ue),f(r,se),f(se,re),f(se,_e),f(se,Ne),f(Ne,we),f(r,Ue),f(r,Ee),f(Ee,Ae),f(Ee,Ie),f(Ee,Le),f(Le,be),f(r,ze),f(r,Je),f(Je,Ve),f(Je,$e),f(Je,ie),f(ie,y),f(r,te),f(r,I),f(I,ne),f(I,j),f(I,oe),f(oe,Ke),ke=!0},p(Se,Fe){const Be={};Fe&4&&(Be.value=Se[2]),Fe&1&&(Be.clearable=Se[0].canSave),Fe&3&&(Be.disabled=Se[1]||!Se[0].canSave),i.$set(Be),(!ke||Fe&1)&&D!==(D=(Se[0].onBehalfOfEmployeeId??"-")+"")&&Ge(F,D),(!ke||Fe&1)&&P!==(P=(Se[0].onBehalfOfEmployeeNameEN??"-")+"")&&Ge(K,P),(!ke||Fe&1)&&d!==(d=(Se[0].onBehalfOfEmail??"-")+"")&&Ge(x,d),(!ke||Fe&1)&&g!==(g=(Se[0].onBehalfOfPosition??"-")+"")&&Ge(V,g),(!ke||Fe&1)&&qe!==(qe=(Se[0].onBehalfOfUnit??"-")+"")&&Ge(we,qe),(!ke||Fe&1)&&de!==(de=(Se[0].onBehalfOfSection??"-")+"")&&Ge(be,de),(!ke||Fe&1)&&A!==(A=(Se[0].onBehalfOfDepartment??"-")+"")&&Ge(y,A),(!ke||Fe&1)&&Oe!==(Oe=(Se[0].onBehalfOfFunction??"-")+"")&&Ge(Ke,Oe)},i(Se){ke||(p(i.$$.fragment,Se),ke=!0)},o(Se){_(i.$$.fragment,Se),ke=!1},d(Se){Se&&z(n),B(i)}}}function vl(e){let n,l,t=e[0].onBehalfFlow&&Rn(e);return{c(){t&&t.c(),n=on()},m(a,s){t&&t.m(a,s),U(a,n,s),l=!0},p(a,[s]){a[0].onBehalfFlow?t?(t.p(a,s),s&1&&p(t,1)):(t=Rn(a),t.c(),p(t,1),t.m(n.parentNode,n)):t&&(ce(),_(t,1,1,()=>{t=null}),me())},i(a){l||(p(t),l=!0)},o(a){_(t),l=!1},d(a){t&&t.d(a),a&&z(n)}}}function bl(e,n,l){let{data:t}=n,{isEdit:a=!1}=n,s=null;function i(v){l(2,s=v),v?l(0,t={...t,onBehalfOfId:s.userId,onBehalfOfEmployeeId:s.employeeId,onBehalfOfEmployeeName:s.employeeNameTH,onBehalfOfEmployeeNameEN:s.employeeName,onBehalfOfEmail:s.email,onBehalfOfPosition:s.position,onBehalfOfDepartment:s.department,onBehalfOfUnit:s.unit,onBehalfOfSection:s.section,onBehalfOfFunction:s.function}):o()}function o(){l(2,s=null),l(0,t={...t,onBehalfOfId:null,onBehalfOfEmployeeId:null,onBehalfOfEmployeeName:null,onBehalfOfEmployeeNameEN:null,onBehalfOfEmail:null,onBehalfOfPosition:null,onBehalfOfDepartment:null,onBehalfOfUnit:null,onBehalfOfSection:null,onBehalfOfFunction:null})}const r=v=>nn.SearchUsers({search:v}),u=({detail:v})=>i(v);return e.$$set=v=>{"data"in v&&l(0,t=v.data),"isEdit"in v&&l(1,a=v.isEdit)},e.$$.update=()=>{e.$$.dirty&1&&t.onBehalfOfId&&l(2,s={userId:t.onBehalfOfId,employeeId:t.onBehalfOfEmployeeId,employeeName:t.onBehalfOfEmployeeNameEN,employeeNameTH:t.onBehalfOfEmployeeName,email:t.onBehalfOfEmail,position:t.onBehalfOfPosition,department:t.onBehalfOfDepartment,unit:t.onBehalfOfUnit,section:t.onBehalfOfSection,function:t.onBehalfOfFunction})},[t,a,s,i,o,r,u]}class hl extends Ye{constructor(n){super(),Ze(this,n,bl,vl,xe,{data:0,isEdit:1,clearOnBehalfOfEmployee:4})}get clearOnBehalfOfEmployee(){return this.$$.ctx[4]}}function $l(e){let n,l,t;const a=[{placeholder:""},{clearable:!1},{labelKey:"value"},{valueKey:"key"},{options:e[1]},e[2]];function s(o){e[3](o)}let i={};for(let o=0;o<a.length;o+=1)i=Te(i,a[o]);return e[0]!==void 0&&(i.value=e[0]),n=new gn({props:i}),R.push(()=>W(n,"value",s)),n.$on("change",e[4]),{c(){N(n.$$.fragment)},m(o,r){q(n,o,r),t=!0},p(o,[r]){const u=r&6?cn(a,[a[0],a[1],a[2],a[3],r&2&&{options:o[1]},r&4&&mn(o[2])]):{};!l&&r&1&&(l=!0,u.value=o[0],Q(()=>l=!1)),n.$set(u)},i(o){t||(p(n.$$.fragment,o),t=!0)},o(o){_(n.$$.fragment,o),t=!1},d(o){B(n,o)}}}function Sl(e,n,l){const t=["value"];let a=We(n,t),{value:s=void 0}=n;const i=Object.keys(he.HousingTypeOfService).map(u=>({key:u,value:Vt[u]}));function o(u){s=u,l(0,s)}function r(u){Qe.call(this,e,u)}return e.$$set=u=>{n=Te(Te({},n),_n(u)),l(2,a=We(n,t)),"value"in u&&l(0,s=u.value)},[s,i,a,o,r]}class wl extends Ye{constructor(n){super(),Ze(this,n,Sl,$l,xe,{value:0})}}function kl(e){let n,l,t;const a=[{placeholder:""},{clearable:!1},{labelKey:"value"},{valueKey:"key"},{options:e[1]},e[2]];function s(o){e[3](o)}let i={};for(let o=0;o<a.length;o+=1)i=Te(i,a[o]);return e[0]!==void 0&&(i.value=e[0]),n=new gn({props:i}),R.push(()=>W(n,"value",s)),n.$on("change",e[4]),{c(){N(n.$$.fragment)},m(o,r){q(n,o,r),t=!0},p(o,[r]){const u=r&6?cn(a,[a[0],a[1],a[2],a[3],r&2&&{options:o[1]},r&4&&mn(o[2])]):{};!l&&r&1&&(l=!0,u.value=o[0],Q(()=>l=!1)),n.$set(u)},i(o){t||(p(n.$$.fragment,o),t=!0)},o(o){_(n.$$.fragment,o),t=!1},d(o){B(n,o)}}}function Ol(e,n,l){const t=["value"];let a=We(n,t),{value:s=void 0}=n;const i={[he.HousingPeriod.A]:"A",[he.HousingPeriod.B]:"B",[he.HousingPeriod.C]:"C",[he.HousingPeriod.D]:"D",[he.HousingPeriod.Daywork]:"Day Work"},o=Object.keys(he.HousingPeriod).map(v=>({key:v,value:i[v]}));function r(v){s=v,l(0,s)}function u(v){Qe.call(this,e,v)}return e.$$set=v=>{n=Te(Te({},n),_n(v)),l(2,a=We(n,t)),"value"in v&&l(0,s=v.value)},[s,o,a,r,u]}class Cl extends Ye{constructor(n){super(),Ze(this,n,Ol,kl,xe,{value:0})}}function Dl(e){let n,l,t;const a=[{placeholder:""},{clearable:!1},{labelKey:"value"},{valueKey:"key"},{options:e[1]},e[2]];function s(o){e[3](o)}let i={};for(let o=0;o<a.length;o+=1)i=Te(i,a[o]);return e[0]!==void 0&&(i.value=e[0]),n=new gn({props:i}),R.push(()=>W(n,"value",s)),n.$on("change",e[4]),{c(){N(n.$$.fragment)},m(o,r){q(n,o,r),t=!0},p(o,[r]){const u=r&6?cn(a,[a[0],a[1],a[2],a[3],r&2&&{options:o[1]},r&4&&mn(o[2])]):{};!l&&r&1&&(l=!0,u.value=o[0],Q(()=>l=!1)),n.$set(u)},i(o){t||(p(n.$$.fragment,o),t=!0)},o(o){_(n.$$.fragment,o),t=!1},d(o){B(n,o)}}}function Tl(e,n,l){const t=["value"];let a=We(n,t),{value:s=void 0}=n;const i=Object.keys(he.HousingType).map(u=>({key:u,value:Rt[u]}));function o(u){s=u,l(0,s)}function r(u){Qe.call(this,e,u)}return e.$$set=u=>{n=Te(Te({},n),_n(u)),l(2,a=We(n,t)),"value"in u&&l(0,s=u.value)},[s,i,a,o,r]}class Fl extends Ye{constructor(n){super(),Ze(this,n,Tl,Dl,xe,{value:0})}}function Un(e,n,l){const t=e.slice();return t[28]=n[l],t[30]=l,t}function yl(e){let n,l,t,a,s;return{c(){n=m("button"),l=De("Choose Files"),h(n,"class","mr-1.5 btn btn-primary btn-outline font-weight-normal bg-white border-primary text-size-large"),n.disabled=t=!e[1]},m(i,o){U(i,n,o),f(n,l),a||(s=fn(n,"click",e[13]),a=!0)},p(i,o){o[0]&2&&t!==(t=!i[1])&&(n.disabled=t)},d(i){i&&z(n),a=!1,s()}}}function zn(e){let n,l,t=e[0],a=[];for(let i=0;i<t.length;i+=1)a[i]=Jn(Un(e,t,i));const s=i=>_(a[i],1,1,()=>{a[i]=null});return{c(){for(let i=0;i<a.length;i+=1)a[i].c();n=on()},m(i,o){for(let r=0;r<a.length;r+=1)a[r]&&a[r].m(i,o);U(i,n,o),l=!0},p(i,o){if(o[0]&3715){t=i[0];let r;for(r=0;r<t.length;r+=1){const u=Un(i,t,r);a[r]?(a[r].p(u,o),p(a[r],1)):(a[r]=Jn(u),a[r].c(),p(a[r],1),a[r].m(n.parentNode,n))}for(ce(),r=t.length;r<a.length;r+=1)s(r);me()}},i(i){if(!l){for(let o=0;o<t.length;o+=1)p(a[o]);l=!0}},o(i){a=a.filter(Boolean);for(let o=0;o<a.length;o+=1)_(a[o]);l=!1},d(i){Lt(a,i),i&&z(n)}}}function Kn(e){let n,l,t;function a(){return e[18](e[30])}return{c(){n=m("span"),n.innerHTML='<i class="ic ic-download-svgrepo-com"></i>',h(n,"class","icon is-medium tooltip"),h(n,"data-tip","Download"),Xe(n,"cursor-pointer",e[28].url)},m(s,i){U(s,n,i),l||(t=fn(n,"click",a),l=!0)},p(s,i){e=s,i[0]&1&&Xe(n,"cursor-pointer",e[28].url)},d(s){s&&z(n),l=!1,t()}}}function Jn(e){let n,l,t,a,s=(e[7][e[28].id]??"Uploaded Document")+"",i,o,r,u,v,c,k,D,F,S,O,L,M,Z;v=new Pt({props:{filename:e[7][e[28].id]??"Uploaded Document",url:e[28].url}});function P(){return e[16](e[30])}function K(){return e[17](e[30])}let X=e[28].url&&Kn(e);return{c(){n=m("div"),l=m("div"),t=m("div"),a=m("div"),i=De(s),r=b(),u=m("figure"),N(v.$$.fragment),c=b(),k=m("div"),D=m("span"),D.innerHTML='<i class="ic ic-delete"></i>',F=b(),S=m("div"),X&&X.c(),O=b(),h(a,"class","truncate"),h(t,"class","mb-1 max-w-[84px] tooltip"),h(t,"data-tip",o=e[7][e[28].id]??"Uploaded Document"),h(u,"class","_image-wrapper w-[84px] h-[84px] mb-1.5 svelte-6n2et9"),Xe(u,"cursor-pointer",e[28].url),h(D,"class","icon is-medium"),h(D,"data-tip","Delete"),Xe(D,"cursor-pointer",e[1]),Xe(D,"tooltip",e[1]),Xe(D,"text-gray-400",!e[1]),h(k,"class","px-1 flex justify-between"),h(l,"class","w-[84px]"),h(n,"class","bg-white p-1 border border-gray-400")},m(J,G){U(J,n,G),f(n,l),f(l,t),f(t,a),f(a,i),f(l,r),f(l,u),q(v,u,null),f(l,c),f(l,k),f(k,D),f(k,F),f(k,S),X&&X.m(S,null),f(n,O),L=!0,M||(Z=[fn(u,"click",P),fn(D,"click",K)],M=!0)},p(J,G){e=J,(!L||G[0]&129)&&s!==(s=(e[7][e[28].id]??"Uploaded Document")+"")&&Ge(i,s),(!L||G[0]&129&&o!==(o=e[7][e[28].id]??"Uploaded Document"))&&h(t,"data-tip",o);const C={};G[0]&129&&(C.filename=e[7][e[28].id]??"Uploaded Document"),G[0]&1&&(C.url=e[28].url),v.$set(C),(!L||G[0]&1)&&Xe(u,"cursor-pointer",e[28].url),(!L||G[0]&2)&&Xe(D,"cursor-pointer",e[1]),(!L||G[0]&2)&&Xe(D,"tooltip",e[1]),(!L||G[0]&2)&&Xe(D,"text-gray-400",!e[1]),e[28].url?X?X.p(e,G):(X=Kn(e),X.c(),X.m(S,null)):X&&(X.d(1),X=null)},i(J){L||(p(v.$$.fragment,J),L=!0)},o(J){_(v.$$.fragment,J),L=!1},d(J){J&&z(n),B(v),X&&X.d(),M=!1,En(Z)}}}function Wn(e){let n,l,t;return l=new Wt({props:{isShow:!0,isbgTransparent:!0}}),{c(){n=m("div"),N(l.$$.fragment),h(n,"class","w-[98px] h-[146px] relative")},m(a,s){U(a,n,s),q(l,n,null),t=!0},i(a){t||(p(l.$$.fragment,a),t=!0)},o(a){_(l.$$.fragment,a),t=!1},d(a){a&&z(n),B(l)}}}function Nl(e){let n,l,t,a,s,i,o,r,u,v;return s=new Pt({props:{isLarge:!0,filename:e[7][e[0][e[4]].id]??"Uploaded Document",url:e[0][e[4]].url}}),{c(){n=m("div"),l=m("button"),l.innerHTML='<i class="datatable-icon-left"></i>',t=b(),a=m("figure"),N(s.$$.fragment),i=b(),o=m("button"),o.innerHTML='<i class="datatable-icon-right"></i>',h(l,"type","button"),h(l,"class","btn btn-outline text-gray-700 px-0"),h(a,"class","_image-wrapper w-[260px] h-[260px] desktop:w-[600px] desktop:h-[600px] svelte-6n2et9"),h(o,"type","button"),h(o,"class","btn btn-outline text-gray-700 px-0"),h(n,"class","flex items-center justify-between")},m(c,k){U(c,n,k),f(n,l),f(n,t),f(n,a),q(s,a,null),f(n,i),f(n,o),r=!0,u||(v=[fn(l,"click",e[21]),fn(o,"click",e[22])],u=!0)},p(c,k){const D={};k[0]&145&&(D.filename=c[7][c[0][c[4]].id]??"Uploaded Document"),k[0]&17&&(D.url=c[0][c[4]].url),s.$set(D)},i(c){r||(p(s.$$.fragment,c),r=!0)},o(c){_(s.$$.fragment,c),r=!1},d(c){c&&z(n),B(s),u=!1,En(v)}}}function Qn(e){let n,l,t,a,s;return{c(){n=m("button"),l=m("span"),l.innerHTML='<i class="ic ic-download-svgrepo-com"></i>',h(l,"class","icon"),h(n,"type","button"),h(n,"class","btn btn-outline text-gray-700 text-size-xlarge"),h(n,"data-tip","Download"),n.disabled=t=!e[0][e[4]].url,Xe(n,"tooltip",e[0][e[4]].url)},m(i,o){U(i,n,o),f(n,l),a||(s=fn(n,"click",e[20]),a=!0)},p(i,o){o[0]&17&&t!==(t=!i[0][i[4]].url)&&(n.disabled=t),o[0]&17&&Xe(n,"tooltip",i[0][i[4]].url)},d(i){i&&z(n),a=!1,s()}}}function ql(e){let n,l,t,a,s,i,o,r=e[4]!==null&&Qn(e);return{c(){n=m("div"),l=m("button"),t=m("span"),t.innerHTML='<i class="ic ic-delete"></i>',s=b(),r&&r.c(),h(t,"class","icon"),h(l,"type","button"),h(l,"class","btn btn-outline text-gray-700 text-size-xlarge"),h(l,"data-tip","Delete"),l.disabled=a=!e[1],Xe(l,"tooltip",e[1]),h(n,"slot","footer"),h(n,"class","flex justify-between w-full")},m(u,v){U(u,n,v),f(n,l),f(l,t),f(n,s),r&&r.m(n,null),i||(o=fn(l,"click",e[19]),i=!0)},p(u,v){v[0]&2&&a!==(a=!u[1])&&(l.disabled=a),v[0]&2&&Xe(l,"tooltip",u[1]),u[4]!==null?r?r.p(u,v):(r=Qn(u),r.c(),r.m(n,null)):r&&(r.d(1),r=null)},d(u){u&&z(n),r&&r.d(),i=!1,o()}}}function Bl(e){var S;let n,l,t,a,s,i,o,r,u,v,c={label:"วิดีโอ/รูปภาพ/ไฟล์ (อุปกรณ์ที่เกิดความเสียหาย)",multiple:!0,$$slots:{default:[yl]},$$scope:{ctx:e}};a=new dl({props:c}),e[14](a),a.$on("change",e[15]);let k=((S=e[0])==null?void 0:S.length)&&zn(e),D=e[5]&&Wn(),F={onClose:e[23],$$slots:{footer:[ql],default:[Nl]},$$scope:{ctx:e}};return u=new Ht({props:F}),e[24](u),{c(){n=m("div"),n.innerHTML=`<span class="font-weight-bold">แนบเอกสาร</span> 
  <span>(Video,Image File(JPG/PNG/MP4/AVI))2GB</span>`,l=b(),t=m("div"),N(a.$$.fragment),s=b(),i=m("div"),k&&k.c(),o=b(),D&&D.c(),r=b(),N(u.$$.fragment),h(n,"class","mb-2"),h(t,"class","mb-2"),h(i,"class","flex gap-1 flex-wrap")},m(O,L){U(O,n,L),U(O,l,L),U(O,t,L),q(a,t,null),U(O,s,L),U(O,i,L),k&&k.m(i,null),f(i,o),D&&D.m(i,null),U(O,r,L),q(u,O,L),v=!0},p(O,L){var P;const M={};L[0]&70|L[1]&1&&(M.$$scope={dirty:L,ctx:O}),a.$set(M),(P=O[0])!=null&&P.length?k?(k.p(O,L),L[0]&1&&p(k,1)):(k=zn(O),k.c(),p(k,1),k.m(i,o)):k&&(ce(),_(k,1,1,()=>{k=null}),me()),O[5]?D?L[0]&32&&p(D,1):(D=Wn(),D.c(),p(D,1),D.m(i,null)):D&&(ce(),_(D,1,1,()=>{D=null}),me());const Z={};L[0]&16&&(Z.onClose=O[23]),L[0]&155|L[1]&1&&(Z.$$scope={dirty:L,ctx:O}),u.$set(Z)},i(O){v||(p(a.$$.fragment,O),p(k),p(D),p(u.$$.fragment,O),v=!0)},o(O){_(a.$$.fragment,O),_(k),_(D),_(u.$$.fragment,O),v=!1},d(O){O&&z(n),O&&z(l),O&&z(t),e[14](null),B(a),O&&z(s),O&&z(i),k&&k.d(),D&&D.d(),O&&z(r),e[24](null),B(u,O)}}}function Al(e,n,l){let t;Ut(e,zt,w=>l(7,t=w));let{attachmentFiles:a}=n,{canSave:s}=n,{isComplete:i}=n,{canAttach:o=void 0}=n,r,u=null,v=!1,c;const k=Kt(),D=w=>k("fileChanged",{attachmentFiles:w,isComplete:i,uploadFinished:F});function F(){l(5,v=!1)}function S({detail:{target:w}}){w.files&&(l(5,v=!0),D(w.files))}function O(w){s&&l(0,a=a.filter(($,ee)=>ee!==w))}function L(w){a[w].url&&Qt(a[w].url)}function M(w){a[w].url&&(l(4,u=w),r.open())}In(()=>{const w=[];a!=null&&a.length&&a.forEach($=>{$.id&&w.push($.id)}),Jt(w)});const Z=()=>{(o===void 0||o())&&c.clickInput()};function P(w){R[w?"unshift":"push"](()=>{c=w,l(6,c)})}const K=w=>S(w),X=w=>M(w),J=w=>O(w),G=w=>L(w),C=()=>{if(s){const w=u;u===a.length-1&&(u===0?(l(4,u=null),r.close()):l(4,u--,u)),O(w)}},le=()=>{L(u)},d=()=>{u===0?l(4,u=a.length-1):l(4,u--,u)},x=()=>{u===a.length-1?l(4,u=0):l(4,u++,u)},T=()=>l(4,u=null);function Y(w){R[w?"unshift":"push"](()=>{r=w,l(3,r)})}return e.$$set=w=>{"attachmentFiles"in w&&l(0,a=w.attachmentFiles),"canSave"in w&&l(1,s=w.canSave),"isComplete"in w&&l(12,i=w.isComplete),"canAttach"in w&&l(2,o=w.canAttach)},[a,s,o,r,u,v,c,t,S,O,L,M,i,Z,P,K,X,J,G,C,le,d,x,T,Y]}class hn extends Ye{constructor(n){super(),Ze(this,n,Al,Bl,xe,{attachmentFiles:0,canSave:1,isComplete:12,canAttach:2},null,[-1,-1])}}function Xn(e){let n,l,t,a;function s(o){e[13](o)}let i={isComplete:!1,canSave:e[0].canSave};return e[0].attachmentFiles!==void 0&&(i.attachmentFiles=e[0].attachmentFiles),l=new hn({props:i}),R.push(()=>W(l,"attachmentFiles",s)),l.$on("fileChanged",e[14]),{c(){n=m("div"),N(l.$$.fragment),h(n,"class","_container _container--gray border-t-0 svelte-c8trs8")},m(o,r){U(o,n,r),q(l,n,null),a=!0},p(o,r){const u={};r&1&&(u.canSave=o[0].canSave),!t&&r&1&&(t=!0,u.attachmentFiles=o[0].attachmentFiles,Q(()=>t=!1)),l.$set(u)},i(o){a||(p(l.$$.fragment,o),a=!0)},o(o){_(l.$$.fragment,o),a=!1},d(o){o&&z(n),B(l)}}}function Yn(e){var w;let n,l,t,a,s,i,o,r,u,v,c,k,D,F,S,O,L,M,Z,P,K,X;function J($){e[15]($)}let G={label:"ประเภทการซ่อม",disabled:!e[0].canSaveComplete,required:!0};e[0].housingTypeOfService!==void 0&&(G.value=e[0].housingTypeOfService),s=new wl({props:G}),R.push(()=>W(s,"value",J)),s.$on("change",e[16]);let C=((w=e[0].housingTypeOfService)==null?void 0:w.key)===he.HousingTypeOfService.Other&&Zn(e);function le($){e[18]($)}let d={label:"ค่าใช้จ่าย (บาท)",name:"housingCost",disabled:!e[0].canSaveComplete};e[0].housingCost!==void 0&&(d.value=e[0].housingCost),v=new Fn({props:d}),R.push(()=>W(v,"value",le));function x($){e[19]($)}let T={disabled:!e[0].canSaveComplete};e[0].housingDetail!==void 0&&(T.value=e[0].housingDetail),M=new rn({props:T}),R.push(()=>W(M,"value",x));let Y=e[0].recordId&&xn(e);return{c(){n=m("div"),l=m("div"),l.textContent="รายการสิ่งที่จัดซ่อมแซมอุปกรณ์บ้านพัก หมู่บ้านไทยออยล์",t=b(),a=m("div"),N(s.$$.fragment),o=b(),C&&C.c(),r=b(),u=m("div"),N(v.$$.fragment),k=b(),D=m("span"),D.textContent="บาท",F=b(),S=m("div"),O=m("div"),O.innerHTML=`<span>รายละเอียดเพิ่มเติม (ถ้ามี)</span> 
          <span class="text-secondary3">(คำอธิบายเพิ่มเติมเกี่ยวกับสิ่งที่ซ่อมแซม เช่น
            สภาพที่ชำรุดเป็นอย่างไร)</span>`,L=b(),N(M.$$.fragment),P=b(),Y&&Y.c(),K=on(),h(l,"class","_title svelte-c8trs8"),h(D,"class","mb-1"),h(u,"class","flex items-end gap-2"),h(O,"class","flex gap-y-1 gap-x-2 flex-col mb-1 desktop:flex-row"),h(S,"class","desktop:col-span-3"),h(a,"class","grid grid-cols-1 gap-2 desktop:grid-cols-3 desktop:gap-x-10"),h(n,"class","_container _container--green border-t-0 svelte-c8trs8")},m($,ee){U($,n,ee),f(n,l),f(n,t),f(n,a),q(s,a,null),f(a,o),C&&C.m(a,null),f(a,r),f(a,u),q(v,u,null),f(u,k),f(u,D),f(a,F),f(a,S),f(S,O),f(S,L),q(M,S,null),U($,P,ee),Y&&Y.m($,ee),U($,K,ee),X=!0},p($,ee){var se;const g={};ee&1&&(g.disabled=!$[0].canSaveComplete),!i&&ee&1&&(i=!0,g.value=$[0].housingTypeOfService,Q(()=>i=!1)),s.$set(g),((se=$[0].housingTypeOfService)==null?void 0:se.key)===he.HousingTypeOfService.Other?C?(C.p($,ee),ee&1&&p(C,1)):(C=Zn($),C.c(),p(C,1),C.m(a,r)):C&&(ce(),_(C,1,1,()=>{C=null}),me());const V={};ee&1&&(V.disabled=!$[0].canSaveComplete),!c&&ee&1&&(c=!0,V.value=$[0].housingCost,Q(()=>c=!1)),v.$set(V);const ue={};ee&1&&(ue.disabled=!$[0].canSaveComplete),!Z&&ee&1&&(Z=!0,ue.value=$[0].housingDetail,Q(()=>Z=!1)),M.$set(ue),$[0].recordId?Y?(Y.p($,ee),ee&1&&p(Y,1)):(Y=xn($),Y.c(),p(Y,1),Y.m(K.parentNode,K)):Y&&(ce(),_(Y,1,1,()=>{Y=null}),me())},i($){X||(p(s.$$.fragment,$),p(C),p(v.$$.fragment,$),p(M.$$.fragment,$),p(Y),X=!0)},o($){_(s.$$.fragment,$),_(C),_(v.$$.fragment,$),_(M.$$.fragment,$),_(Y),X=!1},d($){$&&z(n),B(s),C&&C.d(),B(v),B(M),$&&z(P),Y&&Y.d($),$&&z(K)}}}function Zn(e){let n,l,t;function a(i){e[17](i)}let s={label:"ระบุประเภทการซ่อมอื่นๆ",name:"housingTypeOfServiceOther",disabled:!e[0].canSaveComplete,required:!0};return e[0].housingTypeOfServiceOther!==void 0&&(s.value=e[0].housingTypeOfServiceOther),n=new Me({props:s}),R.push(()=>W(n,"value",a)),{c(){N(n.$$.fragment)},m(i,o){q(n,i,o),t=!0},p(i,o){const r={};o&1&&(r.disabled=!i[0].canSaveComplete),!l&&o&1&&(l=!0,r.value=i[0].housingTypeOfServiceOther,Q(()=>l=!1)),n.$set(r)},i(i){t||(p(n.$$.fragment,i),t=!0)},o(i){_(n.$$.fragment,i),t=!1},d(i){B(n,i)}}}function xn(e){let n,l,t,a;function s(o){e[21](o)}let i={isComplete:!0,canSave:e[0].canSaveComplete,canAttach:e[20]};return e[0].completedAttachmentFiles!==void 0&&(i.attachmentFiles=e[0].completedAttachmentFiles),l=new hn({props:i}),R.push(()=>W(l,"attachmentFiles",s)),l.$on("fileChanged",e[22]),{c(){n=m("div"),N(l.$$.fragment),h(n,"class","_container _container--green border-t-0 svelte-c8trs8")},m(o,r){U(o,n,r),q(l,n,null),a=!0},p(o,r){const u={};r&1&&(u.canSave=o[0].canSaveComplete),r&1&&(u.canAttach=o[20]),!t&&r&1&&(t=!0,u.attachmentFiles=o[0].completedAttachmentFiles,Q(()=>t=!1)),l.$set(u)},i(o){a||(p(l.$$.fragment,o),a=!0)},o(o){_(l.$$.fragment,o),a=!1},d(o){o&&z(n),B(l)}}}function et(e){let n,l,t,a,s,i,o,r,u,v,c;s=new pn({props:{label:"รายละเอียดเพิ่มเติม (ถ้ามี)",labelClass:"text-gray-800"}});function k(F){e[23](F)}let D={disabled:!e[0].canSaveComplete};return e[0].housingInternalDetail!==void 0&&(D.value=e[0].housingInternalDetail),u=new rn({props:D}),R.push(()=>W(u,"value",k)),{c(){n=m("div"),l=m("div"),l.textContent="สำหรับ Admin PMSV, PMSV",t=b(),a=m("div"),N(s.$$.fragment),i=b(),o=m("span"),o.textContent="(คำอธิบายเพิ่มเติมเกี่ยวกับสิ่งที่ซ่อมแซม เช่น สภาพที่ชำรุดเป็นอย่างไร)",r=b(),N(u.$$.fragment),h(l,"class","mb-2"),h(o,"class","text-secondary3"),h(a,"class","desktop:flex items-center gap-2 mb-1"),h(n,"class","_container _container--gray mt-1 svelte-c8trs8")},m(F,S){U(F,n,S),f(n,l),f(n,t),f(n,a),q(s,a,null),f(a,i),f(a,o),f(n,r),q(u,n,null),c=!0},p(F,S){const O={};S&1&&(O.disabled=!F[0].canSaveComplete),!v&&S&1&&(v=!0,O.value=F[0].housingInternalDetail,Q(()=>v=!1)),u.$set(O)},i(F){c||(p(s.$$.fragment,F),p(u.$$.fragment,F),c=!0)},o(F){_(s.$$.fragment,F),_(u.$$.fragment,F),c=!1},d(F){F&&z(n),B(s),B(u)}}}function Il(e){let n,l,t,a,s,i,o,r,u,v,c,k,D,F,S,O,L,M,Z,P,K,X,J,G,C,le,d,x,T,Y,w,$,ee,g,V,ue,se,re,_e,Ne,qe,we,Ue,Ee,Ae,Ie,Le,de;function be(E){e[1](E)}let ze={label:"วันที่ต้องการให้เข้าซ่อม",minDate:Cn.now().plus({days:1}).startOf("day").toJSDate(),disabled:!e[0].canSave,required:!0};e[0].repairDate!==void 0&&(ze.value=e[0].repairDate),i=new Dn({props:ze}),R.push(()=>W(i,"value",be));function Je(E){e[2](E)}let Ve={label:"เวลาที่ต้องการให้เข้าซ่อม",disabled:!e[0].canSave,required:!0};e[0].repairDate!==void 0&&(Ve.value=e[0].repairDate),u=new pl({props:Ve}),R.push(()=>W(u,"value",Je));function $e(E){e[3](E)}let ie={label:"บ้านเลขที่",name:"houseNo",disabled:!e[0].canSave,required:!0};e[0].houseNo!==void 0&&(ie.value=e[0].houseNo),D=new Me({props:ie}),R.push(()=>W(D,"value",$e));function A(E){e[4](E)}let y={label:"กะ",disabled:!e[0].canSave,required:!0};e[0].period!==void 0&&(y.value=e[0].period),O=new Cl({props:y}),R.push(()=>W(O,"value",A));function te(E){e[5](E)}let I={label:"ประเภทของที่อยู่อาศัย",disabled:!e[0].canSave,required:!0};e[0].houseType!==void 0&&(I.value=e[0].houseType),Z=new Fl({props:I}),R.push(()=>W(Z,"value",te));function ne(E){e[6](E)}let j={label:"เบอร์โทรศัพท์ภายใน",name:"telNo",disabled:!e[0].canSave};e[0].telNo!==void 0&&(j.value=e[0].telNo),X=new Me({props:j}),R.push(()=>W(X,"value",ne));function oe(E){e[7](E)}let Oe={label:"เบอร์โทรศัพท์มือถือ (Mobile)",name:"mobileNo",disabled:!e[0].canSave,required:!0};e[0].mobileNo!==void 0&&(Oe.value=e[0].mobileNo),C=new Me({props:Oe}),R.push(()=>W(C,"value",oe)),C.$on("input",e[8]),C.$on("keypress",e[9]);function Ke(E){e[10](E)}let ke={label:"หัวเรื่อง (Topic)",name:"topic",disabled:!e[0].canSave,required:!0};e[0].topic!==void 0&&(ke.value=e[0].topic),T=new Me({props:ke}),R.push(()=>W(T,"value",Ke)),g=new pn({props:{label:"รายละเอียด (Detail)",labelClass:"text-gray-800",required:!0}});function Se(E){e[11](E)}let Fe={name:"detail",disabled:!e[0].canSave};e[0].detail!==void 0&&(Fe.value=e[0].detail),re=new rn({props:Fe}),R.push(()=>W(re,"value",Se));function Be(E){e[12](E)}let Re={isHorizontal:!0,label:"วันที่ต้องการให้แล้วเสร็จ",name:"expectedDueDate",minDate:Cn.now().plus({days:1}).startOf("day").toJSDate(),disabled:!e[0].canSave,required:!0};e[0].expectedDueDate!==void 0&&(Re.value=e[0].expectedDueDate),we=new Dn({props:Re}),R.push(()=>W(we,"value",Be));let pe=e[0].recordId&&Xn(e),ge=e[0].showCompleteForm&&Yn(e),ve=e[0].showHousingInternalDetail&&et(e);return{c(){n=m("div"),l=m("div"),l.textContent="รายละเอียดงานแจ้งซ่อมบ้านพัก (Housing Repair)",t=b(),a=m("div"),s=m("div"),N(i.$$.fragment),r=b(),N(u.$$.fragment),c=b(),k=m("div"),N(D.$$.fragment),S=b(),N(O.$$.fragment),M=b(),N(Z.$$.fragment),K=b(),N(X.$$.fragment),G=b(),N(C.$$.fragment),d=b(),x=m("div"),N(T.$$.fragment),w=b(),$=m("div"),ee=m("div"),N(g.$$.fragment),V=b(),ue=m("span"),ue.textContent=`(คำอธิบายเพิ่มเติมเกี่ยวกับสิ่งที่ซ่อมแซม เช่น
          สภาพที่ชำรุดเป็นอย่างไร)`,se=b(),N(re.$$.fragment),Ne=b(),qe=m("div"),N(we.$$.fragment),Ee=b(),pe&&pe.c(),Ae=b(),ge&&ge.c(),Ie=b(),ve&&ve.c(),Le=on(),h(l,"class","_title svelte-c8trs8"),h(s,"class","grid grid-cols-2 gap-2"),h(k,"class","grid grid-cols-2 gap-2"),h(x,"class","desktop:col-span-2"),h(ue,"class","text-secondary3"),h(ee,"class","desktop:flex items-center gap-2 mb-1"),h($,"class","desktop:col-span-3"),h(qe,"class","desktop:col-start-3"),h(a,"class","grid grid-cols-1 gap-2 desktop:grid-cols-3 desktop:gap-x-10"),h(n,"class","_container _container--gray svelte-c8trs8")},m(E,ae){U(E,n,ae),f(n,l),f(n,t),f(n,a),f(a,s),q(i,s,null),f(s,r),q(u,s,null),f(a,c),f(a,k),q(D,k,null),f(k,S),q(O,k,null),f(a,M),q(Z,a,null),f(a,K),q(X,a,null),f(a,G),q(C,a,null),f(a,d),f(a,x),q(T,x,null),f(a,w),f(a,$),f($,ee),q(g,ee,null),f(ee,V),f(ee,ue),f($,se),q(re,$,null),f(a,Ne),f(a,qe),q(we,qe,null),U(E,Ee,ae),pe&&pe.m(E,ae),U(E,Ae,ae),ge&&ge.m(E,ae),U(E,Ie,ae),ve&&ve.m(E,ae),U(E,Le,ae),de=!0},p(E,[ae]){const je={};ae&1&&(je.disabled=!E[0].canSave),!o&&ae&1&&(o=!0,je.value=E[0].repairDate,Q(()=>o=!1)),i.$set(je);const He={};ae&1&&(He.disabled=!E[0].canSave),!v&&ae&1&&(v=!0,He.value=E[0].repairDate,Q(()=>v=!1)),u.$set(He);const Pe={};ae&1&&(Pe.disabled=!E[0].canSave),!F&&ae&1&&(F=!0,Pe.value=E[0].houseNo,Q(()=>F=!1)),D.$set(Pe);const sn={};ae&1&&(sn.disabled=!E[0].canSave),!L&&ae&1&&(L=!0,sn.value=E[0].period,Q(()=>L=!1)),O.$set(sn);const ye={};ae&1&&(ye.disabled=!E[0].canSave),!P&&ae&1&&(P=!0,ye.value=E[0].houseType,Q(()=>P=!1)),Z.$set(ye);const kn={};ae&1&&(kn.disabled=!E[0].canSave),!J&&ae&1&&(J=!0,kn.value=E[0].telNo,Q(()=>J=!1)),X.$set(kn);const On={};ae&1&&(On.disabled=!E[0].canSave),!le&&ae&1&&(le=!0,On.value=E[0].mobileNo,Q(()=>le=!1)),C.$set(On);const Sn={};ae&1&&(Sn.disabled=!E[0].canSave),!Y&&ae&1&&(Y=!0,Sn.value=E[0].topic,Q(()=>Y=!1)),T.$set(Sn);const wn={};ae&1&&(wn.disabled=!E[0].canSave),!_e&&ae&1&&(_e=!0,wn.value=E[0].detail,Q(()=>_e=!1)),re.$set(wn);const ln={};ae&1&&(ln.disabled=!E[0].canSave),!Ue&&ae&1&&(Ue=!0,ln.value=E[0].expectedDueDate,Q(()=>Ue=!1)),we.$set(ln),E[0].recordId?pe?(pe.p(E,ae),ae&1&&p(pe,1)):(pe=Xn(E),pe.c(),p(pe,1),pe.m(Ae.parentNode,Ae)):pe&&(ce(),_(pe,1,1,()=>{pe=null}),me()),E[0].showCompleteForm?ge?(ge.p(E,ae),ae&1&&p(ge,1)):(ge=Yn(E),ge.c(),p(ge,1),ge.m(Ie.parentNode,Ie)):ge&&(ce(),_(ge,1,1,()=>{ge=null}),me()),E[0].showHousingInternalDetail?ve?(ve.p(E,ae),ae&1&&p(ve,1)):(ve=et(E),ve.c(),p(ve,1),ve.m(Le.parentNode,Le)):ve&&(ce(),_(ve,1,1,()=>{ve=null}),me())},i(E){de||(p(i.$$.fragment,E),p(u.$$.fragment,E),p(D.$$.fragment,E),p(O.$$.fragment,E),p(Z.$$.fragment,E),p(X.$$.fragment,E),p(C.$$.fragment,E),p(T.$$.fragment,E),p(g.$$.fragment,E),p(re.$$.fragment,E),p(we.$$.fragment,E),p(pe),p(ge),p(ve),de=!0)},o(E){_(i.$$.fragment,E),_(u.$$.fragment,E),_(D.$$.fragment,E),_(O.$$.fragment,E),_(Z.$$.fragment,E),_(X.$$.fragment,E),_(C.$$.fragment,E),_(T.$$.fragment,E),_(g.$$.fragment,E),_(re.$$.fragment,E),_(we.$$.fragment,E),_(pe),_(ge),_(ve),de=!1},d(E){E&&z(n),B(i),B(u),B(D),B(O),B(Z),B(X),B(C),B(T),B(g),B(re),B(we),E&&z(Ee),pe&&pe.d(E),E&&z(Ae),ge&&ge.d(E),E&&z(Ie),ve&&ve.d(E),E&&z(Le)}}}function El(e,n,l){let{data:t}=n;function a(d){e.$$.not_equal(t.repairDate,d)&&(t.repairDate=d,l(0,t))}function s(d){e.$$.not_equal(t.repairDate,d)&&(t.repairDate=d,l(0,t))}function i(d){e.$$.not_equal(t.houseNo,d)&&(t.houseNo=d,l(0,t))}function o(d){e.$$.not_equal(t.period,d)&&(t.period=d,l(0,t))}function r(d){e.$$.not_equal(t.houseType,d)&&(t.houseType=d,l(0,t))}function u(d){e.$$.not_equal(t.telNo,d)&&(t.telNo=d,l(0,t))}function v(d){e.$$.not_equal(t.mobileNo,d)&&(t.mobileNo=d,l(0,t))}const c=()=>{/\D/.test(t.mobileNo)&&l(0,t.mobileNo=t.mobileNo.replace(/\D/g,""),t),t.mobileNo.length>10&&l(0,t.mobileNo=t.mobileNo.slice(0,10),t)},k=d=>{var x;/\D/.test(d.key)&&d.preventDefault(),((x=t.mobileNo)==null?void 0:x.length)>10&&d.preventDefault()};function D(d){e.$$.not_equal(t.topic,d)&&(t.topic=d,l(0,t))}function F(d){e.$$.not_equal(t.detail,d)&&(t.detail=d,l(0,t))}function S(d){e.$$.not_equal(t.expectedDueDate,d)&&(t.expectedDueDate=d,l(0,t))}function O(d){e.$$.not_equal(t.attachmentFiles,d)&&(t.attachmentFiles=d,l(0,t))}function L(d){Qe.call(this,e,d)}function M(d){e.$$.not_equal(t.housingTypeOfService,d)&&(t.housingTypeOfService=d,l(0,t))}const Z=()=>{l(0,t.housingTypeOfServiceOther="",t)};function P(d){e.$$.not_equal(t.housingTypeOfServiceOther,d)&&(t.housingTypeOfServiceOther=d,l(0,t))}function K(d){e.$$.not_equal(t.housingCost,d)&&(t.housingCost=d,l(0,t))}function X(d){e.$$.not_equal(t.housingDetail,d)&&(t.housingDetail=d,l(0,t))}const J=()=>{var d;return(d=t.housingTypeOfService)!=null&&d.key?!0:(tn.error("กรุณาระบุ ประเภทการซ่อม"),!1)};function G(d){e.$$.not_equal(t.completedAttachmentFiles,d)&&(t.completedAttachmentFiles=d,l(0,t))}function C(d){Qe.call(this,e,d)}function le(d){e.$$.not_equal(t.housingInternalDetail,d)&&(t.housingInternalDetail=d,l(0,t))}return e.$$set=d=>{"data"in d&&l(0,t=d.data)},[t,a,s,i,o,r,u,v,c,k,D,F,S,O,L,M,Z,P,K,X,J,G,C,le]}class Ll extends Ye{constructor(n){super(),Ze(this,n,El,Il,xe,{data:0})}}function jl(e){let n,l,t;const a=[{isPrimitive:!0},{placeholder:""},{getOptionList:e[1]},{clearable:!1},e[2],{value:e[0]}];function s(o){e[3](o)}let i={};for(let o=0;o<a.length;o+=1)i=Te(i,a[o]);return e[0]!==void 0&&(i.justValue=e[0]),n=new gn({props:i}),R.push(()=>W(n,"justValue",s)),n.$on("change",e[4]),{c(){N(n.$$.fragment)},m(o,r){q(n,o,r),t=!0},p(o,[r]){const u=r&7?cn(a,[a[0],a[1],r&2&&{getOptionList:o[1]},a[3],r&4&&mn(o[2]),r&1&&{value:o[0]}]):{};!l&&r&1&&(l=!0,u.justValue=o[0],Q(()=>l=!1)),n.$set(u)},i(o){t||(p(n.$$.fragment,o),t=!0)},o(o){_(n.$$.fragment,o),t=!1},d(o){B(n,o)}}}function Hl(e,n,l){const t=["value"];let a=We(n,t),{value:s=void 0}=n;function i(){return nn.GetAreas()}function o(u){s=u,l(0,s)}function r(u){Qe.call(this,e,u)}return e.$$set=u=>{n=Te(Te({},n),_n(u)),l(2,a=We(n,t)),"value"in u&&l(0,s=u.value)},[s,i,a,o,r]}class Gt extends Ye{constructor(n){super(),Ze(this,n,Hl,jl,xe,{value:0})}}function Pl(e){let n,l,t;const a=[{isPrimitive:!0},{placeholder:""},{options:e[1]},{clearable:!1},e[2],{value:e[0]}];function s(o){e[4](o)}let i={};for(let o=0;o<a.length;o+=1)i=Te(i,a[o]);return e[0]!==void 0&&(i.justValue=e[0]),n=new gn({props:i}),R.push(()=>W(n,"justValue",s)),n.$on("change",e[5]),{c(){N(n.$$.fragment)},m(o,r){q(n,o,r),t=!0},p(o,[r]){const u=r&7?cn(a,[a[0],a[1],r&2&&{options:o[1]},a[3],r&4&&mn(o[2]),r&1&&{value:o[0]}]):{};!l&&r&1&&(l=!0,u.justValue=o[0],Q(()=>l=!1)),n.$set(u)},i(o){t||(p(n.$$.fragment,o),t=!0)},o(o){_(n.$$.fragment,o),t=!1},d(o){B(n,o)}}}function Gl(e,n,l){const t=["area","value"];let a=We(n,t),{area:s}=n,{value:i=void 0}=n,o=[];function r(){return nn.GetBuildings({searchKey:"",area:s}).then(c=>{l(1,o=c)})}function u(c){i=c,l(0,i)}function v(c){Qe.call(this,e,c)}return e.$$set=c=>{n=Te(Te({},n),_n(c)),l(2,a=We(n,t)),"area"in c&&l(3,s=c.area),"value"in c&&l(0,i=c.value)},e.$$.update=()=>{e.$$.dirty&8&&s&&r()},[i,o,a,s,u,v]}class Ml extends Ye{constructor(n){super(),Ze(this,n,Gl,Pl,xe,{area:3,value:0})}}function Vl(e){let n,l,t;const a=[{placeholder:""},{clearable:!1},{labelKey:"value"},{valueKey:"key"},{options:e[1]},e[2]];function s(o){e[3](o)}let i={};for(let o=0;o<a.length;o+=1)i=Te(i,a[o]);return e[0]!==void 0&&(i.value=e[0]),n=new gn({props:i}),R.push(()=>W(n,"value",s)),n.$on("change",e[4]),{c(){N(n.$$.fragment)},m(o,r){q(n,o,r),t=!0},p(o,[r]){const u=r&6?cn(a,[a[0],a[1],a[2],a[3],r&2&&{options:o[1]},r&4&&mn(o[2])]):{};!l&&r&1&&(l=!0,u.value=o[0],Q(()=>l=!1)),n.$set(u)},i(o){t||(p(n.$$.fragment,o),t=!0)},o(o){_(n.$$.fragment,o),t=!1},d(o){B(n,o)}}}function Rl(e,n,l){const t=["value"];let a=We(n,t),{value:s=void 0}=n;const i=Object.keys(he.OfficeTypeOfService).map(u=>({key:u,value:Xt[u]}));function o(u){s=u,l(0,s)}function r(u){Qe.call(this,e,u)}return e.$$set=u=>{n=Te(Te({},n),_n(u)),l(2,a=We(n,t)),"value"in u&&l(0,s=u.value)},[s,i,a,o,r]}class Ul extends Ye{constructor(n){super(),Ze(this,n,Rl,Vl,xe,{value:0})}}function nt(e){let n,l,t,a;function s(o){e[13](o)}let i={isComplete:!1,canSave:e[0].canSave};return e[0].attachmentFiles!==void 0&&(i.attachmentFiles=e[0].attachmentFiles),l=new hn({props:i}),R.push(()=>W(l,"attachmentFiles",s)),l.$on("fileChanged",e[14]),{c(){n=m("div"),N(l.$$.fragment),h(n,"class","_container _container--gray border-t-0 svelte-c8trs8")},m(o,r){U(o,n,r),q(l,n,null),a=!0},p(o,r){const u={};r&1&&(u.canSave=o[0].canSave),!t&&r&1&&(t=!0,u.attachmentFiles=o[0].attachmentFiles,Q(()=>t=!1)),l.$set(u)},i(o){a||(p(l.$$.fragment,o),a=!0)},o(o){_(l.$$.fragment,o),a=!1},d(o){o&&z(n),B(l)}}}function tt(e){var ee;let n,l,t,a,s,i,o,r,u,v,c,k,D,F,S,O,L,M,Z,P,K,X,J,G;function C(g){e[15](g)}let le={label:"ประเภทการซ่อม",required:!0,disabled:!e[0].canSaveComplete};e[0].officeTypeOfService!==void 0&&(le.value=e[0].officeTypeOfService),i=new Ul({props:le}),R.push(()=>W(i,"value",C)),i.$on("change",e[16]);let d=((ee=e[0].officeTypeOfService)==null?void 0:ee.key)===he.OfficeTypeOfService.Other&&lt(e);function x(g){e[18](g)}let T={label:"ค่าใช้จ่าย (บาท)",name:"officeCost",disabled:!e[0].canSaveComplete};e[0].officeCost!==void 0&&(T.value=e[0].officeCost),c=new Fn({props:T}),R.push(()=>W(c,"value",x)),O=new pn({props:{label:"รายละเอียดเพิ่มเติม (ถ้ามี)",labelClass:"text-gray-800"}});function Y(g){e[19](g)}let w={rows:3,disabled:!e[0].canSaveComplete};e[0].officeDetail!==void 0&&(w.value=e[0].officeDetail),P=new rn({props:w}),R.push(()=>W(P,"value",Y));let $=e[0].recordId&&at(e);return{c(){n=m("div"),l=m("div"),l.textContent=`รายละเอียดงานแจ้งซ่อมอุปกรณ์สำนักงาน/ส่วนอาคาร (Office Equipment/Building
      Repair)`,t=b(),a=m("div"),s=m("div"),N(i.$$.fragment),r=b(),d&&d.c(),u=b(),v=m("div"),N(c.$$.fragment),D=b(),F=m("div"),S=m("div"),N(O.$$.fragment),L=b(),M=m("span"),M.textContent=`(คำอธิบายเพิ่มเติมเกี่ยวกับสิ่งที่ซ่อมแซม เช่น
            สภาพที่ชำรุดเป็นอย่างไร)`,Z=b(),N(P.$$.fragment),X=b(),$&&$.c(),J=on(),h(l,"class","_title svelte-c8trs8"),h(M,"class","text-secondary3"),h(S,"class","desktop:flex items-center gap-2 mb-1"),h(F,"class","desktop:col-span-3"),h(a,"class","desktop:grid flex flex-col desktop:grid-cols-3 gap-2"),h(n,"class","_container _container--green border-t-0 svelte-c8trs8")},m(g,V){U(g,n,V),f(n,l),f(n,t),f(n,a),f(a,s),q(i,s,null),f(a,r),d&&d.m(a,null),f(a,u),f(a,v),q(c,v,null),f(a,D),f(a,F),f(F,S),q(O,S,null),f(S,L),f(S,M),f(F,Z),q(P,F,null),U(g,X,V),$&&$.m(g,V),U(g,J,V),G=!0},p(g,V){var _e;const ue={};V&1&&(ue.disabled=!g[0].canSaveComplete),!o&&V&1&&(o=!0,ue.value=g[0].officeTypeOfService,Q(()=>o=!1)),i.$set(ue),((_e=g[0].officeTypeOfService)==null?void 0:_e.key)===he.OfficeTypeOfService.Other?d?(d.p(g,V),V&1&&p(d,1)):(d=lt(g),d.c(),p(d,1),d.m(a,u)):d&&(ce(),_(d,1,1,()=>{d=null}),me());const se={};V&1&&(se.disabled=!g[0].canSaveComplete),!k&&V&1&&(k=!0,se.value=g[0].officeCost,Q(()=>k=!1)),c.$set(se);const re={};V&1&&(re.disabled=!g[0].canSaveComplete),!K&&V&1&&(K=!0,re.value=g[0].officeDetail,Q(()=>K=!1)),P.$set(re),g[0].recordId?$?($.p(g,V),V&1&&p($,1)):($=at(g),$.c(),p($,1),$.m(J.parentNode,J)):$&&(ce(),_($,1,1,()=>{$=null}),me())},i(g){G||(p(i.$$.fragment,g),p(d),p(c.$$.fragment,g),p(O.$$.fragment,g),p(P.$$.fragment,g),p($),G=!0)},o(g){_(i.$$.fragment,g),_(d),_(c.$$.fragment,g),_(O.$$.fragment,g),_(P.$$.fragment,g),_($),G=!1},d(g){g&&z(n),B(i),d&&d.d(),B(c),B(O),B(P),g&&z(X),$&&$.d(g),g&&z(J)}}}function lt(e){let n,l,t;function a(i){e[17](i)}let s={label:"ระบุประเภทการซ่อมอื่นๆ",required:!0,disabled:!e[0].canSaveComplete};return e[0].officeTypeOfServiceOther!==void 0&&(s.value=e[0].officeTypeOfServiceOther),n=new Me({props:s}),R.push(()=>W(n,"value",a)),{c(){N(n.$$.fragment)},m(i,o){q(n,i,o),t=!0},p(i,o){const r={};o&1&&(r.disabled=!i[0].canSaveComplete),!l&&o&1&&(l=!0,r.value=i[0].officeTypeOfServiceOther,Q(()=>l=!1)),n.$set(r)},i(i){t||(p(n.$$.fragment,i),t=!0)},o(i){_(n.$$.fragment,i),t=!1},d(i){B(n,i)}}}function at(e){let n,l,t,a;function s(o){e[21](o)}let i={isComplete:!0,canSave:e[0].canSaveComplete,canAttach:e[20]};return e[0].completedAttachmentFiles!==void 0&&(i.attachmentFiles=e[0].completedAttachmentFiles),l=new hn({props:i}),R.push(()=>W(l,"attachmentFiles",s)),l.$on("fileChanged",e[22]),{c(){n=m("div"),N(l.$$.fragment),h(n,"class","_container _container--green border-t-0 svelte-c8trs8")},m(o,r){U(o,n,r),q(l,n,null),a=!0},p(o,r){const u={};r&1&&(u.canSave=o[0].canSaveComplete),r&1&&(u.canAttach=o[20]),!t&&r&1&&(t=!0,u.attachmentFiles=o[0].completedAttachmentFiles,Q(()=>t=!1)),l.$set(u)},i(o){a||(p(l.$$.fragment,o),a=!0)},o(o){_(l.$$.fragment,o),a=!1},d(o){o&&z(n),B(l)}}}function it(e){let n,l,t,a,s,i,o,r,u,v,c,k;i=new pn({props:{label:"รายละเอียดเพิ่มเติม (ถ้ามี)",labelClass:"text-gray-800"}});function D(S){e[23](S)}let F={rows:3,disabled:!e[0].canSaveComplete};return e[0].officeInternalDetail!==void 0&&(F.value=e[0].officeInternalDetail),v=new rn({props:F}),R.push(()=>W(v,"value",D)),{c(){n=m("div"),l=m("div"),l.innerHTML='<span class="font-weight-bold">สำหรับ Admin PMSV,PMSV</span>',t=b(),a=m("div"),s=m("div"),N(i.$$.fragment),o=b(),r=m("span"),r.textContent=`(คำอธิบายเพิ่มเติมเกี่ยวกับสิ่งที่ซ่อมแซม เช่น
          สภาพที่ชำรุดเป็นอย่างไร)`,u=b(),N(v.$$.fragment),h(l,"class","mb-2"),h(r,"class","text-secondary3"),h(s,"class","desktop:flex items-center gap-2 mb-1"),h(n,"class","_container _container--gray mt-1 svelte-c8trs8")},m(S,O){U(S,n,O),f(n,l),f(n,t),f(n,a),f(a,s),q(i,s,null),f(s,o),f(s,r),f(a,u),q(v,a,null),k=!0},p(S,O){const L={};O&1&&(L.disabled=!S[0].canSaveComplete),!c&&O&1&&(c=!0,L.value=S[0].officeInternalDetail,Q(()=>c=!1)),v.$set(L)},i(S){k||(p(i.$$.fragment,S),p(v.$$.fragment,S),k=!0)},o(S){_(i.$$.fragment,S),_(v.$$.fragment,S),k=!1},d(S){S&&z(n),B(i),B(v)}}}function zl(e){let n,l,t,a,s,i,o,r,u,v,c,k,D,F,S,O,L,M,Z,P,K,X,J,G,C,le,d,x,T,Y,w,$,ee,g,V,ue,se,re,_e,Ne;function qe(j){e[1](j)}let we={label:"พื้นที่แจ้งซ่อม",disabled:!0,required:!0};e[0].repairArea!==void 0&&(we.value=e[0].repairArea),s=new Gt({props:we}),R.push(()=>W(s,"value",qe)),s.$on("change",e[2]);function Ue(j){e[3](j)}let Ee={label:"สำนักงาน/อาคาร (Office/building)",area:e[0].repairArea,disabled:!(e[0].repairArea&&e[0].canSave),required:!0};e[0].officeBuilding!==void 0&&(Ee.value=e[0].officeBuilding),r=new Ml({props:Ee}),R.push(()=>W(r,"value",Ue)),r.$on("change",e[4]);function Ae(j){e[5](j)}let Ie={label:"ชั้น/พื้นที่ (Floor/Location/Area)",name:"floor",disabled:!(e[0].officeBuilding&&e[0].canSave),required:!0};e[0].floor!==void 0&&(Ie.value=e[0].floor),c=new Me({props:Ie}),R.push(()=>W(c,"value",Ae));function Le(j){e[6](j)}let de={label:"เบอร์โทรศัพท์ภายใน",name:"telNo",disabled:!e[0].canSave};e[0].telNo!==void 0&&(de.value=e[0].telNo),F=new Me({props:de}),R.push(()=>W(F,"value",Le));function be(j){e[7](j)}let ze={label:"เบอร์โทรศัพท์มือถือ (Mobile)",name:"mobileNo",disabled:!e[0].canSave,required:!0};e[0].mobileNo!==void 0&&(ze.value=e[0].mobileNo),L=new Me({props:ze}),R.push(()=>W(L,"value",be)),L.$on("input",e[8]),L.$on("keypress",e[9]);function Je(j){e[10](j)}let Ve={label:"หัวเรื่อง (Topic)",name:"topic",disabled:!e[0].canSave,required:!0};e[0].topic!==void 0&&(Ve.value=e[0].topic),K=new Me({props:Ve}),R.push(()=>W(K,"value",Je)),le=new pn({props:{label:"รายละเอียด (Detail)",labelClass:"text-gray-800",required:!0}});function $e(j){e[11](j)}let ie={rows:3,disabled:!e[0].canSave};e[0].detail!==void 0&&(ie.value=e[0].detail),Y=new rn({props:ie}),R.push(()=>W(Y,"value",$e));function A(j){e[12](j)}let y={isHorizontal:!0,label:"วันที่ต้องการให้แล้วเสร็จ",required:!0,minDate:Cn.now().plus({days:1}).startOf("day").toJSDate(),disabled:!e[0].canSave};e[0].expectedDueDate!==void 0&&(y.value=e[0].expectedDueDate),g=new Dn({props:y}),R.push(()=>W(g,"value",A));let te=e[0].recordId&&nt(e),I=e[0].showCompleteForm&&tt(e),ne=e[0].showOfficeInternalDetail&&it(e);return{c(){n=m("div"),l=m("div"),l.textContent=`รายละเอียดงานแจ้งซ่อมอุปกรณ์สำนักงาน/ส่วนอาคาร (Office Equipment/Building
    Repair)`,t=b(),a=m("div"),N(s.$$.fragment),o=b(),N(r.$$.fragment),v=b(),N(c.$$.fragment),D=b(),N(F.$$.fragment),O=b(),N(L.$$.fragment),Z=b(),P=m("div"),N(K.$$.fragment),J=b(),G=m("div"),C=m("div"),N(le.$$.fragment),d=b(),x=m("span"),x.textContent=`(เพื่อความรวดเร็วในการให้บริการ โปรดระบุปัญหา และ/หรือ
          สาเหตุเบื้องต้นให้ชัดเจน)`,T=b(),N(Y.$$.fragment),$=b(),ee=m("div"),N(g.$$.fragment),ue=b(),te&&te.c(),se=b(),I&&I.c(),re=b(),ne&&ne.c(),_e=on(),h(l,"class","_title svelte-c8trs8"),h(P,"class","desktop:col-span-2"),h(x,"class","text-secondary3"),h(C,"class","desktop:flex items-center gap-2 mb-1"),h(G,"class","desktop:col-span-3"),h(ee,"class","col-start-3"),h(a,"class","desktop:grid flex flex-col desktop:grid-cols-3 gap-2"),h(n,"class","_container _container--gray px-1 svelte-c8trs8")},m(j,oe){U(j,n,oe),f(n,l),f(n,t),f(n,a),q(s,a,null),f(a,o),q(r,a,null),f(a,v),q(c,a,null),f(a,D),q(F,a,null),f(a,O),q(L,a,null),f(a,Z),f(a,P),q(K,P,null),f(a,J),f(a,G),f(G,C),q(le,C,null),f(C,d),f(C,x),f(G,T),q(Y,G,null),f(a,$),f(a,ee),q(g,ee,null),U(j,ue,oe),te&&te.m(j,oe),U(j,se,oe),I&&I.m(j,oe),U(j,re,oe),ne&&ne.m(j,oe),U(j,_e,oe),Ne=!0},p(j,[oe]){const Oe={};!i&&oe&1&&(i=!0,Oe.value=j[0].repairArea,Q(()=>i=!1)),s.$set(Oe);const Ke={};oe&1&&(Ke.area=j[0].repairArea),oe&1&&(Ke.disabled=!(j[0].repairArea&&j[0].canSave)),!u&&oe&1&&(u=!0,Ke.value=j[0].officeBuilding,Q(()=>u=!1)),r.$set(Ke);const ke={};oe&1&&(ke.disabled=!(j[0].officeBuilding&&j[0].canSave)),!k&&oe&1&&(k=!0,ke.value=j[0].floor,Q(()=>k=!1)),c.$set(ke);const Se={};oe&1&&(Se.disabled=!j[0].canSave),!S&&oe&1&&(S=!0,Se.value=j[0].telNo,Q(()=>S=!1)),F.$set(Se);const Fe={};oe&1&&(Fe.disabled=!j[0].canSave),!M&&oe&1&&(M=!0,Fe.value=j[0].mobileNo,Q(()=>M=!1)),L.$set(Fe);const Be={};oe&1&&(Be.disabled=!j[0].canSave),!X&&oe&1&&(X=!0,Be.value=j[0].topic,Q(()=>X=!1)),K.$set(Be);const Re={};oe&1&&(Re.disabled=!j[0].canSave),!w&&oe&1&&(w=!0,Re.value=j[0].detail,Q(()=>w=!1)),Y.$set(Re);const pe={};oe&1&&(pe.disabled=!j[0].canSave),!V&&oe&1&&(V=!0,pe.value=j[0].expectedDueDate,Q(()=>V=!1)),g.$set(pe),j[0].recordId?te?(te.p(j,oe),oe&1&&p(te,1)):(te=nt(j),te.c(),p(te,1),te.m(se.parentNode,se)):te&&(ce(),_(te,1,1,()=>{te=null}),me()),j[0].showCompleteForm?I?(I.p(j,oe),oe&1&&p(I,1)):(I=tt(j),I.c(),p(I,1),I.m(re.parentNode,re)):I&&(ce(),_(I,1,1,()=>{I=null}),me()),j[0].showOfficeInternalDetail?ne?(ne.p(j,oe),oe&1&&p(ne,1)):(ne=it(j),ne.c(),p(ne,1),ne.m(_e.parentNode,_e)):ne&&(ce(),_(ne,1,1,()=>{ne=null}),me())},i(j){Ne||(p(s.$$.fragment,j),p(r.$$.fragment,j),p(c.$$.fragment,j),p(F.$$.fragment,j),p(L.$$.fragment,j),p(K.$$.fragment,j),p(le.$$.fragment,j),p(Y.$$.fragment,j),p(g.$$.fragment,j),p(te),p(I),p(ne),Ne=!0)},o(j){_(s.$$.fragment,j),_(r.$$.fragment,j),_(c.$$.fragment,j),_(F.$$.fragment,j),_(L.$$.fragment,j),_(K.$$.fragment,j),_(le.$$.fragment,j),_(Y.$$.fragment,j),_(g.$$.fragment,j),_(te),_(I),_(ne),Ne=!1},d(j){j&&z(n),B(s),B(r),B(c),B(F),B(L),B(K),B(le),B(Y),B(g),j&&z(ue),te&&te.d(j),j&&z(se),I&&I.d(j),j&&z(re),ne&&ne.d(j),j&&z(_e)}}}function Kl(e,n,l){let{data:t}=n;function a(d){e.$$.not_equal(t.repairArea,d)&&(t.repairArea=d,l(0,t))}const s=()=>{l(0,t.officeBuilding=null,t),l(0,t.floor=null,t)};function i(d){e.$$.not_equal(t.officeBuilding,d)&&(t.officeBuilding=d,l(0,t))}const o=()=>{l(0,t.floor=null,t)};function r(d){e.$$.not_equal(t.floor,d)&&(t.floor=d,l(0,t))}function u(d){e.$$.not_equal(t.telNo,d)&&(t.telNo=d,l(0,t))}function v(d){e.$$.not_equal(t.mobileNo,d)&&(t.mobileNo=d,l(0,t))}const c=()=>{/\D/.test(t.mobileNo)&&l(0,t.mobileNo=t.mobileNo.replace(/\D/g,""),t),t.mobileNo.length>10&&l(0,t.mobileNo=t.mobileNo.slice(0,10),t)},k=d=>{var x;/\D/.test(d.key)&&d.preventDefault(),((x=t.mobileNo)==null?void 0:x.length)>10&&d.preventDefault()};function D(d){e.$$.not_equal(t.topic,d)&&(t.topic=d,l(0,t))}function F(d){e.$$.not_equal(t.detail,d)&&(t.detail=d,l(0,t))}function S(d){e.$$.not_equal(t.expectedDueDate,d)&&(t.expectedDueDate=d,l(0,t))}function O(d){e.$$.not_equal(t.attachmentFiles,d)&&(t.attachmentFiles=d,l(0,t))}function L(d){Qe.call(this,e,d)}function M(d){e.$$.not_equal(t.officeTypeOfService,d)&&(t.officeTypeOfService=d,l(0,t))}const Z=()=>{l(0,t.officeTypeOfServiceOther="",t)};function P(d){e.$$.not_equal(t.officeTypeOfServiceOther,d)&&(t.officeTypeOfServiceOther=d,l(0,t))}function K(d){e.$$.not_equal(t.officeCost,d)&&(t.officeCost=d,l(0,t))}function X(d){e.$$.not_equal(t.officeDetail,d)&&(t.officeDetail=d,l(0,t))}const J=()=>{var d;return(d=t.officeTypeOfService)!=null&&d.key?!0:(tn.error("กรุณาระบุ ประเภทการซ่อม"),!1)};function G(d){e.$$.not_equal(t.completedAttachmentFiles,d)&&(t.completedAttachmentFiles=d,l(0,t))}function C(d){Qe.call(this,e,d)}function le(d){e.$$.not_equal(t.officeInternalDetail,d)&&(t.officeInternalDetail=d,l(0,t))}return e.$$set=d=>{"data"in d&&l(0,t=d.data)},[t,a,s,i,o,r,u,v,c,k,D,F,S,O,L,M,Z,P,K,X,J,G,C,le]}class Jl extends Ye{constructor(n){super(),Ze(this,n,Kl,zl,xe,{data:0})}}function Wl(e){let n,l,t;const a=[{placeholder:""},{clearable:!1},{labelKey:"value"},{valueKey:"key"},{options:e[1]},e[2]];function s(o){e[3](o)}let i={};for(let o=0;o<a.length;o+=1)i=Te(i,a[o]);return e[0]!==void 0&&(i.value=e[0]),n=new gn({props:i}),R.push(()=>W(n,"value",s)),n.$on("change",e[4]),{c(){N(n.$$.fragment)},m(o,r){q(n,o,r),t=!0},p(o,[r]){const u=r&6?cn(a,[a[0],a[1],a[2],a[3],r&2&&{options:o[1]},r&4&&mn(o[2])]):{};!l&&r&1&&(l=!0,u.value=o[0],Q(()=>l=!1)),n.$set(u)},i(o){t||(p(n.$$.fragment,o),t=!0)},o(o){_(n.$$.fragment,o),t=!1},d(o){B(n,o)}}}function Ql(e,n,l){const t=["value"];let a=We(n,t),{value:s=void 0}=n;const i=Object.keys(he.TransportationType).map(u=>({key:u,value:Yt[u]}));function o(u){s=u,l(0,s)}function r(u){Qe.call(this,e,u)}return e.$$set=u=>{n=Te(Te({},n),_n(u)),l(2,a=We(n,t)),"value"in u&&l(0,s=u.value)},[s,i,a,o,r]}class Xl extends Ye{constructor(n){super(),Ze(this,n,Ql,Wl,xe,{value:0})}}function Yl(e){let n,l,t;const a=[{placeholder:""},{clearable:!1},{labelKey:"value"},{valueKey:"key"},{options:e[1]},e[2]];function s(o){e[3](o)}let i={};for(let o=0;o<a.length;o+=1)i=Te(i,a[o]);return e[0]!==void 0&&(i.value=e[0]),n=new gn({props:i}),R.push(()=>W(n,"value",s)),n.$on("change",e[4]),{c(){N(n.$$.fragment)},m(o,r){q(n,o,r),t=!0},p(o,[r]){const u=r&6?cn(a,[a[0],a[1],a[2],a[3],r&2&&{options:o[1]},r&4&&mn(o[2])]):{};!l&&r&1&&(l=!0,u.value=o[0],Q(()=>l=!1)),n.$set(u)},i(o){t||(p(n.$$.fragment,o),t=!0)},o(o){_(n.$$.fragment,o),t=!1},d(o){B(n,o)}}}function Zl(e,n,l){const t=["value"];let a=We(n,t),{value:s=void 0}=n;const i=Object.keys(he.TransportationTypeOfService).map(u=>({key:u,value:Zt[u]}));function o(u){s=u,l(0,s)}function r(u){Qe.call(this,e,u)}return e.$$set=u=>{n=Te(Te({},n),_n(u)),l(2,a=We(n,t)),"value"in u&&l(0,s=u.value)},[s,i,a,o,r]}class xl extends Ye{constructor(n){super(),Ze(this,n,Zl,Yl,xe,{value:0})}}function ot(e,n,l){const t=e.slice();return t[26]=n[l],t[27]=n,t[28]=l,t}function rt(e){let n=[],l=new Map,t,a,s=e[0].transportationItems;const i=o=>o[28];for(let o=0;o<s.length;o+=1){let r=ot(e,s,o),u=i(r);l.set(u,n[o]=ft(u,r))}return{c(){for(let o=0;o<n.length;o+=1)n[o].c();t=on()},m(o,r){for(let u=0;u<n.length;u+=1)n[u]&&n[u].m(o,r);U(o,t,r),a=!0},p(o,r){r&5&&(s=o[0].transportationItems,ce(),n=xt(n,r,i,1,o,s,l,t.parentNode,el,ft,t,ot),me())},i(o){if(!a){for(let r=0;r<s.length;r+=1)p(n[r]);a=!0}},o(o){for(let r=0;r<n.length;r+=1)_(n[r]);a=!1},d(o){for(let r=0;r<n.length;r+=1)n[r].d(o);o&&z(t)}}}function st(e){let n,l,t;function a(){return e[9](e[28])}return l=new un({props:{outline:!0,icon:"ic-delete"}}),l.$on("click",a),{c(){n=m("span"),N(l.$$.fragment)},m(s,i){U(s,n,i),q(l,n,null),t=!0},p(s,i){e=s},i(s){t||(p(l.$$.fragment,s),t=!0)},o(s){_(l.$$.fragment,s),t=!1},d(s){s&&z(n),B(l)}}}function ft(e,n){let l,t,a,s,i=n[28]+1+"",o,r,u,v,c,k,D,F,S,O,L,M,Z,P,K,X,J,G=n[0].transportationItems.length>1&&n[0].canSave&&st(n);function C(w){n[10](w,n[26])}let le={label:"ประเภทยานพาหนะ",required:!0,disabled:!n[0].canSave};n[26].transportationType!==void 0&&(le.value=n[26].transportationType),c=new Xl({props:le}),R.push(()=>W(c,"value",C));function d(w){n[11](w,n[26])}let x={name:"transportationNo",label:"หมายเลขยานพาหนะ",required:!0,disabled:!n[0].canSave};n[26].transportationNo!==void 0&&(x.value=n[26].transportationNo),F=new Me({props:x}),R.push(()=>W(F,"value",d));function T(w){n[12](w,n[26])}let Y={name:"detail",label:"รายละเอียด",required:!0,disabled:!n[0].canSave};return n[26].detail!==void 0&&(Y.value=n[26].detail),M=new Me({props:Y}),R.push(()=>W(M,"value",T)),{key:e,first:null,c(){l=m("div"),t=m("div"),a=m("span"),s=De("รายการที่ "),o=De(i),r=b(),G&&G.c(),u=b(),v=m("div"),N(c.$$.fragment),D=b(),N(F.$$.fragment),O=b(),L=m("div"),N(M.$$.fragment),P=b(),K=m("div"),X=b(),h(a,"class","font-weight-bold text-primary"),h(t,"class","mb-2 flex justify-between items-center"),h(L,"class","col-span-2"),h(v,"class","grid desktop:grid-cols-4 grid-cols-2 gap-2"),h(K,"class","divider mb-1"),this.first=l},m(w,$){U(w,l,$),f(l,t),f(t,a),f(a,s),f(a,o),f(t,r),G&&G.m(t,null),f(l,u),f(l,v),q(c,v,null),f(v,D),q(F,v,null),f(v,O),f(v,L),q(M,L,null),f(l,P),f(l,K),f(l,X),J=!0},p(w,$){n=w,(!J||$&1)&&i!==(i=n[28]+1+"")&&Ge(o,i),n[0].transportationItems.length>1&&n[0].canSave?G?(G.p(n,$),$&1&&p(G,1)):(G=st(n),G.c(),p(G,1),G.m(t,null)):G&&(ce(),_(G,1,1,()=>{G=null}),me());const ee={};$&1&&(ee.disabled=!n[0].canSave),!k&&$&1&&(k=!0,ee.value=n[26].transportationType,Q(()=>k=!1)),c.$set(ee);const g={};$&1&&(g.disabled=!n[0].canSave),!S&&$&1&&(S=!0,g.value=n[26].transportationNo,Q(()=>S=!1)),F.$set(g);const V={};$&1&&(V.disabled=!n[0].canSave),!Z&&$&1&&(Z=!0,V.value=n[26].detail,Q(()=>Z=!1)),M.$set(V)},i(w){J||(p(G),p(c.$$.fragment,w),p(F.$$.fragment,w),p(M.$$.fragment,w),J=!0)},o(w){_(G),_(c.$$.fragment,w),_(F.$$.fragment,w),_(M.$$.fragment,w),J=!1},d(w){w&&z(l),G&&G.d(),B(c),B(F),B(M)}}}function ut(e){let n,l,t;return l=new un({props:{outline:!0,label:"เพิ่มรายการยานพาหนะ",icon:"ic-add"}}),l.$on("click",e[1]),{c(){n=m("div"),N(l.$$.fragment)},m(a,s){U(a,n,s),q(l,n,null),t=!0},p:jt,i(a){t||(p(l.$$.fragment,a),t=!0)},o(a){_(l.$$.fragment,a),t=!1},d(a){a&&z(n),B(l)}}}function pt(e){let n,l,t,a;function s(o){e[15](o)}let i={isComplete:!1,canSave:e[0].canSave};return e[0].attachmentFiles!==void 0&&(i.attachmentFiles=e[0].attachmentFiles),l=new hn({props:i}),R.push(()=>W(l,"attachmentFiles",s)),l.$on("fileChanged",e[16]),{c(){n=m("div"),N(l.$$.fragment),h(n,"class","_container _container--gray border-t-0 svelte-c8trs8")},m(o,r){U(o,n,r),q(l,n,null),a=!0},p(o,r){const u={};r&1&&(u.canSave=o[0].canSave),!t&&r&1&&(t=!0,u.attachmentFiles=o[0].attachmentFiles,Q(()=>t=!1)),l.$set(u)},i(o){a||(p(l.$$.fragment,o),a=!0)},o(o){_(l.$$.fragment,o),a=!1},d(o){o&&z(n),B(l)}}}function dt(e){var ee;let n,l,t,a,s,i,o,r,u,v,c,k,D,F,S,O,L,M,Z,P,K,X,J,G;function C(g){e[17](g)}let le={label:"ประเภทการซ่อม",required:!0,disabled:!e[0].canSaveComplete};e[0].transportationTypeOfService!==void 0&&(le.value=e[0].transportationTypeOfService),i=new xl({props:le}),R.push(()=>W(i,"value",C)),i.$on("change",e[18]);let d=((ee=e[0].transportationTypeOfService)==null?void 0:ee.key)===he.TransportationTypeOfService.Other&&ct(e);function x(g){e[20](g)}let T={label:"ค่าใช้จ่าย (บาท)",name:"transportationCost",disabled:!e[0].canSaveComplete};e[0].transportationCost!==void 0&&(T.value=e[0].transportationCost),c=new Fn({props:T}),R.push(()=>W(c,"value",x)),O=new pn({props:{label:"รายละเอียดเพิ่มเติม (ถ้ามี)",labelClass:"text-gray-800"}});function Y(g){e[21](g)}let w={rows:3,disabled:!e[0].canSaveComplete};e[0].transportationDetail!==void 0&&(w.value=e[0].transportationDetail),P=new rn({props:w}),R.push(()=>W(P,"value",Y));let $=e[0].recordId&&mt(e);return{c(){n=m("div"),l=m("div"),l.textContent="งานแจ้งซ่อมยานพาหนะ (Transportation Service)",t=b(),a=m("div"),s=m("div"),N(i.$$.fragment),r=b(),d&&d.c(),u=b(),v=m("div"),N(c.$$.fragment),D=b(),F=m("div"),S=m("div"),N(O.$$.fragment),L=b(),M=m("span"),M.textContent=`(คำอธิบายเพิ่มเติมเกี่ยวกับสิ่งที่ซ่อมแซม เช่น
            สภาพที่ชำรุดเป็นอย่างไร)`,Z=b(),N(P.$$.fragment),X=b(),$&&$.c(),J=on(),h(l,"class","_title svelte-c8trs8"),h(M,"class","text-secondary3"),h(S,"class","desktop:flex items-center gap-2 mb-1"),h(F,"class","desktop:col-span-3"),h(a,"class","desktop:grid flex flex-col desktop:grid-cols-3 gap-2"),h(n,"class","_container _container--green border-t-0 svelte-c8trs8")},m(g,V){U(g,n,V),f(n,l),f(n,t),f(n,a),f(a,s),q(i,s,null),f(a,r),d&&d.m(a,null),f(a,u),f(a,v),q(c,v,null),f(a,D),f(a,F),f(F,S),q(O,S,null),f(S,L),f(S,M),f(F,Z),q(P,F,null),U(g,X,V),$&&$.m(g,V),U(g,J,V),G=!0},p(g,V){var _e;const ue={};V&1&&(ue.disabled=!g[0].canSaveComplete),!o&&V&1&&(o=!0,ue.value=g[0].transportationTypeOfService,Q(()=>o=!1)),i.$set(ue),((_e=g[0].transportationTypeOfService)==null?void 0:_e.key)===he.TransportationTypeOfService.Other?d?(d.p(g,V),V&1&&p(d,1)):(d=ct(g),d.c(),p(d,1),d.m(a,u)):d&&(ce(),_(d,1,1,()=>{d=null}),me());const se={};V&1&&(se.disabled=!g[0].canSaveComplete),!k&&V&1&&(k=!0,se.value=g[0].transportationCost,Q(()=>k=!1)),c.$set(se);const re={};V&1&&(re.disabled=!g[0].canSaveComplete),!K&&V&1&&(K=!0,re.value=g[0].transportationDetail,Q(()=>K=!1)),P.$set(re),g[0].recordId?$?($.p(g,V),V&1&&p($,1)):($=mt(g),$.c(),p($,1),$.m(J.parentNode,J)):$&&(ce(),_($,1,1,()=>{$=null}),me())},i(g){G||(p(i.$$.fragment,g),p(d),p(c.$$.fragment,g),p(O.$$.fragment,g),p(P.$$.fragment,g),p($),G=!0)},o(g){_(i.$$.fragment,g),_(d),_(c.$$.fragment,g),_(O.$$.fragment,g),_(P.$$.fragment,g),_($),G=!1},d(g){g&&z(n),B(i),d&&d.d(),B(c),B(O),B(P),g&&z(X),$&&$.d(g),g&&z(J)}}}function ct(e){let n,l,t;function a(i){e[19](i)}let s={label:"ระบุประเภทการซ่อมอื่นๆ",required:!0,disabled:!e[0].canSaveComplete};return e[0].transportationTypeOfServiceOther!==void 0&&(s.value=e[0].transportationTypeOfServiceOther),n=new Me({props:s}),R.push(()=>W(n,"value",a)),{c(){N(n.$$.fragment)},m(i,o){q(n,i,o),t=!0},p(i,o){const r={};o&1&&(r.disabled=!i[0].canSaveComplete),!l&&o&1&&(l=!0,r.value=i[0].transportationTypeOfServiceOther,Q(()=>l=!1)),n.$set(r)},i(i){t||(p(n.$$.fragment,i),t=!0)},o(i){_(n.$$.fragment,i),t=!1},d(i){B(n,i)}}}function mt(e){let n,l,t,a;function s(o){e[23](o)}let i={isComplete:!0,canSave:e[0].canSaveComplete,canAttach:e[22]};return e[0].completedAttachmentFiles!==void 0&&(i.attachmentFiles=e[0].completedAttachmentFiles),l=new hn({props:i}),R.push(()=>W(l,"attachmentFiles",s)),l.$on("fileChanged",e[24]),{c(){n=m("div"),N(l.$$.fragment),h(n,"class","_container _container--green border-t-0 svelte-c8trs8")},m(o,r){U(o,n,r),q(l,n,null),a=!0},p(o,r){const u={};r&1&&(u.canSave=o[0].canSaveComplete),r&1&&(u.canAttach=o[22]),!t&&r&1&&(t=!0,u.attachmentFiles=o[0].completedAttachmentFiles,Q(()=>t=!1)),l.$set(u)},i(o){a||(p(l.$$.fragment,o),a=!0)},o(o){_(l.$$.fragment,o),a=!1},d(o){o&&z(n),B(l)}}}function _t(e){let n,l,t,a,s,i,o,r,u,v,c,k;i=new pn({props:{label:"รายละเอียดเพิ่มเติม (ถ้ามี)",labelClass:"text-gray-800"}});function D(S){e[25](S)}let F={rows:3,disabled:!e[0].canSaveComplete};return e[0].transportationInternalDetail!==void 0&&(F.value=e[0].transportationInternalDetail),v=new rn({props:F}),R.push(()=>W(v,"value",D)),{c(){n=m("div"),l=m("div"),l.innerHTML='<span class="font-weight-bold">สำหรับ Admin PMSV,PMSV</span>',t=b(),a=m("div"),s=m("div"),N(i.$$.fragment),o=b(),r=m("span"),r.textContent=`(คำอธิบายเพิ่มเติมเกี่ยวกับสิ่งที่ซ่อมแซม เช่น
          สภาพที่ชำรุดเป็นอย่างไร)`,u=b(),N(v.$$.fragment),h(l,"class","mb-2"),h(r,"class","text-secondary3"),h(s,"class","desktop:flex items-center gap-2 mb-1"),h(n,"class","_container _container--gray mt-1 svelte-c8trs8")},m(S,O){U(S,n,O),f(n,l),f(n,t),f(n,a),f(a,s),q(i,s,null),f(s,o),f(s,r),f(a,u),q(v,a,null),k=!0},p(S,O){const L={};O&1&&(L.disabled=!S[0].canSaveComplete),!c&&O&1&&(c=!0,L.value=S[0].transportationInternalDetail,Q(()=>c=!1)),v.$set(L)},i(S){k||(p(i.$$.fragment,S),p(v.$$.fragment,S),k=!0)},o(S){_(i.$$.fragment,S),_(v.$$.fragment,S),k=!1},d(S){S&&z(n),B(i),B(v)}}}function ea(e){var te;let n,l,t,a,s,i,o,r,u,v,c,k,D,F,S,O,L,M,Z,P,K,X,J,G,C,le,d,x,T,Y,w,$,ee,g,V,ue,se,re,_e;function Ne(I){e[3](I)}let qe={label:"สถานที่/พื้นที่ (Location/Area)",disabled:!e[0].canSave,required:!0};e[0].location!==void 0&&(qe.value=e[0].location),s=new Me({props:qe}),R.push(()=>W(s,"value",Ne));function we(I){e[4](I)}let Ue={label:"เบอร์โทรศัพท์ภายใน",name:"telNo",disabled:!e[0].canSave};e[0].telNo!==void 0&&(Ue.value=e[0].telNo),r=new Me({props:Ue}),R.push(()=>W(r,"value",we));function Ee(I){e[5](I)}let Ae={label:"เบอร์โทรศัพท์มือถือ (Mobile)",name:"mobileNo",disabled:!e[0].canSave,required:!0};e[0].mobileNo!==void 0&&(Ae.value=e[0].mobileNo),c=new Me({props:Ae}),R.push(()=>W(c,"value",Ee)),c.$on("input",e[6]),c.$on("keypress",e[7]);function Ie(I){e[8](I)}let Le={label:"หัวเรื่อง (Topic)",name:"topic",disabled:!e[0].canSave,required:!0};e[0].topic!==void 0&&(Le.value=e[0].topic),S=new Me({props:Le}),R.push(()=>W(S,"value",Ie));let de=((te=e[0].transportationItems)==null?void 0:te.length)>0&&rt(e),be=e[0].canSave&&ut(e);C=new pn({props:{label:"รายละเอียด (Detail)",labelClass:"text-gray-800"}});function ze(I){e[13](I)}let Je={rows:3,disabled:!e[0].canSave};e[0].detail!==void 0&&(Je.value=e[0].detail),T=new rn({props:Je}),R.push(()=>W(T,"value",ze));function Ve(I){e[14](I)}let $e={isHorizontal:!0,label:"วันที่ต้องการให้แล้วเสร็จ",required:!0,minDate:Cn.now().plus({days:1}).startOf("day").toJSDate(),disabled:!e[0].canSave};e[0].expectedDueDate!==void 0&&($e.value=e[0].expectedDueDate),ee=new Dn({props:$e}),R.push(()=>W(ee,"value",Ve));let ie=e[0].recordId&&pt(e),A=e[0].showCompleteForm&&dt(e),y=e[0].showGeneralInternalDetail&&_t(e);return{c(){n=m("div"),l=m("div"),l.textContent="งานแจ้งซ่อมยานพาหนะ (Transportation Service)",t=b(),a=m("div"),N(s.$$.fragment),o=b(),N(r.$$.fragment),v=b(),N(c.$$.fragment),D=b(),F=m("div"),N(S.$$.fragment),L=b(),M=m("div"),Z=b(),P=m("div"),de&&de.c(),K=b(),be&&be.c(),X=b(),J=m("div"),G=m("div"),N(C.$$.fragment),le=b(),d=m("span"),d.textContent=`(เพื่อความรวดเร็วในการให้บริการ โปรดระบุปัญหา และ/หรือ
          สาเหตุเบื้องต้นให้ชัดเจน)`,x=b(),N(T.$$.fragment),w=b(),$=m("div"),N(ee.$$.fragment),V=b(),ie&&ie.c(),ue=b(),A&&A.c(),se=b(),y&&y.c(),re=on(),h(l,"class","_title svelte-c8trs8"),h(F,"class","desktop:col-span-2"),h(M,"class","col-span-3 divider mb-1"),h(P,"class","desktop:col-span-3"),h(d,"class","text-secondary3"),h(G,"class","desktop:flex items-center gap-2 mb-1"),h(J,"class","desktop:col-span-3"),h($,"class","col-start-3"),h(a,"class","desktop:grid flex flex-col desktop:grid-cols-3 gap-2"),h(n,"class","_container _container--gray px-1 svelte-c8trs8")},m(I,ne){U(I,n,ne),f(n,l),f(n,t),f(n,a),q(s,a,null),f(a,o),q(r,a,null),f(a,v),q(c,a,null),f(a,D),f(a,F),q(S,F,null),f(a,L),f(a,M),f(a,Z),f(a,P),de&&de.m(P,null),f(a,K),be&&be.m(a,null),f(a,X),f(a,J),f(J,G),q(C,G,null),f(G,le),f(G,d),f(J,x),q(T,J,null),f(a,w),f(a,$),q(ee,$,null),U(I,V,ne),ie&&ie.m(I,ne),U(I,ue,ne),A&&A.m(I,ne),U(I,se,ne),y&&y.m(I,ne),U(I,re,ne),_e=!0},p(I,[ne]){var Fe;const j={};ne&1&&(j.disabled=!I[0].canSave),!i&&ne&1&&(i=!0,j.value=I[0].location,Q(()=>i=!1)),s.$set(j);const oe={};ne&1&&(oe.disabled=!I[0].canSave),!u&&ne&1&&(u=!0,oe.value=I[0].telNo,Q(()=>u=!1)),r.$set(oe);const Oe={};ne&1&&(Oe.disabled=!I[0].canSave),!k&&ne&1&&(k=!0,Oe.value=I[0].mobileNo,Q(()=>k=!1)),c.$set(Oe);const Ke={};ne&1&&(Ke.disabled=!I[0].canSave),!O&&ne&1&&(O=!0,Ke.value=I[0].topic,Q(()=>O=!1)),S.$set(Ke),((Fe=I[0].transportationItems)==null?void 0:Fe.length)>0?de?(de.p(I,ne),ne&1&&p(de,1)):(de=rt(I),de.c(),p(de,1),de.m(P,null)):de&&(ce(),_(de,1,1,()=>{de=null}),me()),I[0].canSave?be?(be.p(I,ne),ne&1&&p(be,1)):(be=ut(I),be.c(),p(be,1),be.m(a,X)):be&&(ce(),_(be,1,1,()=>{be=null}),me());const ke={};ne&1&&(ke.disabled=!I[0].canSave),!Y&&ne&1&&(Y=!0,ke.value=I[0].detail,Q(()=>Y=!1)),T.$set(ke);const Se={};ne&1&&(Se.disabled=!I[0].canSave),!g&&ne&1&&(g=!0,Se.value=I[0].expectedDueDate,Q(()=>g=!1)),ee.$set(Se),I[0].recordId?ie?(ie.p(I,ne),ne&1&&p(ie,1)):(ie=pt(I),ie.c(),p(ie,1),ie.m(ue.parentNode,ue)):ie&&(ce(),_(ie,1,1,()=>{ie=null}),me()),I[0].showCompleteForm?A?(A.p(I,ne),ne&1&&p(A,1)):(A=dt(I),A.c(),p(A,1),A.m(se.parentNode,se)):A&&(ce(),_(A,1,1,()=>{A=null}),me()),I[0].showGeneralInternalDetail?y?(y.p(I,ne),ne&1&&p(y,1)):(y=_t(I),y.c(),p(y,1),y.m(re.parentNode,re)):y&&(ce(),_(y,1,1,()=>{y=null}),me())},i(I){_e||(p(s.$$.fragment,I),p(r.$$.fragment,I),p(c.$$.fragment,I),p(S.$$.fragment,I),p(de),p(be),p(C.$$.fragment,I),p(T.$$.fragment,I),p(ee.$$.fragment,I),p(ie),p(A),p(y),_e=!0)},o(I){_(s.$$.fragment,I),_(r.$$.fragment,I),_(c.$$.fragment,I),_(S.$$.fragment,I),_(de),_(be),_(C.$$.fragment,I),_(T.$$.fragment,I),_(ee.$$.fragment,I),_(ie),_(A),_(y),_e=!1},d(I){I&&z(n),B(s),B(r),B(c),B(S),de&&de.d(),be&&be.d(),B(C),B(T),B(ee),I&&z(V),ie&&ie.d(I),I&&z(ue),A&&A.d(I),I&&z(se),y&&y.d(I),I&&z(re)}}}function na(e,n,l){let{data:t}=n;function a(){t.transportationItems||l(0,t.transportationItems=[],t),l(0,t.transportationItems=[...t.transportationItems,{transportationType:{},transportationNo:"",detail:""}],t)}function s(T){l(0,t.transportationItems=t.transportationItems.filter((Y,w)=>w!==T),t)}In(()=>{var T;(!t.transportationItems||((T=t.transportationItems)==null?void 0:T.length)===0)&&a()});function i(T){e.$$.not_equal(t.location,T)&&(t.location=T,l(0,t))}function o(T){e.$$.not_equal(t.telNo,T)&&(t.telNo=T,l(0,t))}function r(T){e.$$.not_equal(t.mobileNo,T)&&(t.mobileNo=T,l(0,t))}const u=()=>{/\D/.test(t.mobileNo)&&l(0,t.mobileNo=t.mobileNo.replace(/\D/g,""),t),t.mobileNo.length>10&&l(0,t.mobileNo=t.mobileNo.slice(0,10),t)},v=T=>{var Y;/\D/.test(T.key)&&T.preventDefault(),((Y=t.mobileNo)==null?void 0:Y.length)>10&&T.preventDefault()};function c(T){e.$$.not_equal(t.topic,T)&&(t.topic=T,l(0,t))}const k=T=>s(T);function D(T,Y){e.$$.not_equal(Y.transportationType,T)&&(Y.transportationType=T,l(0,t))}function F(T,Y){e.$$.not_equal(Y.transportationNo,T)&&(Y.transportationNo=T,l(0,t))}function S(T,Y){e.$$.not_equal(Y.detail,T)&&(Y.detail=T,l(0,t))}function O(T){e.$$.not_equal(t.detail,T)&&(t.detail=T,l(0,t))}function L(T){e.$$.not_equal(t.expectedDueDate,T)&&(t.expectedDueDate=T,l(0,t))}function M(T){e.$$.not_equal(t.attachmentFiles,T)&&(t.attachmentFiles=T,l(0,t))}function Z(T){Qe.call(this,e,T)}function P(T){e.$$.not_equal(t.transportationTypeOfService,T)&&(t.transportationTypeOfService=T,l(0,t))}const K=()=>{l(0,t.transportationTypeOfServiceOther="",t)};function X(T){e.$$.not_equal(t.transportationTypeOfServiceOther,T)&&(t.transportationTypeOfServiceOther=T,l(0,t))}function J(T){e.$$.not_equal(t.transportationCost,T)&&(t.transportationCost=T,l(0,t))}function G(T){e.$$.not_equal(t.transportationDetail,T)&&(t.transportationDetail=T,l(0,t))}const C=()=>{var T;return(T=t.transportationTypeOfService)!=null&&T.key?!0:(tn.error("กรุณาระบุ ประเภทการซ่อม"),!1)};function le(T){e.$$.not_equal(t.completedAttachmentFiles,T)&&(t.completedAttachmentFiles=T,l(0,t))}function d(T){Qe.call(this,e,T)}function x(T){e.$$.not_equal(t.transportationInternalDetail,T)&&(t.transportationInternalDetail=T,l(0,t))}return e.$$set=T=>{"data"in T&&l(0,t=T.data)},[t,a,s,i,o,r,u,v,c,k,D,F,S,O,L,M,Z,P,K,X,J,G,C,le,d,x]}class ta extends Ye{constructor(n){super(),Ze(this,n,na,ea,xe,{data:0})}}function la(e){let n,l,t;const a=[{placeholder:""},{clearable:!1},{searchable:!1},{labelKey:"value"},{valueKey:"key"},{options:e[1]},e[2]];function s(o){e[3](o)}let i={};for(let o=0;o<a.length;o+=1)i=Te(i,a[o]);return e[0]!==void 0&&(i.value=e[0]),n=new gn({props:i}),R.push(()=>W(n,"value",s)),n.$on("change",e[4]),{c(){N(n.$$.fragment)},m(o,r){q(n,o,r),t=!0},p(o,[r]){const u=r&6?cn(a,[a[0],a[1],a[2],a[3],a[4],r&2&&{options:o[1]},r&4&&mn(o[2])]):{};!l&&r&1&&(l=!0,u.value=o[0],Q(()=>l=!1)),n.$set(u)},i(o){t||(p(n.$$.fragment,o),t=!0)},o(o){_(n.$$.fragment,o),t=!1},d(o){B(n,o)}}}function aa(e,n,l){const t=["value"];let a=We(n,t),{value:s=void 0}=n;const i=Object.keys(he.GeneralTypeOfService).map(u=>({key:u,value:nl[u]}));function o(u){s=u,l(0,s)}function r(u){Qe.call(this,e,u)}return e.$$set=u=>{n=Te(Te({},n),_n(u)),l(2,a=We(n,t)),"value"in u&&l(0,s=u.value)},[s,i,a,o,r]}class ia extends Ye{constructor(n){super(),Ze(this,n,aa,la,xe,{value:0})}}function gt(e){let n,l,t,a;function s(o){e[11](o)}let i={isComplete:!1,canSave:e[0].canSave};return e[0].attachmentFiles!==void 0&&(i.attachmentFiles=e[0].attachmentFiles),l=new hn({props:i}),R.push(()=>W(l,"attachmentFiles",s)),l.$on("fileChanged",e[12]),{c(){n=m("div"),N(l.$$.fragment),h(n,"class","_container _container--gray border-t-0 svelte-c8trs8")},m(o,r){U(o,n,r),q(l,n,null),a=!0},p(o,r){const u={};r&1&&(u.canSave=o[0].canSave),!t&&r&1&&(t=!0,u.attachmentFiles=o[0].attachmentFiles,Q(()=>t=!1)),l.$set(u)},i(o){a||(p(l.$$.fragment,o),a=!0)},o(o){_(l.$$.fragment,o),a=!1},d(o){o&&z(n),B(l)}}}function vt(e){var ee;let n,l,t,a,s,i,o,r,u,v,c,k,D,F,S,O,L,M,Z,P,K,X,J,G;function C(g){e[13](g)}let le={label:"ประเภทการซ่อม",required:!0,disabled:!e[0].canSaveComplete};e[0].generalTypeOfService!==void 0&&(le.value=e[0].generalTypeOfService),i=new ia({props:le}),R.push(()=>W(i,"value",C)),i.$on("change",e[14]);let d=((ee=e[0].generalTypeOfService)==null?void 0:ee.key)===he.GeneralTypeOfService.Other&&bt(e);function x(g){e[16](g)}let T={label:"ค่าใช้จ่าย (บาท)",name:"generalCost",disabled:!e[0].canSaveComplete};e[0].generalCost!==void 0&&(T.value=e[0].generalCost),c=new Fn({props:T}),R.push(()=>W(c,"value",x)),O=new pn({props:{label:"รายละเอียดเพิ่มเติม (ถ้ามี)",labelClass:"text-gray-800"}});function Y(g){e[17](g)}let w={rows:3,disabled:!e[0].canSaveComplete};e[0].generalDetail!==void 0&&(w.value=e[0].generalDetail),P=new rn({props:w}),R.push(()=>W(P,"value",Y));let $=e[0].recordId&&ht(e);return{c(){n=m("div"),l=m("div"),l.textContent="งานแจ้งซ่อมอื่นๆ (General Service)",t=b(),a=m("div"),s=m("div"),N(i.$$.fragment),r=b(),d&&d.c(),u=b(),v=m("div"),N(c.$$.fragment),D=b(),F=m("div"),S=m("div"),N(O.$$.fragment),L=b(),M=m("span"),M.textContent=`(คำอธิบายเพิ่มเติมเกี่ยวกับสิ่งที่ซ่อมแซม เช่น
            สภาพที่ชำรุดเป็นอย่างไร)`,Z=b(),N(P.$$.fragment),X=b(),$&&$.c(),J=on(),h(l,"class","_title svelte-c8trs8"),h(M,"class","text-secondary3"),h(S,"class","desktop:flex items-center gap-2 mb-1"),h(F,"class","desktop:col-span-3"),h(a,"class","desktop:grid flex flex-col desktop:grid-cols-3 gap-2"),h(n,"class","_container _container--green border-t-0 svelte-c8trs8")},m(g,V){U(g,n,V),f(n,l),f(n,t),f(n,a),f(a,s),q(i,s,null),f(a,r),d&&d.m(a,null),f(a,u),f(a,v),q(c,v,null),f(a,D),f(a,F),f(F,S),q(O,S,null),f(S,L),f(S,M),f(F,Z),q(P,F,null),U(g,X,V),$&&$.m(g,V),U(g,J,V),G=!0},p(g,V){var _e;const ue={};V&1&&(ue.disabled=!g[0].canSaveComplete),!o&&V&1&&(o=!0,ue.value=g[0].generalTypeOfService,Q(()=>o=!1)),i.$set(ue),((_e=g[0].generalTypeOfService)==null?void 0:_e.key)===he.GeneralTypeOfService.Other?d?(d.p(g,V),V&1&&p(d,1)):(d=bt(g),d.c(),p(d,1),d.m(a,u)):d&&(ce(),_(d,1,1,()=>{d=null}),me());const se={};V&1&&(se.disabled=!g[0].canSaveComplete),!k&&V&1&&(k=!0,se.value=g[0].generalCost,Q(()=>k=!1)),c.$set(se);const re={};V&1&&(re.disabled=!g[0].canSaveComplete),!K&&V&1&&(K=!0,re.value=g[0].generalDetail,Q(()=>K=!1)),P.$set(re),g[0].recordId?$?($.p(g,V),V&1&&p($,1)):($=ht(g),$.c(),p($,1),$.m(J.parentNode,J)):$&&(ce(),_($,1,1,()=>{$=null}),me())},i(g){G||(p(i.$$.fragment,g),p(d),p(c.$$.fragment,g),p(O.$$.fragment,g),p(P.$$.fragment,g),p($),G=!0)},o(g){_(i.$$.fragment,g),_(d),_(c.$$.fragment,g),_(O.$$.fragment,g),_(P.$$.fragment,g),_($),G=!1},d(g){g&&z(n),B(i),d&&d.d(),B(c),B(O),B(P),g&&z(X),$&&$.d(g),g&&z(J)}}}function bt(e){let n,l,t;function a(i){e[15](i)}let s={label:"ระบุประเภทการซ่อมอื่นๆ",required:!0,disabled:!e[0].canSaveComplete};return e[0].generalTypeOfServiceOther!==void 0&&(s.value=e[0].generalTypeOfServiceOther),n=new Me({props:s}),R.push(()=>W(n,"value",a)),{c(){N(n.$$.fragment)},m(i,o){q(n,i,o),t=!0},p(i,o){const r={};o&1&&(r.disabled=!i[0].canSaveComplete),!l&&o&1&&(l=!0,r.value=i[0].generalTypeOfServiceOther,Q(()=>l=!1)),n.$set(r)},i(i){t||(p(n.$$.fragment,i),t=!0)},o(i){_(n.$$.fragment,i),t=!1},d(i){B(n,i)}}}function ht(e){let n,l,t,a;function s(o){e[19](o)}let i={isComplete:!0,canSave:e[0].canSaveComplete,canAttach:e[18]};return e[0].completedAttachmentFiles!==void 0&&(i.attachmentFiles=e[0].completedAttachmentFiles),l=new hn({props:i}),R.push(()=>W(l,"attachmentFiles",s)),l.$on("fileChanged",e[20]),{c(){n=m("div"),N(l.$$.fragment),h(n,"class","_container _container--green border-t-0 svelte-c8trs8")},m(o,r){U(o,n,r),q(l,n,null),a=!0},p(o,r){const u={};r&1&&(u.canSave=o[0].canSaveComplete),r&1&&(u.canAttach=o[18]),!t&&r&1&&(t=!0,u.attachmentFiles=o[0].completedAttachmentFiles,Q(()=>t=!1)),l.$set(u)},i(o){a||(p(l.$$.fragment,o),a=!0)},o(o){_(l.$$.fragment,o),a=!1},d(o){o&&z(n),B(l)}}}function $t(e){let n,l,t,a,s,i,o,r,u,v,c,k;i=new pn({props:{label:"รายละเอียดเพิ่มเติม (ถ้ามี)",labelClass:"text-gray-800"}});function D(S){e[21](S)}let F={rows:3,disabled:!e[0].canSaveComplete};return e[0].generalInternalDetail!==void 0&&(F.value=e[0].generalInternalDetail),v=new rn({props:F}),R.push(()=>W(v,"value",D)),{c(){n=m("div"),l=m("div"),l.innerHTML='<span class="font-weight-bold">สำหรับ Admin PMSV,PMSV</span>',t=b(),a=m("div"),s=m("div"),N(i.$$.fragment),o=b(),r=m("span"),r.textContent=`(คำอธิบายเพิ่มเติมเกี่ยวกับสิ่งที่ซ่อมแซม เช่น
          สภาพที่ชำรุดเป็นอย่างไร)`,u=b(),N(v.$$.fragment),h(l,"class","mb-2"),h(r,"class","text-secondary3"),h(s,"class","desktop:flex items-center gap-2 mb-1"),h(n,"class","_container _container--gray mt-1 svelte-c8trs8")},m(S,O){U(S,n,O),f(n,l),f(n,t),f(n,a),f(a,s),q(i,s,null),f(s,o),f(s,r),f(a,u),q(v,a,null),k=!0},p(S,O){const L={};O&1&&(L.disabled=!S[0].canSaveComplete),!c&&O&1&&(c=!0,L.value=S[0].generalInternalDetail,Q(()=>c=!1)),v.$set(L)},i(S){k||(p(i.$$.fragment,S),p(v.$$.fragment,S),k=!0)},o(S){_(i.$$.fragment,S),_(v.$$.fragment,S),k=!1},d(S){S&&z(n),B(i),B(v)}}}function oa(e){let n,l,t,a,s,i,o,r,u,v,c,k,D,F,S,O,L,M,Z,P,K,X,J,G,C,le,d,x,T,Y,w,$,ee,g,V,ue,se,re;function _e(y){e[1](y)}let Ne={label:"พื้นที่แจ้งซ่อม",disabled:!0,required:!0};e[0].repairArea!==void 0&&(Ne.value=e[0].repairArea),s=new Gt({props:Ne}),R.push(()=>W(s,"value",_e)),s.$on("change",e[2]);function qe(y){e[3](y)}let we={label:"ชั้น/พื้นที่ (Floor/Location/Area)",name:"floor",disabled:!(e[0].repairArea&&e[0].canSave),required:!0};e[0].floor!==void 0&&(we.value=e[0].floor),r=new Me({props:we}),R.push(()=>W(r,"value",qe));function Ue(y){e[4](y)}let Ee={label:"เบอร์โทรศัพท์ภายใน",name:"telNo",disabled:!e[0].canSave};e[0].telNo!==void 0&&(Ee.value=e[0].telNo),k=new Me({props:Ee}),R.push(()=>W(k,"value",Ue));function Ae(y){e[5](y)}let Ie={label:"เบอร์โทรศัพท์มือถือ (Mobile)",name:"mobileNo",disabled:!e[0].canSave,required:!0};e[0].mobileNo!==void 0&&(Ie.value=e[0].mobileNo),S=new Me({props:Ie}),R.push(()=>W(S,"value",Ae)),S.$on("input",e[6]),S.$on("keypress",e[7]);function Le(y){e[8](y)}let de={label:"หัวเรื่อง (Topic)",name:"topic",disabled:!e[0].canSave,required:!0};e[0].topic!==void 0&&(de.value=e[0].topic),Z=new Me({props:de}),R.push(()=>W(Z,"value",Le)),G=new pn({props:{label:"รายละเอียด (Detail)",labelClass:"text-gray-800",required:!0}});function be(y){e[9](y)}let ze={rows:3,disabled:!e[0].canSave};e[0].detail!==void 0&&(ze.value=e[0].detail),x=new rn({props:ze}),R.push(()=>W(x,"value",be));function Je(y){e[10](y)}let Ve={isHorizontal:!0,label:"วันที่ต้องการให้แล้วเสร็จ",required:!0,minDate:Cn.now().plus({days:1}).startOf("day").toJSDate(),disabled:!e[0].canSave};e[0].expectedDueDate!==void 0&&(Ve.value=e[0].expectedDueDate),$=new Dn({props:Ve}),R.push(()=>W($,"value",Je));let $e=e[0].recordId&&gt(e),ie=e[0].showCompleteForm&&vt(e),A=e[0].showGeneralInternalDetail&&$t(e);return{c(){n=m("div"),l=m("div"),l.textContent="งานแจ้งซ่อมอื่นๆ (General Service)",t=b(),a=m("div"),N(s.$$.fragment),o=b(),N(r.$$.fragment),v=b(),c=m("div"),N(k.$$.fragment),F=b(),N(S.$$.fragment),L=b(),M=m("div"),N(Z.$$.fragment),K=b(),X=m("div"),J=m("div"),N(G.$$.fragment),C=b(),le=m("span"),le.textContent=`(เพื่อความรวดเร็วในการให้บริการ โปรดระบุปัญหา และ/หรือ
          สาเหตุเบื้องต้นให้ชัดเจน)`,d=b(),N(x.$$.fragment),Y=b(),w=m("div"),N($.$$.fragment),g=b(),$e&&$e.c(),V=b(),ie&&ie.c(),ue=b(),A&&A.c(),se=on(),h(l,"class","_title svelte-c8trs8"),h(c,"class","col-start-1"),h(M,"class","desktop:col-span-2"),h(le,"class","text-secondary3"),h(J,"class","desktop:flex items-center gap-2 mb-1"),h(X,"class","desktop:col-span-3"),h(w,"class","col-start-3"),h(a,"class","desktop:grid flex flex-col desktop:grid-cols-3 gap-2"),h(n,"class","_container _container--gray px-1 svelte-c8trs8")},m(y,te){U(y,n,te),f(n,l),f(n,t),f(n,a),q(s,a,null),f(a,o),q(r,a,null),f(a,v),f(a,c),q(k,c,null),f(a,F),q(S,a,null),f(a,L),f(a,M),q(Z,M,null),f(a,K),f(a,X),f(X,J),q(G,J,null),f(J,C),f(J,le),f(X,d),q(x,X,null),f(a,Y),f(a,w),q($,w,null),U(y,g,te),$e&&$e.m(y,te),U(y,V,te),ie&&ie.m(y,te),U(y,ue,te),A&&A.m(y,te),U(y,se,te),re=!0},p(y,[te]){const I={};!i&&te&1&&(i=!0,I.value=y[0].repairArea,Q(()=>i=!1)),s.$set(I);const ne={};te&1&&(ne.disabled=!(y[0].repairArea&&y[0].canSave)),!u&&te&1&&(u=!0,ne.value=y[0].floor,Q(()=>u=!1)),r.$set(ne);const j={};te&1&&(j.disabled=!y[0].canSave),!D&&te&1&&(D=!0,j.value=y[0].telNo,Q(()=>D=!1)),k.$set(j);const oe={};te&1&&(oe.disabled=!y[0].canSave),!O&&te&1&&(O=!0,oe.value=y[0].mobileNo,Q(()=>O=!1)),S.$set(oe);const Oe={};te&1&&(Oe.disabled=!y[0].canSave),!P&&te&1&&(P=!0,Oe.value=y[0].topic,Q(()=>P=!1)),Z.$set(Oe);const Ke={};te&1&&(Ke.disabled=!y[0].canSave),!T&&te&1&&(T=!0,Ke.value=y[0].detail,Q(()=>T=!1)),x.$set(Ke);const ke={};te&1&&(ke.disabled=!y[0].canSave),!ee&&te&1&&(ee=!0,ke.value=y[0].expectedDueDate,Q(()=>ee=!1)),$.$set(ke),y[0].recordId?$e?($e.p(y,te),te&1&&p($e,1)):($e=gt(y),$e.c(),p($e,1),$e.m(V.parentNode,V)):$e&&(ce(),_($e,1,1,()=>{$e=null}),me()),y[0].showCompleteForm?ie?(ie.p(y,te),te&1&&p(ie,1)):(ie=vt(y),ie.c(),p(ie,1),ie.m(ue.parentNode,ue)):ie&&(ce(),_(ie,1,1,()=>{ie=null}),me()),y[0].showGeneralInternalDetail?A?(A.p(y,te),te&1&&p(A,1)):(A=$t(y),A.c(),p(A,1),A.m(se.parentNode,se)):A&&(ce(),_(A,1,1,()=>{A=null}),me())},i(y){re||(p(s.$$.fragment,y),p(r.$$.fragment,y),p(k.$$.fragment,y),p(S.$$.fragment,y),p(Z.$$.fragment,y),p(G.$$.fragment,y),p(x.$$.fragment,y),p($.$$.fragment,y),p($e),p(ie),p(A),re=!0)},o(y){_(s.$$.fragment,y),_(r.$$.fragment,y),_(k.$$.fragment,y),_(S.$$.fragment,y),_(Z.$$.fragment,y),_(G.$$.fragment,y),_(x.$$.fragment,y),_($.$$.fragment,y),_($e),_(ie),_(A),re=!1},d(y){y&&z(n),B(s),B(r),B(k),B(S),B(Z),B(G),B(x),B($),y&&z(g),$e&&$e.d(y),y&&z(V),ie&&ie.d(y),y&&z(ue),A&&A.d(y),y&&z(se)}}}function ra(e,n,l){let{data:t}=n;function a(C){e.$$.not_equal(t.repairArea,C)&&(t.repairArea=C,l(0,t))}const s=()=>{l(0,t.floor=null,t)};function i(C){e.$$.not_equal(t.floor,C)&&(t.floor=C,l(0,t))}function o(C){e.$$.not_equal(t.telNo,C)&&(t.telNo=C,l(0,t))}function r(C){e.$$.not_equal(t.mobileNo,C)&&(t.mobileNo=C,l(0,t))}const u=()=>{/\D/.test(t.mobileNo)&&l(0,t.mobileNo=t.mobileNo.replace(/\D/g,""),t),t.mobileNo.length>10&&l(0,t.mobileNo=t.mobileNo.slice(0,10),t)},v=C=>{var le;/\D/.test(C.key)&&C.preventDefault(),((le=t.mobileNo)==null?void 0:le.length)>10&&C.preventDefault()};function c(C){e.$$.not_equal(t.topic,C)&&(t.topic=C,l(0,t))}function k(C){e.$$.not_equal(t.detail,C)&&(t.detail=C,l(0,t))}function D(C){e.$$.not_equal(t.expectedDueDate,C)&&(t.expectedDueDate=C,l(0,t))}function F(C){e.$$.not_equal(t.attachmentFiles,C)&&(t.attachmentFiles=C,l(0,t))}function S(C){Qe.call(this,e,C)}function O(C){e.$$.not_equal(t.generalTypeOfService,C)&&(t.generalTypeOfService=C,l(0,t))}const L=()=>{l(0,t.generalTypeOfServiceOther="",t)};function M(C){e.$$.not_equal(t.generalTypeOfServiceOther,C)&&(t.generalTypeOfServiceOther=C,l(0,t))}function Z(C){e.$$.not_equal(t.generalCost,C)&&(t.generalCost=C,l(0,t))}function P(C){e.$$.not_equal(t.generalDetail,C)&&(t.generalDetail=C,l(0,t))}const K=()=>{var C;return(C=t.generalTypeOfService)!=null&&C.key?!0:(tn.error("กรุณาระบุ ประเภทการซ่อม"),!1)};function X(C){e.$$.not_equal(t.completedAttachmentFiles,C)&&(t.completedAttachmentFiles=C,l(0,t))}function J(C){Qe.call(this,e,C)}function G(C){e.$$.not_equal(t.generalInternalDetail,C)&&(t.generalInternalDetail=C,l(0,t))}return e.$$set=C=>{"data"in C&&l(0,t=C.data)},[t,a,s,i,o,r,u,v,c,k,D,F,S,O,L,M,Z,P,K,X,J,G]}class sa extends Ye{constructor(n){super(),Ze(this,n,ra,oa,xe,{data:0})}}const St=(e,n)=>{const l={isValid:!0,errorPath:void 0,inner:[],errors:[]};try{let t;e===he.FixTypeOfService.Housing?t=fa(n):e===he.FixTypeOfService.OfficeEquipment?t=ua(n):e===he.FixTypeOfService.Transportation?t=pa(n):e===he.FixTypeOfService.GeneralService&&(t=da(n)),t&&t.validateSync(n,{abortEarly:!1})}catch(t){if(console.log("error",t.value),Object.keys(t).length){console.log("path",t.inner[0].path),console.log("errors",t.errors[0]),l.isValid=!1,l.errorPath=(t.inner[0].path??"").split(/\.|\[/),l.inner=t.inner,l.errors=t.errors;const a=t.errors[0].replace(": ",":<br>");tn.error(a)}}return l},fa=e=>{var n;if(e.canSubmit)return dn({repairDate:Tn.label("วัน-เวลาที่ต้องการให้เข้าซ่อม"),houseNo:Ce.label("บ้านเลขที่"),period:$n("กะ"),houseType:$n("ประเภทของที่อยู่อาศัย"),mobileNo:Ce.length(10,yn.exactLength).label("เบอร์โทรศัพท์มือถือ (Mobile)"),topic:Ce.label("หัวเรื่อง (Topic)"),detail:Ce.label("รายละเอียด (Detail)"),expectedDueDate:Tn.label("วันที่ต้องการให้แล้วเสร็จ"),onBehalfOfId:e.onBehalfFlow?Ce.label("On Behalf of"):bn().nullable()});if(e.canComplete)return dn({housingTypeOfService:$n("ประเภทการซ่อม"),housingTypeOfServiceOther:((n=e.housingTypeOfService)==null?void 0:n.key)===he.HousingTypeOfService.Other?Ce.label("ประเภทการซ่อมอื่นๆ"):bn().nullable()})},ua=e=>{var n;if(e.canSubmit)return dn({repairArea:Ce.label("พื้นที่แจ้งซ่อม"),officeBuilding:Ce.label("สำนักงาน/อาคาร (Office/building)"),floor:Ce.label("ชั้น/พื้นที่ (Floor/Location/Area)"),mobileNo:Ce.length(10,yn.exactLength).label("เบอร์โทรศัพท์มือถือ (Mobile)"),topic:Ce.label("หัวเรื่อง (Topic)"),detail:Ce.label("รายละเอียด (Detail)"),expectedDueDate:Tn.label("วันที่ต้องการให้แล้วเสร็จ"),onBehalfOfId:e.onBehalfFlow?Ce.label("On Behalf of"):bn().nullable()});if(e.canComplete)return dn({officeTypeOfService:$n("ประเภทการซ่อม"),officeTypeOfServiceOther:((n=e.officeTypeOfService)==null?void 0:n.key)===he.OfficeTypeOfService.Other?Ce.label("ประเภทการซ่อมอื่นๆ"):bn().nullable()})},pa=e=>{var n;if(e.canSubmit)return dn({location:Ce.label("สถานที่/พื้นที่ (Location/Area)"),mobileNo:Ce.length(10,yn.exactLength).label("เบอร์โทรศัพท์มือถือ (Mobile)"),topic:Ce.label("หัวเรื่อง (Topic)"),expectedDueDate:Tn.label("วันที่ต้องการให้แล้วเสร็จ"),transportationItems:ml().of(dn({transportationType:$n("ประเภทยานพาหนะ"),transportationNo:Ce.label("หมายเลขยานพาหนะ"),detail:Ce.label("รายละเอียด")})),onBehalfOfId:e.onBehalfFlow?Ce.label("On Behalf of"):bn().nullable()});if(e.canComplete)return dn({transportationTypeOfService:$n("ประเภทการซ่อม"),transportationTypeOfServiceOther:((n=e.transportationTypeOfService)==null?void 0:n.key)===he.TransportationTypeOfService.Other?Ce.label("ประเภทการซ่อมอื่นๆ"):bn().nullable()})},da=e=>{var n;if(e.canSubmit)return dn({repairArea:Ce.label("พื้นที่แจ้งซ่อม"),floor:Ce.label("ชั้น/พื้นที่ (Floor/Location/Area)"),mobileNo:Ce.length(10,yn.exactLength).label("เบอร์โทรศัพท์มือถือ (Mobile)"),topic:Ce.label("หัวเรื่อง (Topic)"),detail:Ce.label("รายละเอียด (Detail)"),expectedDueDate:Tn.label("วันที่ต้องการให้แล้วเสร็จ"),onBehalfOfId:e.onBehalfFlow?Ce.label("On Behalf of"):bn().nullable()});if(e.canComplete)return dn({generalTypeOfService:$n("ประเภทการซ่อม"),generalTypeOfServiceOther:((n=e.generalTypeOfService)==null?void 0:n.key)===he.GeneralTypeOfService.Other?Ce.label("ประเภทการซ่อมอื่นๆ"):bn().nullable()})};function wt(e,n,l){const t=e.slice();return t[52]=n[l],t}function kt(e){let n,l,t,a;return{c(){n=m("button"),l=m("span"),l.innerHTML='<i class="ic ic-delete"></i>',h(l,"class","icon"),h(n,"class","btn tooltip _button--delete svelte-zu4zl6"),h(n,"data-tip","Delete"),n.disabled=e[3]},m(s,i){U(s,n,i),f(n,l),t||(a=fn(n,"click",e[24]),t=!0)},p(s,i){i[0]&8&&(n.disabled=s[3])},d(s){s&&z(n),t=!1,a()}}}function Ot(e){let n,l,t,a,s,i,o,r,u,v,c,k,D,F,S,O,L,M,Z,P,K,X,J,G,C,le,d,x,T,Y,w,$,ee,g,V,ue,se,re,_e=an(e[1].createdDate)+"",Ne,qe,we,Ue,Ee,Ae,Ie=an(e[1].submittedDate)+"",Le,de,be,ze,Je,Ve,$e=an(e[1].acceptedDate)+"",ie,A,y,te,I,ne,j=an(e[1].completedDate)+"",oe,Oe;function Ke(H){e[25](H)}let ke={isRequester:!0,isActionLoading:e[3]};e[1]!==void 0&&(ke.data=e[1]),n=new Vn({props:ke}),R.push(()=>W(n,"data",Ke)),n.$on("confirm",e[22]);function Se(H){e[26](H)}let Fe={isActionLoading:e[3]};e[1]!==void 0&&(Fe.data=e[1]),a=new Vn({props:Fe}),R.push(()=>W(a,"data",Se)),a.$on("confirm",e[22]);let Be=e[4]&&Ct(),Re=(e[1].rejectComment||e[1].cancelComment)&&Dt(e);D=new un({props:{isLoading:e[3],outline:!0,primary:!1,class:"w-[96px]",label:"Back"}}),D.$on("click",e[28]);let pe=e[1].canEdit&&!e[4]&&Tt(e),ge=(e[1].canSave||e[1].canSaveComplete)&&Ft(e),ve=e[1].canSubmit&&yt(e),E=e[1].canAccept&&Nt(e),ae=e[1].canComplete&&qt(e),je=e[1].canVerify&&!e[4]&&Bt(e),He=e[1].canVerify&&!e[4]&&At(e),Pe=e[1].canCancelRequest&&It(e),sn=e[10],ye=[];for(let H=0;H<sn.length;H+=1)ye[H]=Et(wt(e,sn,H));const kn=H=>_(ye[H],1,1,()=>{ye[H]=null});function On(H){e[37](H)}let Sn={isEdit:e[4]};e[1]!==void 0&&(Sn.data=e[1]),C=new hl({props:Sn}),R.push(()=>W(C,"data",On)),e[38](C);const wn=[ga,_a,ma,ca],ln=[];function Ln(H,fe){return H[0]===he.FixTypeOfService.Housing?0:H[0]===he.FixTypeOfService.OfficeEquipment?1:H[0]===he.FixTypeOfService.Transportation?2:H[0]===he.FixTypeOfService.GeneralService?3:-1}~(x=Ln(e))&&(T=ln[x]=wn[x](e));function Mt(H){e[43](H)}let jn={};return e[1]!==void 0&&(jn.data=e[1]),w=new _l({props:jn}),R.push(()=>W(w,"data",Mt)),{c(){N(n.$$.fragment),t=b(),N(a.$$.fragment),i=b(),o=m("div"),r=m("div"),u=m("div"),Be&&Be.c(),v=b(),c=m("div"),Re&&Re.c(),k=b(),N(D.$$.fragment),F=b(),pe&&pe.c(),S=b(),ge&&ge.c(),O=b(),ve&&ve.c(),L=b(),E&&E.c(),M=b(),ae&&ae.c(),Z=b(),je&&je.c(),P=b(),He&&He.c(),K=b(),Pe&&Pe.c(),X=b(),J=m("div");for(let H=0;H<ye.length;H+=1)ye[H].c();G=b(),N(C.$$.fragment),d=b(),T&&T.c(),Y=b(),N(w.$$.fragment),ee=b(),g=m("div"),V=m("div"),ue=m("span"),ue.textContent="Created Date :",se=b(),re=m("span"),Ne=De(_e),qe=b(),we=m("div"),Ue=m("span"),Ue.textContent="Submitted Date :",Ee=b(),Ae=m("span"),Le=De(Ie),de=b(),be=m("div"),ze=m("span"),ze.textContent="Accepted Date :",Je=b(),Ve=m("span"),ie=De($e),A=b(),y=m("div"),te=m("span"),te.textContent="Completed Date :",I=b(),ne=m("span"),oe=De(j),Xe(u,"mb-2",e[4]),h(c,"class","flex justify-between desktop:justify-end desktop:gap-3"),h(r,"class","desktop:flex justify-between"),h(J,"class","flex gap-3 my-3"),h(ue,"class","text-gray-800"),h(Ue,"class","text-gray-800"),h(ze,"class","text-gray-800"),h(te,"class","text-gray-800"),h(g,"class","p-2 grid gap-1.5 desktop:grid-cols-3 desktop:gap-x-10 desktop:px-[108px]"),h(o,"class","bg-white border border-gray-400 p-2 pb-3 desktop:px-4")},m(H,fe){q(n,H,fe),U(H,t,fe),q(a,H,fe),U(H,i,fe),U(H,o,fe),f(o,r),f(r,u),Be&&Be.m(u,null),f(r,v),f(r,c),Re&&Re.m(c,null),f(c,k),q(D,c,null),f(c,F),pe&&pe.m(c,null),f(c,S),ge&&ge.m(c,null),f(c,O),ve&&ve.m(c,null),f(c,L),E&&E.m(c,null),f(c,M),ae&&ae.m(c,null),f(c,Z),je&&je.m(c,null),f(c,P),He&&He.m(c,null),f(c,K),Pe&&Pe.m(c,null),f(o,X),f(o,J);for(let vn=0;vn<ye.length;vn+=1)ye[vn]&&ye[vn].m(J,null);f(o,G),q(C,o,null),f(o,d),~x&&ln[x].m(o,null),f(o,Y),q(w,o,null),f(o,ee),f(o,g),f(g,V),f(V,ue),f(V,se),f(V,re),f(re,Ne),f(g,qe),f(g,we),f(we,Ue),f(we,Ee),f(we,Ae),f(Ae,Le),f(g,de),f(g,be),f(be,ze),f(be,Je),f(be,Ve),f(Ve,ie),f(g,A),f(g,y),f(y,te),f(y,I),f(y,ne),f(ne,oe),Oe=!0},p(H,fe){const vn={};fe[0]&8&&(vn.isActionLoading=H[3]),!l&&fe[0]&2&&(l=!0,vn.data=H[1],Q(()=>l=!1)),n.$set(vn);const Nn={};fe[0]&8&&(Nn.isActionLoading=H[3]),!s&&fe[0]&2&&(s=!0,Nn.data=H[1],Q(()=>s=!1)),a.$set(Nn),H[4]?Be||(Be=Ct(),Be.c(),Be.m(u,null)):Be&&(Be.d(1),Be=null),(!Oe||fe[0]&16)&&Xe(u,"mb-2",H[4]),H[1].rejectComment||H[1].cancelComment?Re?Re.p(H,fe):(Re=Dt(H),Re.c(),Re.m(c,k)):Re&&(Re.d(1),Re=null);const Hn={};if(fe[0]&8&&(Hn.isLoading=H[3]),D.$set(Hn),H[1].canEdit&&!H[4]?pe?(pe.p(H,fe),fe[0]&18&&p(pe,1)):(pe=Tt(H),pe.c(),p(pe,1),pe.m(c,S)):pe&&(ce(),_(pe,1,1,()=>{pe=null}),me()),H[1].canSave||H[1].canSaveComplete?ge?(ge.p(H,fe),fe[0]&2&&p(ge,1)):(ge=Ft(H),ge.c(),p(ge,1),ge.m(c,O)):ge&&(ce(),_(ge,1,1,()=>{ge=null}),me()),H[1].canSubmit?ve?(ve.p(H,fe),fe[0]&2&&p(ve,1)):(ve=yt(H),ve.c(),p(ve,1),ve.m(c,L)):ve&&(ce(),_(ve,1,1,()=>{ve=null}),me()),H[1].canAccept?E?(E.p(H,fe),fe[0]&2&&p(E,1)):(E=Nt(H),E.c(),p(E,1),E.m(c,M)):E&&(ce(),_(E,1,1,()=>{E=null}),me()),H[1].canComplete?ae?(ae.p(H,fe),fe[0]&2&&p(ae,1)):(ae=qt(H),ae.c(),p(ae,1),ae.m(c,Z)):ae&&(ce(),_(ae,1,1,()=>{ae=null}),me()),H[1].canVerify&&!H[4]?je?(je.p(H,fe),fe[0]&18&&p(je,1)):(je=Bt(H),je.c(),p(je,1),je.m(c,P)):je&&(ce(),_(je,1,1,()=>{je=null}),me()),H[1].canVerify&&!H[4]?He?(He.p(H,fe),fe[0]&18&&p(He,1)):(He=At(H),He.c(),p(He,1),He.m(c,K)):He&&(ce(),_(He,1,1,()=>{He=null}),me()),H[1].canCancelRequest?Pe?(Pe.p(H,fe),fe[0]&2&&p(Pe,1)):(Pe=It(H),Pe.c(),p(Pe,1),Pe.m(c,null)):Pe&&(ce(),_(Pe,1,1,()=>{Pe=null}),me()),fe[0]&3586){sn=H[10];let en;for(en=0;en<sn.length;en+=1){const Gn=wt(H,sn,en);ye[en]?(ye[en].p(Gn,fe),p(ye[en],1)):(ye[en]=Et(Gn),ye[en].c(),p(ye[en],1),ye[en].m(J,null))}for(ce(),en=sn.length;en<ye.length;en+=1)kn(en);me()}const qn={};fe[0]&16&&(qn.isEdit=H[4]),!le&&fe[0]&2&&(le=!0,qn.data=H[1],Q(()=>le=!1)),C.$set(qn);let Bn=x;x=Ln(H),x===Bn?~x&&ln[x].p(H,fe):(T&&(ce(),_(ln[Bn],1,1,()=>{ln[Bn]=null}),me()),~x?(T=ln[x],T?T.p(H,fe):(T=ln[x]=wn[x](H),T.c()),p(T,1),T.m(o,Y)):T=null);const Pn={};!$&&fe[0]&2&&($=!0,Pn.data=H[1],Q(()=>$=!1)),w.$set(Pn),(!Oe||fe[0]&2)&&_e!==(_e=an(H[1].createdDate)+"")&&Ge(Ne,_e),(!Oe||fe[0]&2)&&Ie!==(Ie=an(H[1].submittedDate)+"")&&Ge(Le,Ie),(!Oe||fe[0]&2)&&$e!==($e=an(H[1].acceptedDate)+"")&&Ge(ie,$e),(!Oe||fe[0]&2)&&j!==(j=an(H[1].completedDate)+"")&&Ge(oe,j)},i(H){if(!Oe){p(n.$$.fragment,H),p(a.$$.fragment,H),p(D.$$.fragment,H),p(pe),p(ge),p(ve),p(E),p(ae),p(je),p(He),p(Pe);for(let fe=0;fe<sn.length;fe+=1)p(ye[fe]);p(C.$$.fragment,H),p(T),p(w.$$.fragment,H),Oe=!0}},o(H){_(n.$$.fragment,H),_(a.$$.fragment,H),_(D.$$.fragment,H),_(pe),_(ge),_(ve),_(E),_(ae),_(je),_(He),_(Pe),ye=ye.filter(Boolean);for(let fe=0;fe<ye.length;fe+=1)_(ye[fe]);_(C.$$.fragment,H),_(T),_(w.$$.fragment,H),Oe=!1},d(H){B(n,H),H&&z(t),B(a,H),H&&z(i),H&&z(o),Be&&Be.d(),Re&&Re.d(),B(D),pe&&pe.d(),ge&&ge.d(),ve&&ve.d(),E&&E.d(),ae&&ae.d(),je&&je.d(),He&&He.d(),Pe&&Pe.d(),Lt(ye,H),e[38](null),B(C),~x&&ln[x].d(),B(w)}}}function Ct(e){let n;return{c(){n=m("span"),n.textContent="แก้ไขข้อมูล",h(n,"class","text-reject font-weight-bold")},m(l,t){U(l,n,t)},d(l){l&&z(n)}}}function Dt(e){let n,l,t,a,s=e[1].rejectComment?"Reject":"Cancel",i,o,r,u;return{c(){n=m("div"),l=m("span"),l.innerHTML='<i class="ic ic-reject"></i>',t=b(),a=m("span"),i=De(s),o=De(" Reason"),h(l,"class","_icon-link svelte-zu4zl6"),h(a,"class","text-reject text-size-normal underline cursor-pointer"),h(n,"class","_icon-link svelte-zu4zl6")},m(v,c){U(v,n,c),f(n,l),f(n,t),f(n,a),f(a,i),f(a,o),r||(u=[fn(a,"click",e[27]),fn(a,"keydown",Ca)],r=!0)},p(v,c){c[0]&2&&s!==(s=v[1].rejectComment?"Reject":"Cancel")&&Ge(i,s)},d(v){v&&z(n),r=!1,En(u)}}}function Tt(e){let n,l;return n=new un({props:{isLoading:e[3],outline:!0,primary:!1,class:"w-[96px]",label:"Edit",icon:"ic-edit"}}),n.$on("click",e[14]),{c(){N(n.$$.fragment)},m(t,a){q(n,t,a),l=!0},p(t,a){const s={};a[0]&8&&(s.isLoading=t[3]),n.$set(s)},i(t){l||(p(n.$$.fragment,t),l=!0)},o(t){_(n.$$.fragment,t),l=!1},d(t){B(n,t)}}}function Ft(e){let n,l;return n=new un({props:{isLoading:e[3],primary:!0,class:"w-[96px]",label:"Save"}}),n.$on("click",e[29]),{c(){N(n.$$.fragment)},m(t,a){q(n,t,a),l=!0},p(t,a){const s={};a[0]&8&&(s.isLoading=t[3]),n.$set(s)},i(t){l||(p(n.$$.fragment,t),l=!0)},o(t){_(n.$$.fragment,t),l=!1},d(t){B(n,t)}}}function yt(e){let n,l;return n=new un({props:{isLoading:e[3],primary:!1,secondary:!0,label:"Submit",class:"w-[96px]"}}),n.$on("click",e[30]),{c(){N(n.$$.fragment)},m(t,a){q(n,t,a),l=!0},p(t,a){const s={};a[0]&8&&(s.isLoading=t[3]),n.$set(s)},i(t){l||(p(n.$$.fragment,t),l=!0)},o(t){_(n.$$.fragment,t),l=!1},d(t){B(n,t)}}}function Nt(e){let n,l;return n=new un({props:{isLoading:e[3],primary:!1,secondary:!0,label:"Accept",class:"w-[96px]"}}),n.$on("click",e[31]),{c(){N(n.$$.fragment)},m(t,a){q(n,t,a),l=!0},p(t,a){const s={};a[0]&8&&(s.isLoading=t[3]),n.$set(s)},i(t){l||(p(n.$$.fragment,t),l=!0)},o(t){_(n.$$.fragment,t),l=!1},d(t){B(n,t)}}}function qt(e){let n,l;return n=new un({props:{icon:"ic-success",isLoading:e[3],primary:!1,secondary:!0,label:"Complete",class:"w-[102px]"}}),n.$on("click",e[32]),{c(){N(n.$$.fragment)},m(t,a){q(n,t,a),l=!0},p(t,a){const s={};a[0]&8&&(s.isLoading=t[3]),n.$set(s)},i(t){l||(p(n.$$.fragment,t),l=!0)},o(t){_(n.$$.fragment,t),l=!1},d(t){B(n,t)}}}function Bt(e){let n,l;return n=new un({props:{isLoading:e[3],primary:!1,secondary:!0,label:"Verify",class:"w-[80px]"}}),n.$on("click",e[33]),{c(){N(n.$$.fragment)},m(t,a){q(n,t,a),l=!0},p(t,a){const s={};a[0]&8&&(s.isLoading=t[3]),n.$set(s)},i(t){l||(p(n.$$.fragment,t),l=!0)},o(t){_(n.$$.fragment,t),l=!1},d(t){B(n,t)}}}function At(e){let n,l;return n=new un({props:{isLoading:e[3],primary:!1,cancel:!0,label:"Reject",class:"w-[80px]"}}),n.$on("click",e[34]),{c(){N(n.$$.fragment)},m(t,a){q(n,t,a),l=!0},p(t,a){const s={};a[0]&8&&(s.isLoading=t[3]),n.$set(s)},i(t){l||(p(n.$$.fragment,t),l=!0)},o(t){_(n.$$.fragment,t),l=!1},d(t){B(n,t)}}}function It(e){let n,l;return n=new un({props:{isLoading:e[3],primary:!1,cancel:!0,label:"Cancel Request"}}),n.$on("click",e[35]),{c(){N(n.$$.fragment)},m(t,a){q(n,t,a),l=!0},p(t,a){const s={};a[0]&8&&(s.isLoading=t[3]),n.$set(s)},i(t){l||(p(n.$$.fragment,t),l=!0)},o(t){_(n.$$.fragment,t),l=!1},d(t){B(n,t)}}}function Et(e){let n,l,t;function a(i){e[36](i)}let s={isForm:!0,labelClass:"text-black",name:"onBehalfFlow",value:e[52].value,label:e[52].label,disabled:!e[1].canSave||e[1].canOnlyOnBehalf};return e[9]!==void 0&&(s.group=e[9]),n=new fl({props:s}),R.push(()=>W(n,"group",a)),n.$on("change",e[11]),{c(){N(n.$$.fragment)},m(i,o){q(n,i,o),t=!0},p(i,o){const r={};o[0]&2&&(r.disabled=!i[1].canSave||i[1].canOnlyOnBehalf),!l&&o[0]&512&&(l=!0,r.group=i[9],Q(()=>l=!1)),n.$set(r)},i(i){t||(p(n.$$.fragment,i),t=!0)},o(i){_(n.$$.fragment,i),t=!1},d(i){B(n,i)}}}function ca(e){let n,l,t;function a(i){e[42](i)}let s={};return e[1]!==void 0&&(s.data=e[1]),n=new sa({props:s}),R.push(()=>W(n,"data",a)),n.$on("fileChanged",e[23]),{c(){N(n.$$.fragment)},m(i,o){q(n,i,o),t=!0},p(i,o){const r={};!l&&o[0]&2&&(l=!0,r.data=i[1],Q(()=>l=!1)),n.$set(r)},i(i){t||(p(n.$$.fragment,i),t=!0)},o(i){_(n.$$.fragment,i),t=!1},d(i){B(n,i)}}}function ma(e){let n,l,t;function a(i){e[41](i)}let s={};return e[1]!==void 0&&(s.data=e[1]),n=new ta({props:s}),R.push(()=>W(n,"data",a)),n.$on("fileChanged",e[23]),{c(){N(n.$$.fragment)},m(i,o){q(n,i,o),t=!0},p(i,o){const r={};!l&&o[0]&2&&(l=!0,r.data=i[1],Q(()=>l=!1)),n.$set(r)},i(i){t||(p(n.$$.fragment,i),t=!0)},o(i){_(n.$$.fragment,i),t=!1},d(i){B(n,i)}}}function _a(e){let n,l,t;function a(i){e[40](i)}let s={};return e[1]!==void 0&&(s.data=e[1]),n=new Jl({props:s}),R.push(()=>W(n,"data",a)),n.$on("fileChanged",e[23]),{c(){N(n.$$.fragment)},m(i,o){q(n,i,o),t=!0},p(i,o){const r={};!l&&o[0]&2&&(l=!0,r.data=i[1],Q(()=>l=!1)),n.$set(r)},i(i){t||(p(n.$$.fragment,i),t=!0)},o(i){_(n.$$.fragment,i),t=!1},d(i){B(n,i)}}}function ga(e){let n,l,t;function a(i){e[39](i)}let s={};return e[1]!==void 0&&(s.data=e[1]),n=new Ll({props:s}),R.push(()=>W(n,"data",a)),n.$on("fileChanged",e[23]),{c(){N(n.$$.fragment)},m(i,o){q(n,i,o),t=!0},p(i,o){const r={};!l&&o[0]&2&&(l=!0,r.data=i[1],Q(()=>l=!1)),n.$set(r)},i(i){t||(p(n.$$.fragment,i),t=!0)},o(i){_(n.$$.fragment,i),t=!1},d(i){B(n,i)}}}function va(e){let n,l,t,a,s,i=e[1].rejectedBy+"",o,r,u,v,c,k,D=an(e[1].rejectedDate)+"",F;return{c(){n=m("div"),l=m("div"),t=m("span"),t.textContent="Rejected By :",a=b(),s=m("span"),o=De(i),r=b(),u=m("div"),v=m("span"),v.textContent="Rejected Date :",c=b(),k=m("span"),F=De(D),h(t,"class","text-gray-800"),h(v,"class","text-gray-800"),h(n,"class","grid gap-1.5 mb-3 desktop:grid-cols-2")},m(S,O){U(S,n,O),f(n,l),f(l,t),f(l,a),f(l,s),f(s,o),f(n,r),f(n,u),f(u,v),f(u,c),f(u,k),f(k,F)},p(S,O){O[0]&2&&i!==(i=S[1].rejectedBy+"")&&Ge(o,i),O[0]&2&&D!==(D=an(S[1].rejectedDate)+"")&&Ge(F,D)},d(S){S&&z(n)}}}function ba(e){let n,l,t,a,s,i=e[1].cancelledBy+"",o,r,u,v,c,k,D=an(e[1].cancelledDate)+"",F;return{c(){n=m("div"),l=m("div"),t=m("span"),t.textContent="Cancelled By :",a=b(),s=m("span"),o=De(i),r=b(),u=m("div"),v=m("span"),v.textContent="Cancelled Date :",c=b(),k=m("span"),F=De(D),h(t,"class","text-gray-800"),h(v,"class","text-gray-800"),h(n,"class","grid gap-1.5 mb-3 desktop:grid-cols-2")},m(S,O){U(S,n,O),f(n,l),f(l,t),f(l,a),f(l,s),f(s,o),f(n,r),f(n,u),f(u,v),f(u,c),f(u,k),f(k,F)},p(S,O){O[0]&2&&i!==(i=S[1].cancelledBy+"")&&Ge(o,i),O[0]&2&&D!==(D=an(S[1].cancelledDate)+"")&&Ge(F,D)},d(S){S&&z(n)}}}function ha(e){var v,c;let n,l,t=(((v=e[1])==null?void 0:v.rejectComment)||((c=e[1])==null?void 0:c.cancelComment))+"",a,s,i;function o(k,D){var F;return(F=k[1])!=null&&F.cancelComment?ba:va}let r=o(e),u=r(e);return{c(){n=m("div"),l=m("div"),a=De(t),s=b(),u.c(),i=on(),h(n,"class","text-size-xlarge text-center mb-2 desktop:mb-5")},m(k,D){U(k,n,D),f(n,l),f(l,a),U(k,s,D),u.m(k,D),U(k,i,D)},p(k,D){var F,S;D[0]&2&&t!==(t=(((F=k[1])==null?void 0:F.rejectComment)||((S=k[1])==null?void 0:S.cancelComment))+"")&&Ge(a,t),r===(r=o(k))&&u?u.p(k,D):(u.d(1),u=r(k),u&&(u.c(),u.m(i.parentNode,i)))},d(k){k&&z(n),k&&z(s),u.d(k),k&&z(i)}}}function $a(e){var t;let n=(t=e[1])!=null&&t.onBehalfFlow?"เหตุผลการปฎิเสธการอนุมัติ":"เหตุผลการยกเลิก",l;return{c(){l=De(n)},m(a,s){U(a,l,s)},p(a,s){var i;s[0]&2&&n!==(n=(i=a[1])!=null&&i.onBehalfFlow?"เหตุผลการปฎิเสธการอนุมัติ":"เหตุผลการยกเลิก")&&Ge(l,n)},d(a){a&&z(l)}}}function Sa(e){let n;return{c(){n=De("เหตุผลการยกเลิกใบงาน")},m(l,t){U(l,n,t)},p:jt,d(l){l&&z(n)}}}function wa(e){let n;function l(s,i){var o;return(o=s[1])!=null&&o.cancelComment?Sa:$a}let t=l(e),a=t(e);return{c(){n=m("div"),a.c(),h(n,"slot","title"),h(n,"class","text-reject")},m(s,i){U(s,n,i),a.m(n,null)},p(s,i){t===(t=l(s))&&a?a.p(s,i):(a.d(1),a=t(s),a&&(a.c(),a.m(n,null)))},d(s){s&&z(n),a.d()}}}function ka(e){var C,le,d,x,T,Y;let n,l,t,a,s,i,o,r=(Mn[(le=(C=e[1])==null?void 0:C.status)==null?void 0:le.key]||"-")+"",u,v,c,k,D,F,S,O,L,M,Z;l=new sl({props:{icon:"ic-fix",iconBg:"bg-fix",title:"Fix and General Service",showDocumentNo:!0,documentNo:(d=e[1])==null?void 0:d.documentNo}});let P=((T=(x=e[1])==null?void 0:x.status)==null?void 0:T.key)===he.FixAndGeneralDocumentStatus.Draft&&((Y=e[1])==null?void 0:Y.documentNo)&&kt(e),K=e[1]&&Ot(e),X={isLoading:e[3]};F=new gl({props:X}),e[44](F);let J={showFooter:!1,maxWidth:"500px",$$slots:{title:[wa],default:[ha]},$$scope:{ctx:e}};O=new Ht({props:J}),e[45](O);let G={};return M=new cl({props:G}),e[46](M),{c(){n=m("div"),N(l.$$.fragment),t=b(),a=m("div"),s=m("div"),i=De("Current Status : "),o=m("span"),u=De(r),v=b(),c=m("div"),P&&P.c(),k=b(),K&&K.c(),D=b(),N(F.$$.fragment),S=b(),N(O.$$.fragment),L=b(),N(M.$$.fragment),h(n,"class","mb-2"),h(o,"class","font-weight-bold"),h(a,"class","flex justify-between items-center mb-1.5 px-2 desktop:px-4")},m(w,$){U(w,n,$),q(l,n,null),U(w,t,$),U(w,a,$),f(a,s),f(s,i),f(s,o),f(o,u),f(a,v),f(a,c),P&&P.m(c,null),U(w,k,$),K&&K.m(w,$),U(w,D,$),q(F,w,$),U(w,S,$),q(O,w,$),U(w,L,$),q(M,w,$),Z=!0},p(w,$){var se,re,_e,Ne,qe,we;const ee={};$[0]&2&&(ee.documentNo=(se=w[1])==null?void 0:se.documentNo),l.$set(ee),(!Z||$[0]&2)&&r!==(r=(Mn[(_e=(re=w[1])==null?void 0:re.status)==null?void 0:_e.key]||"-")+"")&&Ge(u,r),((qe=(Ne=w[1])==null?void 0:Ne.status)==null?void 0:qe.key)===he.FixAndGeneralDocumentStatus.Draft&&((we=w[1])!=null&&we.documentNo)?P?P.p(w,$):(P=kt(w),P.c(),P.m(c,null)):P&&(P.d(1),P=null),w[1]?K?(K.p(w,$),$[0]&2&&p(K,1)):(K=Ot(w),K.c(),p(K,1),K.m(D.parentNode,D)):K&&(ce(),_(K,1,1,()=>{K=null}),me());const g={};$[0]&8&&(g.isLoading=w[3]),F.$set(g);const V={};$[0]&2|$[1]&16777216&&(V.$$scope={dirty:$,ctx:w}),O.$set(V);const ue={};M.$set(ue)},i(w){Z||(p(l.$$.fragment,w),p(K),p(F.$$.fragment,w),p(O.$$.fragment,w),p(M.$$.fragment,w),Z=!0)},o(w){_(l.$$.fragment,w),_(K),_(F.$$.fragment,w),_(O.$$.fragment,w),_(M.$$.fragment,w),Z=!1},d(w){w&&z(n),B(l),w&&z(t),w&&z(a),P&&P.d(),w&&z(k),K&&K.d(w),w&&z(D),e[44](null),B(F,w),w&&z(S),e[45](null),B(O,w),w&&z(L),e[46](null),B(M,w)}}}function Oa(e){let n,l;return n=new tl({props:{isShowLoading:e[2],$$slots:{default:[ka]},$$scope:{ctx:e}}}),{c(){N(n.$$.fragment)},m(t,a){q(n,t,a),l=!0},p(t,a){const s={};a[0]&4&&(s.isShowLoading=t[2]),a[0]&1019|a[1]&16777216&&(s.$$scope={dirty:a,ctx:t}),n.$set(s)},i(t){l||(p(n.$$.fragment,t),l=!0)},o(t){_(n.$$.fragment,t),l=!1},d(t){B(n,t)}}}const Ca=()=>{};function Da(e,n,l){ll.set({vertical:al.Middle});let t=An.recordId??"",a=An.parent,s=An.typeOfService,i,o=!1,r=!1,u=!1,v,c,k,D;//!! solution for radio with boolean value (for now)
let F="false";const S=[{value:"false",label:"ดำเนินการเอง"},{value:"true",label:"ดำเนินการแทน (On Behalf Of)"}];function O(){l(1,i.onBehalfFlow=F==="true",i),v&&v.clearOnBehalfOfEmployee()}function L(){l(3,r=!0),nn.DeleteFixAndGeneral({recordId:i.recordId}).then(()=>{D.success("ลบใบงานสำเร็จ").then(()=>{M()})}).catch(()=>{l(3,r=!1)})}function M(){il(a??ol.HOME)}function Z(){l(1,i.canSave=!0,i),l(4,u=!0)}function P(){return{...i}}function K(A=!0){if(l(3,r=!0),i.canSaveComplete)nn.SaveCompleteFixAndGeneral({input:P()}).then(y=>{l(1,i=y),A&&tn.success("บันทึกใบงานสำเร็จ")}).finally(()=>{l(3,r=!1),l(4,u=!1)});else if(i.canSave)return nn.SaveFixAndGeneral({input:P()}).then(y=>{l(1,i=y),A&&tn.success("บันทึกใบงานสำเร็จ")}).finally(()=>{l(3,r=!1),l(4,u=!1)})}function X(){l(3,r=!0),nn.SubmitFixAndGeneral({input:P()}).then(A=>{l(1,i=A),tn.success("ส่งใบงานสำเร็จ")}).finally(()=>{l(3,r=!1)})}function J(){l(3,r=!0),nn.AcceptFixAndGeneral({recordId:i.recordId}).then(A=>{l(1,i=A),tn.success("ดำเนินการตอบรับใบงานสำเร็จ")}).finally(()=>{l(3,r=!1)})}function G(){l(3,r=!0),nn.CompleteFixAndGeneral({input:P()}).then(A=>{l(1,i=A),tn.success("ดำเนินการปิดใบงานสำเร็จ")}).finally(()=>{l(3,r=!1)})}function C(){l(3,r=!0),nn.VerifyFixAndGeneral({recordId:i.recordId}).then(A=>{l(1,i=A),tn.success("ยืนยันใบงานสำเร็จ")}).finally(()=>{l(3,r=!1)})}function le(A){l(3,r=!0),nn.RejectFixAndGeneral({recordId:i.recordId,rejectComment:A}).then(y=>{Y()}).finally(()=>{l(3,r=!1)})}function d(A){if(A.trim()===""){tn.error("โปรดกรอกเหตุผล");return}l(3,r=!0),nn.CancelRequestFixAndGeneral({recordId:i.recordId,cancelComment:A}).then(y=>{w(y),tn.success("ยกเลิกใบงานสำเร็จ")}).finally(()=>{l(3,r=!1)})}function x(){l(3,r=!0),nn.SaveRatingFixAndGeneral({input:P()}).then(A=>{l(1,i=A),tn.success("ประเมินความพึงพอใจสำเร็จ")}).finally(()=>{l(3,r=!1)})}async function T({detail:{attachmentFiles:A,isComplete:y,uploadFinished:te}}){i!=null&&i.recordId||await K(!1);let I=0,ne=A.length;for(const j of A)rl(nn.UploadFile,j,i==null?void 0:i.recordId).then(oe=>{I++,y?(Array.isArray(i.completedAttachmentFiles)||l(1,i.completedAttachmentFiles=[],i),l(1,i.completedAttachmentFiles=[...i.completedAttachmentFiles,{id:oe,url:""}],i)):(Array.isArray(i.attachmentFiles)||l(1,i.attachmentFiles=[],i),l(1,i.attachmentFiles=[...i.attachmentFiles,{id:oe,url:""}],i)),I===ne&&(te(),K(!1))})}function Y(){l(2,o=!0),nn.GetFixAndGeneralDetail({recordId:t}).then(A=>{w(A)}).finally(()=>{l(2,o=!1)})}function w(A){var y,te;l(1,i=A),(y=i.typeOfService)!=null&&y.key?l(0,s=(te=i.typeOfService)==null?void 0:te.key):l(1,i.typeOfService={enumName:"TypeOfService",key:s,value:s},i),(i.typeOfService.key===he.FixTypeOfService.OfficeEquipment||i.typeOfService.key===he.FixTypeOfService.GeneralService)&&l(1,i.repairArea="TSR",i),i.canOnlyOnBehalf&&l(1,i.onBehalfFlow=!0,i),l(9,F=i.onBehalfFlow?"true":"false"),l(1,i.onBehalfFlow=F==="true",i),i.showRatingForm&&(typeof i.ratingScore!="number"||i.ratingScore===0)&&l(1,i.ratingScore=5,i),i.showRatingFormOBH&&(typeof i.ratingScoreOBH!="number"||i.ratingScoreOBH===0)&&l(1,i.ratingScoreOBH=5,i)}In(()=>{Y()});const $=()=>{c.open({title:"ยืนยันการลบใบงาน",detail:"คุณต้องการลบใบงานนี้ใช่หรือไม่",isThai:!0,onConfirm:()=>L()})};function ee(A){i=A,l(1,i)}function g(A){i=A,l(1,i)}const V=()=>k.open(),ue=()=>{i.canSave||i.canSaveComplete?c.open({title:"ยืนยันการออกจากใบงาน",detail:"คุณต้องการบันทึกก่อนออกจากหน้านี้หรือไม่",isThai:!0,onConfirm:()=>{K(!1),M()},onCancel:M}):M()},se=()=>{c.open({title:"ยืนยันการบันทึกใบงาน",detail:"คุณต้องการบันทึกใบงานนี้ใช่หรือไม่",isThai:!0,onConfirm:()=>{c.close(),K()}})},re=()=>{const{isValid:A}=St(s,i);if(!A)return;let y="คุณต้องการส่งใบงานนี้ใช่หรือไม่";i.onBehalfFlow&&(y=`คุณต้องการส่งใบงานนี้เพื่อยืนยันโดย<br>คุณ${i.onBehalfOfEmployeeName??""}<br>ใช่หรือไม่`),c.open({title:"ยืนยันการส่งใบงาน",detail:y,isThai:!0,onConfirm:()=>{c.close(),X()}})},_e=()=>{c.open({title:"ยืนยันการตอบรับใบงาน",detail:"คุณต้องการตอบรับใบงานนี้ใช่หรือไม่",isThai:!0,onConfirm:()=>{c.close(),J()}})},Ne=()=>{const{isValid:A}=St(s,i);A&&c.open({title:"ยืนยันการปิดใบงาน",detail:"คุณต้องการปิดใบงานนี้ใช่หรือไม่",isThai:!0,onConfirm:()=>{c.close(),G()}})},qe=()=>{c.open({title:"ยืนยันใบงาน",detail:"คุณต้องการยืนยันใบงานนี้ใช่หรือไม่",isThai:!0,onConfirm:()=>{c.close(),C()}})},we=()=>{c.open({title:"ยืนยันการปฏิเสธใบงาน",detail:"คุณต้องการปฏิเสธใบงานนี้ใช่หรือไม่",reasonLabel:"โปรดระบุเหตุผลในการปฏิเสธใบงานนี้",isThai:!0,canComment:!0,requiredComment:!0,emptyCommentText:"โปรดระบุเหตุผลในการปฏิเสธใบงานนี้",onConfirm:A=>{c.close(),le(A)}})},Ue=()=>{c.open({title:"ยืนยันการยกเลิกใบงาน",detail:"คุณต้องการยกเลิกใบงานนี้ใช่หรือไม่",reasonLabel:"โปรดระบุเหตุผลในการยกเลิกใบงานนี้",isThai:!0,canComment:!0,requiredComment:!0,emptyCommentText:"โปรดระบุเหตุผลในการยกเลิกใบงานนี้",onConfirm:A=>{c.close(),d(A)}})};function Ee(A){F=A,l(9,F)}function Ae(A){i=A,l(1,i)}function Ie(A){R[A?"unshift":"push"](()=>{v=A,l(5,v)})}function Le(A){i=A,l(1,i)}function de(A){i=A,l(1,i)}function be(A){i=A,l(1,i)}function ze(A){i=A,l(1,i)}function Je(A){i=A,l(1,i)}function Ve(A){R[A?"unshift":"push"](()=>{c=A,l(6,c)})}function $e(A){R[A?"unshift":"push"](()=>{k=A,l(7,k)})}function ie(A){R[A?"unshift":"push"](()=>{D=A,l(8,D)})}return[s,i,o,r,u,v,c,k,D,F,S,O,L,M,Z,K,X,J,G,C,le,d,x,T,$,ee,g,V,ue,se,re,_e,Ne,qe,we,Ue,Ee,Ae,Ie,Le,de,be,ze,Je,Ve,$e,ie]}class Ta extends Ye{constructor(n){super(),Ze(this,n,Da,Oa,xe,{},null,[-1,-1])}}new Ta({target:document.getElementById("app")});
