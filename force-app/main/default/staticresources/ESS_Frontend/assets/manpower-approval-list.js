import{S as ne,i as re,s as se,M as oe,w as C,x as S,t as x,b as q,y,D as le,A as ie,R as Q,C as ue,h as g,o as N,j as T,a as H,d as M,B,F as z,p as c,G as O,m as L,q as pe}from"./MainLayout.js";import{t as U}from"./formatter.js";import{C as ce}from"./Collapse.js";import{C as de}from"./Card.js";import{B as fe}from"./BaseInput.js";import{B as V}from"./Button.js";import{C as me}from"./CurrentStatusDropdown.js";import{C as j,T as $e}from"./Table.js";import{E as X}from"./ESS_Manpower.service.js";import{D as ge}from"./DateRange.js";import{C as _e}from"./CheckBox.js";import"./Label.js";import"./Dropdown.js";import"./html.js";import"./_commonjsHelpers.js";import"./flatpickr.js";function be(o){let a,l,n,p,i,m,e,t,_,d,f,D,$,b,v,u,k,w,r,A,h,W;function Z(s){o[6](s)}let E={placeholder:"Document No.",isHorizontal:!0};o[1].documentNo!==void 0&&(E.value=o[1].documentNo),n=new fe({props:E}),B.push(()=>z(n,"value",Z));function ee(s){o[7](s)}let F={labelClass:"text-gray-800 mr-[19px]"};o[1].status!==void 0&&(F.value=o[1].status),e=new me({props:F}),B.push(()=>z(e,"value",ee));function te(s){o[8](s)}let I={label:"Created Date",labelClass:"text-gray-800 self-center mr-4",isHorizontal:!0};o[1].createdDate!==void 0&&(I.value=o[1].createdDate),f=new ge({props:I}),B.push(()=>z(f,"value",te));function ae(s){o[9](s)}let G={label:"All Document",labelClass:"text-gray-800 self-center"};return o[1].onHandWork!==void 0&&(G.checked=o[1].onHandWork),v=new _e({props:G}),B.push(()=>z(v,"checked",ae)),r=new V({props:{search:!0,label:"Search",class:"text-size-large place-self-end mr-2 w-[96px]",icon:"ic-search"}}),r.$on("click",o[4]),h=new V({props:{clear:!0,label:"Clear",class:"w-[96px]"}}),h.$on("click",o[5]),{c(){a=g("div"),l=g("div"),C(n.$$.fragment),i=N(),m=g("div"),C(e.$$.fragment),_=N(),d=g("div"),C(f.$$.fragment),$=N(),b=g("div"),C(v.$$.fragment),k=N(),w=g("div"),C(r.$$.fragment),A=N(),C(h.$$.fragment),T(b,"class","flex items-center"),T(a,"class","desktop:grid desktop:grid-cols-2 desktop:gap-4 desktop:px-[18rem] mb-2"),T(w,"class","self-center text-center pb-4")},m(s,R){H(s,a,R),c(a,l),S(n,l,null),c(a,i),c(a,m),S(e,m,null),c(a,_),c(a,d),S(f,d,null),c(a,$),c(a,b),S(v,b,null),H(s,k,R),H(s,w,R),S(r,w,null),c(w,A),S(h,w,null),W=!0},p(s,R){const Y={};!p&&R&2&&(p=!0,Y.value=s[1].documentNo,O(()=>p=!1)),n.$set(Y);const J={};!t&&R&2&&(t=!0,J.value=s[1].status,O(()=>t=!1)),e.$set(J);const P={};!D&&R&2&&(D=!0,P.value=s[1].createdDate,O(()=>D=!1)),f.$set(P);const K={};!u&&R&2&&(u=!0,K.checked=s[1].onHandWork,O(()=>u=!1)),v.$set(K)},i(s){W||(x(n.$$.fragment,s),x(e.$$.fragment,s),x(f.$$.fragment,s),x(v.$$.fragment,s),x(r.$$.fragment,s),x(h.$$.fragment,s),W=!0)},o(s){q(n.$$.fragment,s),q(e.$$.fragment,s),q(f.$$.fragment,s),q(v.$$.fragment,s),q(r.$$.fragment,s),q(h.$$.fragment,s),W=!1},d(s){s&&M(a),y(n),y(e),y(f),y(v),s&&M(k),s&&M(w),y(r),y(h)}}}function ve(o){let a,l,n,p,i,m,e,t,_,d,f,D,$,b,v={tableConfig:o[3]};return $=new $e({props:v}),o[10]($),{c(){a=g("div"),l=g("div"),n=g("span"),n.innerHTML='<i class="ic ic-manpower-service"></i>',p=N(),i=g("span"),i.textContent="Request Manpower Service Requisition",m=N(),e=g("span"),t=L("("),_=L(o[0]),d=L(")"),f=N(),D=g("div"),C($.$$.fragment),T(n,"class","icon-header svelte-1fyx3kl"),T(i,"class","text-size-large text-link"),T(e,"class","text-title text-size-large"),T(l,"class","text-center font-weight-bold mb-[14px] desktop:col-start-2"),T(a,"class","desktop:grid desktop:grid-cols-3")},m(u,k){H(u,a,k),c(a,l),c(l,n),c(l,p),c(l,i),c(l,m),c(l,e),c(e,t),c(e,_),c(e,d),H(u,f,k),H(u,D,k),S($,D,null),b=!0},p(u,k){(!b||k&1)&&pe(_,u[0]);const w={};$.$set(w)},i(u){b||(x($.$$.fragment,u),b=!0)},o(u){q($.$$.fragment,u),b=!1},d(u){u&&M(a),u&&M(f),u&&M(D),o[10](null),y($)}}}function ke(o){let a,l,n,p,i,m;return n=new ce({props:{title:"ค้นหารายการ",containerClass:"mb-3 bg-search px-2",titleClass:"text-link font-weight-bold  border-b-0 bg-search",$$slots:{default:[be]},$$scope:{ctx:o}}}),i=new de({props:{$$slots:{default:[ve]},$$scope:{ctx:o}}}),{c(){a=g("div"),a.innerHTML=`<div class="icon-text svelte-1fyx3kl"><div class="bg-title rounded-xl w-[3.6rem] h-[3.6rem]"><span class="icon svelte-1fyx3kl"><div class="mx-1 mt-1 mb-"><i class="ic ic-manpower-service"></i></div></span></div> 

      <div class="pl-2">Request Manpower Service Requisition
        <div class="font-weight-bold text-size-xlarge">Approval</div></div></div>`,l=N(),C(n.$$.fragment),p=N(),C(i.$$.fragment),T(a,"class","bg-gray-100 border-gray-400 border p-2 rounded mb-2")},m(e,t){H(e,a,t),H(e,l,t),S(n,e,t),H(e,p,t),S(i,e,t),m=!0},p(e,t){const _={};t&65538&&(_.$$scope={dirty:t,ctx:e}),n.$set(_);const d={};t&65541&&(d.$$scope={dirty:t,ctx:e}),i.$set(d)},i(e){m||(x(n.$$.fragment,e),x(i.$$.fragment,e),m=!0)},o(e){q(n.$$.fragment,e),q(i.$$.fragment,e),m=!1},d(e){e&&M(a),e&&M(l),y(n,e),e&&M(p),y(i,e)}}}function we(o){let a,l;return a=new oe({props:{$$slots:{default:[ke]},$$scope:{ctx:o}}}),{c(){C(a.$$.fragment)},m(n,p){S(a,n,p),l=!0},p(n,[p]){const i={};p&65543&&(i.$$scope={dirty:p,ctx:n}),a.$set(i)},i(n){l||(x(a.$$.fragment,n),l=!0)},o(n){q(a.$$.fragment,n),l=!1},d(n){y(a,n)}}}function De(o,a,l){let n=0;const p=new Date().getFullYear()-2,i=new Date(p,0,1),m=le.now().toJSDate(),e={documentNo:"",status:{key:"all",value:"All"},onHandWork:!1,createdDate:[i,m]};let t={...e};function _(){var r;return{documentNo:t.documentNo,status:(r=t.status)==null?void 0:r.key,onHandWork:t.onHandWork,startCreatedDate:U(t.createdDate[0]),endCreatedDate:U(t.createdDate[1],!0)}}let d,f={columns:[{name:"Document No.",prop:"documentNo",cellTemplate:j.Link,onClick:(r,A)=>{ie(Q.ManpowerDetail,{parent:Q.ManpowerApprovalList,manpowerId:A.recordId})}},{name:"Type of Service",prop:"typeOfService",render:r=>r.value??"-"},{name:"Objective",prop:"objective",render:r=>r.value??"-"},{name:"Job Title",prop:"jobTitle"},{name:"Current Status",prop:"status",render:r=>r.value??"-"},{name:"Created Date",prop:"createdDate",cellTemplate:j.Date},{name:"Submitted Date",prop:"submittedDate",cellTemplate:j.Date},{name:"Requester",prop:"requesterName"},{name:"On Behalf Of",prop:"onBehalfOfName"}],getData:(r,A)=>ue.all([X.GetManpowerApproveTableCount({filter:{..._()}}).then(h=>(l(0,n=h),h)),X.GetManpowerApproveTable({filter:{..._()},sortByParam:A,pageParam:r})]),isStriped:!1};function D(){d.reload()}function $(){l(1,t={...e})}function b(r){o.$$.not_equal(t.documentNo,r)&&(t.documentNo=r,l(1,t))}function v(r){o.$$.not_equal(t.status,r)&&(t.status=r,l(1,t))}function u(r){o.$$.not_equal(t.createdDate,r)&&(t.createdDate=r,l(1,t))}function k(r){o.$$.not_equal(t.onHandWork,r)&&(t.onHandWork=r,l(1,t))}function w(r){B[r?"unshift":"push"](()=>{d=r,l(2,d)})}return[n,t,d,f,D,$,b,v,u,k,w]}class he extends ne{constructor(a){super(),re(this,a,De,we,se,{})}}new he({target:document.getElementById("app")});
