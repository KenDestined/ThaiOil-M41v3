import{f as T,L as Yf,T as Af,B as Be,g as Uf,a as qf,l as Je}from"./formatter.js";import{S as Le,i as Fe,s as Ge,e as k,t as M,a as y,j as z,c as b,d,f as c,g as D,h as m,D as K,E as Q,n as Oe,w as Ee,x as je,r as Te,u as we,F as Kf,y as Se,m as ne,o as ze,p as _e,v as Ne,A as Qf,l as We}from"./vendor.js";import{G as Ye,W as Ae,i as Rf,b as Vf,E as Xf,c as Me,T as Zf}from"./ExportButton.js";import{S as gf}from"./SecondaryTabs.js";function Ue(_,e,t){const l=_.slice();return l[14]=e[t],l[16]=t,l}function qe(_,e,t){const l=_.slice();return l[17]=e[t],l[19]=t,l}function Ke(_,e,t){const l=_.slice();return l[20]=e[t],l[22]=t,l}function Qe(_,e,t){const l=_.slice();return l[20]=e[t],l[22]=t,l}function Re(_,e,t){const l=_.slice();return l[20]=e[t],l[22]=t,l}function Ve(_,e,t){const l=_.slice();return l[20]=e[t],l[22]=t,l}function Xe(_,e,t){const l=_.slice();return l[20]=e[t],l[27]=t,l}function Ze(_,e,t){const l=_.slice();return l[14]=e[t],l[16]=t,l}function ge(_,e,t){const l=_.slice();return l[29]=e[t],l[27]=t,l}function xe(_,e,t){const l=_.slice();return l[31]=e[t],l[33]=t,l}function el(_,e,t){const l=_.slice();return l[34]=e[t],l[36]=t,l}function ll(_,e,t){const l=_.slice();return l[17]=e[t],l[27]=t,l}function tl(_,e,t){const l=_.slice();return l[31]=e[t],l[33]=t,l}function fl(_,e,t){const l=_.slice();return l[34]=e[t],l[36]=t,l}function il(_,e,t){const l=_.slice();return l[31]=e[t],l[27]=t,l}function ol(_,e,t){const l=_.slice();return l[34]=e[t],l[36]=t,l}function sl(_,e,t){const l=_.slice();return l[31]=e[t],l[33]=t,l}function nl(_,e,t){const l=_.slice();return l[34]=e[t],l[27]=t,l}function _l(_,e,t){const l=_.slice();return l[31]=e[t],l[33]=t,l}function ul(_,e,t){const l=_.slice();return l[34]=e[t],l[27]=t,l}function al(_,e,t){const l=_.slice();return l[31]=e[t],l[33]=t,l}function rl(_){let e,t,l;return{c(){e=k("th"),t=M("Grand Total"),b(e,"class","_head-col _plant-total"),b(e,"colspan",l=_[4]?(_[31].workTypes.length+1)*2:_[31].workTypes.length)},m(u,i){d(u,e,i),c(e,t)},p(u,i){i[0]&17&&l!==(l=u[4]?(u[31].workTypes.length+1)*2:u[31].workTypes.length)&&b(e,"colspan",l)},d(u){u&&m(e)}}}function pl(_,e){let t,l=e[31].company.name+"",u,i,o,s,f=e[0].length-1===e[33]&&rl(e);return{key:_,first:null,c(){t=k("th"),u=M(l),o=y(),f&&f.c(),s=z(),b(t,"class","_head-col _extend"),b(t,"colspan",i=e[4]?(e[31].workTypes.length+1)*2:e[31].workTypes.length),this.first=t},m(n,a){d(n,t,a),c(t,u),d(n,o,a),f&&f.m(n,a),d(n,s,a)},p(n,a){e=n,a[0]&1&&l!==(l=e[31].company.name+"")&&D(u,l),a[0]&17&&i!==(i=e[4]?(e[31].workTypes.length+1)*2:e[31].workTypes.length)&&b(t,"colspan",i),e[0].length-1===e[33]?f?f.p(e,a):(f=rl(e),f.c(),f.m(s.parentNode,s)):f&&(f.d(1),f=null)},d(n){n&&m(t),n&&m(o),f&&f.d(n),n&&m(s)}}}function dl(_,e){let t,l=e[34].type+"",u,i,o;return{key:_,first:null,c(){t=k("th"),u=M(l),b(t,"class",i="_head-col "+(e[27]===0?"_top":"_tes")),b(t,"colspan",o=e[4]?3:1),this.first=t},m(s,f){d(s,t,f),c(t,u)},p(s,f){e=s,f[0]&1&&l!==(l=e[34].type+"")&&D(u,l),f[0]&1&&i!==(i="_head-col "+(e[27]===0?"_top":"_tes"))&&b(t,"class",i),f[0]&16&&o!==(o=e[4]?3:1)&&b(t,"colspan",o)},d(s){s&&m(t)}}}function ml(_){let e,t,l,u,i,o,s;return{c(){e=k("th"),t=M("Staff"),u=y(),i=k("th"),o=M("Contractor"),b(e,"class","_head-col _top"),b(e,"colspan",l=_[4]?3:1),b(i,"class","_head-col _tes"),b(i,"colspan",s=_[4]?3:1)},m(f,n){d(f,e,n),c(e,t),d(f,u,n),d(f,i,n),c(i,o)},p(f,n){n[0]&16&&l!==(l=f[4]?3:1)&&b(e,"colspan",l),n[0]&16&&s!==(s=f[4]?3:1)&&b(i,"colspan",s)},d(f){f&&m(e),f&&m(u),f&&m(i)}}}function kl(_,e){let t,l=[],u=new Map,i,o,s=e[31].workTypes;const f=a=>a[34].id;for(let a=0;a<s.length;a+=1){let p=ul(e,s,a),r=f(p);u.set(r,l[a]=dl(r,p))}let n=e[0].length-1===e[33]&&ml(e);return{key:_,first:null,c(){t=z();for(let a=0;a<l.length;a+=1)l[a].c();i=y(),n&&n.c(),o=z(),this.first=t},m(a,p){d(a,t,p);for(let r=0;r<l.length;r+=1)l[r].m(a,p);d(a,i,p),n&&n.m(a,p),d(a,o,p)},p(a,p){e=a,p[0]&17&&(s=e[31].workTypes,l=K(l,p,f,1,e,s,u,i.parentNode,Q,dl,i,ul)),e[0].length-1===e[33]?n?n.p(e,p):(n=ml(e),n.c(),n.m(o.parentNode,o)):n&&(n.d(1),n=null)},d(a){a&&m(t);for(let p=0;p<l.length;p+=1)l[p].d(a);a&&m(i),n&&n.d(a),a&&m(o)}}}function cl(_){let e,t,l;return{c(){e=k("th"),e.textContent="Male",t=y(),l=k("th"),l.textContent="Female",b(e,"class","_head-col _male"),b(l,"class","_head-col _female")},m(u,i){d(u,e,i),d(u,t,i),d(u,l,i)},d(u){u&&m(e),u&&m(t),u&&m(l)}}}function bl(_,e){let t,l,u,i=e[4]&&cl();return{key:_,first:null,c(){t=z(),i&&i.c(),l=y(),u=k("th"),u.textContent="Total",b(u,"class","_head-col _total"),this.first=t},m(o,s){d(o,t,s),i&&i.m(o,s),d(o,l,s),d(o,u,s)},p(o,s){e=o,e[4]?i||(i=cl(),i.c(),i.m(l.parentNode,l)):i&&(i.d(1),i=null)},d(o){o&&m(t),i&&i.d(o),o&&m(l),o&&m(u)}}}function hl(_){let e,t,l,u,i,o=_[4]&&yl(),s=_[4]&&vl();return{c(){o&&o.c(),e=y(),t=k("th"),t.textContent="Total",l=y(),s&&s.c(),u=y(),i=k("th"),i.textContent="Total",b(t,"class","_head-col _grand-total"),b(i,"class","_head-col _grand-total")},m(f,n){o&&o.m(f,n),d(f,e,n),d(f,t,n),d(f,l,n),s&&s.m(f,n),d(f,u,n),d(f,i,n)},p(f,n){f[4]?o||(o=yl(),o.c(),o.m(e.parentNode,e)):o&&(o.d(1),o=null),f[4]?s||(s=vl(),s.c(),s.m(u.parentNode,u)):s&&(s.d(1),s=null)},d(f){o&&o.d(f),f&&m(e),f&&m(t),f&&m(l),s&&s.d(f),f&&m(u),f&&m(i)}}}function yl(_){let e,t,l;return{c(){e=k("th"),e.textContent="Male",t=y(),l=k("th"),l.textContent="Female",b(e,"class","_head-col _grand-male"),b(l,"class","_head-col _grand-female")},m(u,i){d(u,e,i),d(u,t,i),d(u,l,i)},d(u){u&&m(e),u&&m(t),u&&m(l)}}}function vl(_){let e,t,l;return{c(){e=k("th"),e.textContent="Male",t=y(),l=k("th"),l.textContent="Female",b(e,"class","_head-col _grand-male"),b(l,"class","_head-col _grand-female")},m(u,i){d(u,e,i),d(u,t,i),d(u,l,i)},d(u){u&&m(e),u&&m(t),u&&m(l)}}}function Tl(_,e){let t,l=[],u=new Map,i,o,s=e[31].workTypes;const f=a=>a[34].id;for(let a=0;a<s.length;a+=1){let p=nl(e,s,a),r=f(p);u.set(r,l[a]=bl(r,p))}let n=e[0].length-1===e[33]&&hl(e);return{key:_,first:null,c(){t=z();for(let a=0;a<l.length;a+=1)l[a].c();i=y(),n&&n.c(),o=z(),this.first=t},m(a,p){d(a,t,p);for(let r=0;r<l.length;r+=1)l[r].m(a,p);d(a,i,p),n&&n.m(a,p),d(a,o,p)},p(a,p){e=a,p[0]&17&&(s=e[31].workTypes,l=K(l,p,f,1,e,s,u,i.parentNode,Q,bl,i,nl)),e[0].length-1===e[33]?n?n.p(e,p):(n=hl(e),n.c(),n.m(o.parentNode,o)):n&&(n.d(1),n=null)},d(a){a&&m(t);for(let p=0;p<l.length;p+=1)l[p].d(a);a&&m(i),n&&n.d(a),a&&m(o)}}}function wl(_){let e;return{c(){e=k("tr"),e.innerHTML='<td class="_col _space"></td>'},m(t,l){d(t,e,l)},d(t){t&&m(e)}}}function Nl(_){let e,t=T(_[10](_[16],_[34],_[12].Male))+"",l,u,i,o=T(_[10](_[16],_[34],_[12].Female))+"",s;return{c(){e=k("td"),l=M(t),u=y(),i=k("td"),s=M(o),b(e,"class","_col _indicator-total"),b(i,"class","_col _indicator-total")},m(f,n){d(f,e,n),c(e,l),d(f,u,n),d(f,i,n),c(i,s)},p(f,n){n[0]&1029&&t!==(t=T(f[10](f[16],f[34],f[12].Male))+"")&&D(l,t),n[0]&1029&&o!==(o=T(f[10](f[16],f[34],f[12].Female))+"")&&D(s,o)},d(f){f&&m(e),f&&m(u),f&&m(i)}}}function Cl(_,e){let t,l,u,i=T(e[10](e[16],e[34],e[12].Total))+"",o,s=e[4]&&Nl(e);return{key:_,first:null,c(){t=z(),s&&s.c(),l=y(),u=k("td"),o=M(i),b(u,"class","_col _indicator-total"),this.first=t},m(f,n){d(f,t,n),s&&s.m(f,n),d(f,l,n),d(f,u,n),c(u,o)},p(f,n){e=f,e[4]?s?s.p(e,n):(s=Nl(e),s.c(),s.m(l.parentNode,l)):s&&(s.d(1),s=null),n[0]&1029&&i!==(i=T(e[10](e[16],e[34],e[12].Total))+"")&&D(o,i)},d(f){f&&m(t),s&&s.d(f),f&&m(l),f&&m(u)}}}function Ml(_){let e,t,l=T(_[9](_[16]).staff.total)+"",u,i,o,s,f=T(_[9](_[16]).contractor.total)+"",n,a=_[4]&&Hl(_),p=_[4]&&$l(_);return{c(){a&&a.c(),e=y(),t=k("td"),u=M(l),i=y(),p&&p.c(),o=y(),s=k("td"),n=M(f),b(t,"class","_col _indicator-total"),b(s,"class","_col _indicator-total")},m(r,h){a&&a.m(r,h),d(r,e,h),d(r,t,h),c(t,u),d(r,i,h),p&&p.m(r,h),d(r,o,h),d(r,s,h),c(s,n)},p(r,h){r[4]?a?a.p(r,h):(a=Hl(r),a.c(),a.m(e.parentNode,e)):a&&(a.d(1),a=null),h[0]&516&&l!==(l=T(r[9](r[16]).staff.total)+"")&&D(u,l),r[4]?p?p.p(r,h):(p=$l(r),p.c(),p.m(o.parentNode,o)):p&&(p.d(1),p=null),h[0]&516&&f!==(f=T(r[9](r[16]).contractor.total)+"")&&D(n,f)},d(r){a&&a.d(r),r&&m(e),r&&m(t),r&&m(i),p&&p.d(r),r&&m(o),r&&m(s)}}}function Hl(_){let e,t=T(_[9](_[16]).staff.male)+"",l,u,i,o=T(_[9](_[16]).staff.female)+"",s;return{c(){e=k("td"),l=M(t),u=y(),i=k("td"),s=M(o),b(e,"class","_col _indicator-total"),b(i,"class","_col _indicator-total")},m(f,n){d(f,e,n),c(e,l),d(f,u,n),d(f,i,n),c(i,s)},p(f,n){n[0]&516&&t!==(t=T(f[9](f[16]).staff.male)+"")&&D(l,t),n[0]&516&&o!==(o=T(f[9](f[16]).staff.female)+"")&&D(s,o)},d(f){f&&m(e),f&&m(u),f&&m(i)}}}function $l(_){let e,t=T(_[9](_[16]).contractor.male)+"",l,u,i,o=T(_[9](_[16]).contractor.female)+"",s;return{c(){e=k("td"),l=M(t),u=y(),i=k("td"),s=M(o),b(e,"class","_col _indicator-total"),b(i,"class","_col _indicator-total")},m(f,n){d(f,e,n),c(e,l),d(f,u,n),d(f,i,n),c(i,s)},p(f,n){n[0]&516&&t!==(t=T(f[9](f[16]).contractor.male)+"")&&D(l,t),n[0]&516&&o!==(o=T(f[9](f[16]).contractor.female)+"")&&D(s,o)},d(f){f&&m(e),f&&m(u),f&&m(i)}}}function Dl(_,e){let t,l=[],u=new Map,i,o,s=e[31].workTypes;const f=a=>`${a[34].id}_${a[27]}`;for(let a=0;a<s.length;a+=1){let p=ol(e,s,a),r=f(p);u.set(r,l[a]=Cl(r,p))}let n=e[0].length-1===e[27]&&Ml(e);return{key:_,first:null,c(){t=z();for(let a=0;a<l.length;a+=1)l[a].c();i=y(),n&&n.c(),o=z(),this.first=t},m(a,p){d(a,t,p);for(let r=0;r<l.length;r+=1)l[r].m(a,p);d(a,i,p),n&&n.m(a,p),d(a,o,p)},p(a,p){e=a,p[0]&5141&&(s=e[31].workTypes,l=K(l,p,f,1,e,s,u,i.parentNode,Q,Cl,i,ol)),e[0].length-1===e[27]?n?n.p(e,p):(n=Ml(e),n.c(),n.m(o.parentNode,o)):n&&(n.d(1),n=null)},d(a){a&&m(t);for(let p=0;p<l.length;p+=1)l[p].d(a);a&&m(i),n&&n.d(a),a&&m(o)}}}function xf(_){let e,t,l=_[4]&&Il();return{c(){l&&l.c(),e=y(),t=k("td"),t.textContent="0",b(t,"class","_col _total")},m(u,i){l&&l.m(u,i),d(u,e,i),d(u,t,i)},p(u,i){u[4]?l||(l=Il(),l.c(),l.m(e.parentNode,e)):l&&(l.d(1),l=null)},d(u){l&&l.d(u),u&&m(e),u&&m(t)}}}function ei(_){let e,t,l=T(_[34].incidents[_[16]].manHours[_[27]].total.hours)+"",u,i,o=_[4]&&El(_);return{c(){o&&o.c(),e=y(),t=k("td"),u=M(l),i=y(),b(t,"class","_col _total")},m(s,f){o&&o.m(s,f),d(s,e,f),d(s,t,f),c(t,u),c(t,i)},p(s,f){s[4]?o?o.p(s,f):(o=El(s),o.c(),o.m(e.parentNode,e)):o&&(o.d(1),o=null),f[0]&5&&l!==(l=T(s[34].incidents[s[16]].manHours[s[27]].total.hours)+"")&&D(u,l)},d(s){o&&o.d(s),s&&m(e),s&&m(t)}}}function Il(_){let e,t,l;return{c(){e=k("td"),e.textContent="0",t=y(),l=k("td"),l.textContent="0"},m(u,i){d(u,e,i),d(u,t,i),d(u,l,i)},d(u){u&&m(e),u&&m(t),u&&m(l)}}}function El(_){let e,t=T(_[34].incidents[_[16]].manHours[_[27]].male.hours)+"",l,u,i,o=T(_[34].incidents[_[16]].manHours[_[27]].female.hours)+"",s;return{c(){e=k("td"),l=M(t),u=y(),i=k("td"),s=M(o)},m(f,n){d(f,e,n),c(e,l),d(f,u,n),d(f,i,n),c(i,s)},p(f,n){n[0]&5&&t!==(t=T(f[34].incidents[f[16]].manHours[f[27]].male.hours)+"")&&D(l,t),n[0]&5&&o!==(o=T(f[34].incidents[f[16]].manHours[f[27]].female.hours)+"")&&D(s,o)},d(f){f&&m(e),f&&m(u),f&&m(i)}}}function jl(_,e){let t,l;function u(s,f){return s[34].incidents[s[16]].manHours[s[27]]?ei:xf}let i=u(e),o=i(e);return{key:_,first:null,c(){t=z(),o.c(),l=z(),this.first=t},m(s,f){d(s,t,f),o.m(s,f),d(s,l,f)},p(s,f){e=s,i===(i=u(e))&&o?o.p(e,f):(o.d(1),o=i(e),o&&(o.c(),o.m(l.parentNode,l)))},d(s){s&&m(t),o.d(s),s&&m(l)}}}function Sl(_){let e,t,l=T(_[11](_[16],_[27]).staff.total)+"",u,i,o,s,f=T(_[11](_[16],_[27]).contractor.total)+"",n,a=_[4]&&Ol(_),p=_[4]&&Bl(_);return{c(){a&&a.c(),e=y(),t=k("td"),u=M(l),i=y(),p&&p.c(),o=y(),s=k("td"),n=M(f),b(t,"class","_col _grand-total"),b(s,"class","_col _grand-total")},m(r,h){a&&a.m(r,h),d(r,e,h),d(r,t,h),c(t,u),d(r,i,h),p&&p.m(r,h),d(r,o,h),d(r,s,h),c(s,n)},p(r,h){r[4]?a?a.p(r,h):(a=Ol(r),a.c(),a.m(e.parentNode,e)):a&&(a.d(1),a=null),h[0]&2052&&l!==(l=T(r[11](r[16],r[27]).staff.total)+"")&&D(u,l),r[4]?p?p.p(r,h):(p=Bl(r),p.c(),p.m(o.parentNode,o)):p&&(p.d(1),p=null),h[0]&2052&&f!==(f=T(r[11](r[16],r[27]).contractor.total)+"")&&D(n,f)},d(r){a&&a.d(r),r&&m(e),r&&m(t),r&&m(i),p&&p.d(r),r&&m(o),r&&m(s)}}}function Ol(_){let e,t=T(_[11](_[16],_[27]).staff.male)+"",l,u,i,o=T(_[11](_[16],_[27]).staff.female)+"",s;return{c(){e=k("td"),l=M(t),u=y(),i=k("td"),s=M(o),b(e,"class","_col _grand-male"),b(i,"class","_col _grand-female")},m(f,n){d(f,e,n),c(e,l),d(f,u,n),d(f,i,n),c(i,s)},p(f,n){n[0]&2052&&t!==(t=T(f[11](f[16],f[27]).staff.male)+"")&&D(l,t),n[0]&2052&&o!==(o=T(f[11](f[16],f[27]).staff.female)+"")&&D(s,o)},d(f){f&&m(e),f&&m(u),f&&m(i)}}}function Bl(_){let e,t=T(_[11](_[16],_[27]).contractor.male)+"",l,u,i,o=T(_[11](_[16],_[27]).contractor.female)+"",s;return{c(){e=k("td"),l=M(t),u=y(),i=k("td"),s=M(o),b(e,"class","_col _grand-male"),b(i,"class","_col _grand-female")},m(f,n){d(f,e,n),c(e,l),d(f,u,n),d(f,i,n),c(i,s)},p(f,n){n[0]&2052&&t!==(t=T(f[11](f[16],f[27]).contractor.male)+"")&&D(l,t),n[0]&2052&&o!==(o=T(f[11](f[16],f[27]).contractor.female)+"")&&D(s,o)},d(f){f&&m(e),f&&m(u),f&&m(i)}}}function Ll(_,e){let t,l=[],u=new Map,i,o,s=e[31].workTypes;const f=a=>`${a[34].id}_${a[27]}`;for(let a=0;a<s.length;a+=1){let p=fl(e,s,a),r=f(p);u.set(r,l[a]=jl(r,p))}let n=e[0].length-1===e[33]&&Sl(e);return{key:_,first:null,c(){t=z();for(let a=0;a<l.length;a+=1)l[a].c();i=y(),n&&n.c(),o=z(),this.first=t},m(a,p){d(a,t,p);for(let r=0;r<l.length;r+=1)l[r].m(a,p);d(a,i,p),n&&n.m(a,p),d(a,o,p)},p(a,p){e=a,p[0]&21&&(s=e[31].workTypes,l=K(l,p,f,1,e,s,u,i.parentNode,Q,jl,i,fl)),e[0].length-1===e[33]?n?n.p(e,p):(n=Sl(e),n.c(),n.m(o.parentNode,o)):n&&(n.d(1),n=null)},d(a){a&&m(t);for(let p=0;p<l.length;p+=1)l[p].d(a);a&&m(i),n&&n.d(a),a&&m(o)}}}function Fl(_,e){let t,l,u=e[17].name+"",i,o,s=[],f=new Map,n,a=e[0];const p=r=>r[31].id;for(let r=0;r<a.length;r+=1){let h=tl(e,a,r),C=p(h);f.set(C,s[r]=Ll(C,h))}return{key:_,first:null,c(){t=k("tr"),l=k("td"),i=M(u),o=y();for(let r=0;r<s.length;r+=1)s[r].c();n=y(),b(l,"class","text-left"),this.first=t},m(r,h){d(r,t,h),c(t,l),c(l,i),c(t,o);for(let C=0;C<s.length;C+=1)s[C].m(t,null);c(t,n)},p(r,h){e=r,h[0]&4&&u!==(u=e[17].name+"")&&D(i,u),h[0]&2069&&(a=e[0],s=K(s,h,p,1,e,a,f,t,Q,Ll,n,tl))},d(r){r&&m(t);for(let h=0;h<s.length;h+=1)s[h].d()}}}function li(_){let e,t,l=_[4]&&Gl();return{c(){l&&l.c(),e=y(),t=k("td"),t.textContent="0",b(t,"class","_col _kpi-total")},m(u,i){l&&l.m(u,i),d(u,e,i),d(u,t,i)},p(u,i){u[4]?l||(l=Gl(),l.c(),l.m(e.parentNode,e)):l&&(l.d(1),l=null)},d(u){l&&l.d(u),u&&m(e),u&&m(t)}}}function ti(_){let e,t,l=T(_[34].incidents[_[16]].totalManHours[_[27]].total.hours)+"",u,i,o=_[4]&&Pl(_);return{c(){o&&o.c(),e=y(),t=k("td"),u=M(l),i=y(),b(t,"class","_col _kpi-total")},m(s,f){o&&o.m(s,f),d(s,e,f),d(s,t,f),c(t,u),c(t,i)},p(s,f){s[4]?o?o.p(s,f):(o=Pl(s),o.c(),o.m(e.parentNode,e)):o&&(o.d(1),o=null),f[0]&5&&l!==(l=T(s[34].incidents[s[16]].totalManHours[s[27]].total.hours)+"")&&D(u,l)},d(s){o&&o.d(s),s&&m(e),s&&m(t)}}}function Gl(_){let e,t,l;return{c(){e=k("td"),e.textContent="0",t=y(),l=k("td"),l.textContent="0",b(e,"class","_col _kpi-total"),b(l,"class","_col _kpi-total")},m(u,i){d(u,e,i),d(u,t,i),d(u,l,i)},d(u){u&&m(e),u&&m(t),u&&m(l)}}}function Pl(_){let e,t=T(_[34].incidents[_[16]].totalManHours[_[27]].male.hours)+"",l,u,i,o=T(_[34].incidents[_[16]].totalManHours[_[27]].female.hours)+"",s;return{c(){e=k("td"),l=M(t),u=y(),i=k("td"),s=M(o),b(e,"class","_col _kpi-total"),b(i,"class","_col _kpi-total")},m(f,n){d(f,e,n),c(e,l),d(f,u,n),d(f,i,n),c(i,s)},p(f,n){n[0]&5&&t!==(t=T(f[34].incidents[f[16]].totalManHours[f[27]].male.hours)+"")&&D(l,t),n[0]&5&&o!==(o=T(f[34].incidents[f[16]].totalManHours[f[27]].female.hours)+"")&&D(s,o)},d(f){f&&m(e),f&&m(u),f&&m(i)}}}function Jl(_,e){let t,l;function u(s,f){return s[34].incidents[s[16]].totalManHours[s[27]]?ti:li}let i=u(e),o=i(e);return{key:_,first:null,c(){t=z(),o.c(),l=z(),this.first=t},m(s,f){d(s,t,f),o.m(s,f),d(s,l,f)},p(s,f){e=s,i===(i=u(e))&&o?o.p(e,f):(o.d(1),o=i(e),o&&(o.c(),o.m(l.parentNode,l)))},d(s){s&&m(t),o.d(s),s&&m(l)}}}function zl(_){let e,t,l=T(_[11](_[16],_[27],!0).staff.total)+"",u,i,o,s,f=T(_[11](_[16],_[27],!0).contractor.total)+"",n,a=_[4]&&Wl(_),p=_[4]&&Yl(_);return{c(){a&&a.c(),e=y(),t=k("td"),u=M(l),i=y(),p&&p.c(),o=y(),s=k("td"),n=M(f),b(t,"class","_col _kpi-total"),b(s,"class","_col _kpi-total")},m(r,h){a&&a.m(r,h),d(r,e,h),d(r,t,h),c(t,u),d(r,i,h),p&&p.m(r,h),d(r,o,h),d(r,s,h),c(s,n)},p(r,h){r[4]?a?a.p(r,h):(a=Wl(r),a.c(),a.m(e.parentNode,e)):a&&(a.d(1),a=null),h[0]&2052&&l!==(l=T(r[11](r[16],r[27],!0).staff.total)+"")&&D(u,l),r[4]?p?p.p(r,h):(p=Yl(r),p.c(),p.m(o.parentNode,o)):p&&(p.d(1),p=null),h[0]&2052&&f!==(f=T(r[11](r[16],r[27],!0).contractor.total)+"")&&D(n,f)},d(r){a&&a.d(r),r&&m(e),r&&m(t),r&&m(i),p&&p.d(r),r&&m(o),r&&m(s)}}}function Wl(_){let e,t=T(_[11](_[16],_[27],!0).staff.male)+"",l,u,i,o=T(_[11](_[16],_[27],!0).staff.female)+"",s;return{c(){e=k("td"),l=M(t),u=y(),i=k("td"),s=M(o),b(e,"class","_col _kpi-total"),b(i,"class","_col _kpi-total")},m(f,n){d(f,e,n),c(e,l),d(f,u,n),d(f,i,n),c(i,s)},p(f,n){n[0]&2052&&t!==(t=T(f[11](f[16],f[27],!0).staff.male)+"")&&D(l,t),n[0]&2052&&o!==(o=T(f[11](f[16],f[27],!0).staff.female)+"")&&D(s,o)},d(f){f&&m(e),f&&m(u),f&&m(i)}}}function Yl(_){let e,t=T(_[11](_[16],_[27],!0).contractor.male)+"",l,u,i,o=T(_[11](_[16],_[27],!0).contractor.female)+"",s;return{c(){e=k("td"),l=M(t),u=y(),i=k("td"),s=M(o),b(e,"class","_col _kpi-total"),b(i,"class","_col _kpi-total")},m(f,n){d(f,e,n),c(e,l),d(f,u,n),d(f,i,n),c(i,s)},p(f,n){n[0]&2052&&t!==(t=T(f[11](f[16],f[27],!0).contractor.male)+"")&&D(l,t),n[0]&2052&&o!==(o=T(f[11](f[16],f[27],!0).contractor.female)+"")&&D(s,o)},d(f){f&&m(e),f&&m(u),f&&m(i)}}}function Al(_,e){let t,l=[],u=new Map,i,o,s=e[31].workTypes;const f=a=>`${a[34].id}_${a[27]}`;for(let a=0;a<s.length;a+=1){let p=el(e,s,a),r=f(p);u.set(r,l[a]=Jl(r,p))}let n=e[0].length-1===e[33]&&zl(e);return{key:_,first:null,c(){t=z();for(let a=0;a<l.length;a+=1)l[a].c();i=y(),n&&n.c(),o=z(),this.first=t},m(a,p){d(a,t,p);for(let r=0;r<l.length;r+=1)l[r].m(a,p);d(a,i,p),n&&n.m(a,p),d(a,o,p)},p(a,p){e=a,p[0]&21&&(s=e[31].workTypes,l=K(l,p,f,1,e,s,u,i.parentNode,Q,Jl,i,el)),e[0].length-1===e[33]?n?n.p(e,p):(n=zl(e),n.c(),n.m(o.parentNode,o)):n&&(n.d(1),n=null)},d(a){a&&m(t);for(let p=0;p<l.length;p+=1)l[p].d(a);a&&m(i),n&&n.d(a),a&&m(o)}}}function Ul(_,e){let t,l,u=e[29].name+"",i,o,s=[],f=new Map,n,a=e[0];const p=r=>r[31].id;for(let r=0;r<a.length;r+=1){let h=xe(e,a,r),C=p(h);f.set(C,s[r]=Al(C,h))}return{key:_,first:null,c(){t=k("tr"),l=k("td"),i=M(u),o=y();for(let r=0;r<s.length;r+=1)s[r].c();n=y(),b(l,"class","_col _kpi-total text-left"),this.first=t},m(r,h){d(r,t,h),c(t,l),c(l,i),c(t,o);for(let C=0;C<s.length;C+=1)s[C].m(t,null);c(t,n)},p(r,h){e=r,h[0]&4&&u!==(u=e[29].name+"")&&D(i,u),h[0]&2069&&(a=e[0],s=K(s,h,p,1,e,a,f,t,Q,Al,n,xe))},d(r){r&&m(t);for(let h=0;h<s.length;h+=1)s[h].d()}}}function ql(_,e){let t,l,u,i,o=e[14].name+"",s,f,n=[],a=new Map,p,r=[],h=new Map,C,H=[],L=new Map,S,$=e[16]>0&&wl(),B=e[0];const w=v=>v[31].id;for(let v=0;v<B.length;v+=1){let I=il(e,B,v),J=w(I);a.set(J,n[v]=Dl(J,I))}let N=e[14].incidentCases;const O=v=>v[17].id;for(let v=0;v<N.length;v+=1){let I=ll(e,N,v),J=O(I);h.set(J,r[v]=Fl(J,I))}let P=e[14].totalIncidentCases;const W=v=>v[29].id;for(let v=0;v<P.length;v+=1){let I=ge(e,P,v),J=W(I);L.set(J,H[v]=Ul(J,I))}return{key:_,first:null,c(){t=z(),$&&$.c(),l=y(),u=k("tr"),i=k("td"),s=M(o),f=y();for(let v=0;v<n.length;v+=1)n[v].c();p=y();for(let v=0;v<r.length;v+=1)r[v].c();C=y();for(let v=0;v<H.length;v+=1)H[v].c();S=z(),b(i,"class","_col _indicator-total text-left"),this.first=t},m(v,I){d(v,t,I),$&&$.m(v,I),d(v,l,I),d(v,u,I),c(u,i),c(i,s),c(u,f);for(let J=0;J<n.length;J+=1)n[J].m(u,null);d(v,p,I);for(let J=0;J<r.length;J+=1)r[J].m(v,I);d(v,C,I);for(let J=0;J<H.length;J+=1)H[J].m(v,I);d(v,S,I)},p(v,I){e=v,e[16]>0?$||($=wl(),$.c(),$.m(l.parentNode,l)):$&&($.d(1),$=null),I[0]&4&&o!==(o=e[14].name+"")&&D(s,o),I[0]&5653&&(B=e[0],n=K(n,I,w,1,e,B,a,u,Q,Dl,null,il)),I[0]&2069&&(N=e[14].incidentCases,r=K(r,I,O,1,e,N,h,C.parentNode,Q,Fl,C,ll)),I[0]&2069&&(P=e[14].totalIncidentCases,H=K(H,I,W,1,e,P,L,S.parentNode,Q,Ul,S,ge))},d(v){v&&m(t),$&&$.d(v),v&&m(l),v&&m(u);for(let I=0;I<n.length;I+=1)n[I].d();v&&m(p);for(let I=0;I<r.length;I+=1)r[I].d(v);v&&m(C);for(let I=0;I<H.length;I+=1)H[I].d(v);v&&m(S)}}}function Kl(_){let e,t,l;return{c(){e=k("th"),t=M("Grand Total"),b(e,"class","_head-col _plant-total"),b(e,"colspan",l=_[4]?_[20].workTypes.length+1:1)},m(u,i){d(u,e,i),c(e,t)},p(u,i){i[0]&18&&l!==(l=u[4]?u[20].workTypes.length+1:1)&&b(e,"colspan",l)},d(u){u&&m(e)}}}function Ql(_,e){let t,l=e[20].company.name+"",u,i,o,s,f=e[0].length-1===e[27]&&Kl(e);return{key:_,first:null,c(){t=k("th"),u=M(l),o=y(),f&&f.c(),s=z(),b(t,"class","_head-col _extend"),b(t,"colspan",i=e[4]?e[20].workTypes.length+1:1),this.first=t},m(n,a){d(n,t,a),c(t,u),d(n,o,a),f&&f.m(n,a),d(n,s,a)},p(n,a){e=n,a[0]&2&&l!==(l=e[20].company.name+"")&&D(u,l),a[0]&18&&i!==(i=e[4]?e[20].workTypes.length+1:1)&&b(t,"colspan",i),e[0].length-1===e[27]?f?f.p(e,a):(f=Kl(e),f.c(),f.m(s.parentNode,s)):f&&(f.d(1),f=null)},d(n){n&&m(t),n&&m(o),f&&f.d(n),n&&m(s)}}}function Rl(_){let e,t,l;return{c(){e=k("th"),e.textContent="Staff",t=y(),l=k("th"),l.textContent="Contractor",b(e,"class","_head-col _male"),b(l,"class","_head-col _female")},m(u,i){d(u,e,i),d(u,t,i),d(u,l,i)},d(u){u&&m(e),u&&m(t),u&&m(l)}}}function Vl(_){let e,t,l=_[4]&&Xl();return{c(){l&&l.c(),e=y(),t=k("th"),t.textContent="Total",b(t,"class","_head-col _grand-total")},m(u,i){l&&l.m(u,i),d(u,e,i),d(u,t,i)},p(u,i){u[4]?l||(l=Xl(),l.c(),l.m(e.parentNode,e)):l&&(l.d(1),l=null)},d(u){l&&l.d(u),u&&m(e),u&&m(t)}}}function Xl(_){let e,t,l;return{c(){e=k("th"),e.textContent="Staff",t=y(),l=k("th"),l.textContent="Contractor",b(e,"class","_head-col _grand-male"),b(l,"class","_head-col _grand-female")},m(u,i){d(u,e,i),d(u,t,i),d(u,l,i)},d(u){u&&m(e),u&&m(t),u&&m(l)}}}function Zl(_,e){let t,l,u,i,o,s=e[4]&&Rl(),f=e[1].length-1===e[22]&&Vl(e);return{key:_,first:null,c(){t=z(),s&&s.c(),l=y(),u=k("th"),u.textContent="Total",i=y(),f&&f.c(),o=z(),b(u,"class","_head-col _total"),this.first=t},m(n,a){d(n,t,a),s&&s.m(n,a),d(n,l,a),d(n,u,a),d(n,i,a),f&&f.m(n,a),d(n,o,a)},p(n,a){e=n,e[4]?s||(s=Rl(),s.c(),s.m(l.parentNode,l)):s&&(s.d(1),s=null),e[1].length-1===e[22]?f?f.p(e,a):(f=Vl(e),f.c(),f.m(o.parentNode,o)):f&&(f.d(1),f=null)},d(n){n&&m(t),s&&s.d(n),n&&m(l),n&&m(u),n&&m(i),f&&f.d(n),n&&m(o)}}}function gl(_){let e;return{c(){e=k("tr"),e.innerHTML='<td class="_col _space"></td>'},m(t,l){d(t,e,l)},d(t){t&&m(e)}}}function xl(_){let e,t=T(_[10](_[16],_[20].workTypes[0],_[12].Total))+"",l,u,i,o=T(_[10](_[16],_[20].workTypes[1],_[12].Total))+"",s;return{c(){e=k("td"),l=M(t),u=y(),i=k("td"),s=M(o),b(e,"class","_col _indicator-total"),b(i,"class","_col _indicator-total")},m(f,n){d(f,e,n),c(e,l),d(f,u,n),d(f,i,n),c(i,s)},p(f,n){n[0]&1034&&t!==(t=T(f[10](f[16],f[20].workTypes[0],f[12].Total))+"")&&D(l,t),n[0]&1034&&o!==(o=T(f[10](f[16],f[20].workTypes[1],f[12].Total))+"")&&D(s,o)},d(f){f&&m(e),f&&m(u),f&&m(i)}}}function et(_){let e,t,l=T(_[8](_[16]).total)+"",u,i=_[4]&&lt(_);return{c(){i&&i.c(),e=y(),t=k("td"),u=M(l),b(t,"class","_col _indicator-total")},m(o,s){i&&i.m(o,s),d(o,e,s),d(o,t,s),c(t,u)},p(o,s){o[4]?i?i.p(o,s):(i=lt(o),i.c(),i.m(e.parentNode,e)):i&&(i.d(1),i=null),s[0]&264&&l!==(l=T(o[8](o[16]).total)+"")&&D(u,l)},d(o){i&&i.d(o),o&&m(e),o&&m(t)}}}function lt(_){let e,t=T(_[8](_[16]).staff)+"",l,u,i,o=T(_[8](_[16]).contractor)+"",s;return{c(){e=k("td"),l=M(t),u=y(),i=k("td"),s=M(o),b(e,"class","_col _indicator-total"),b(i,"class","_col _indicator-total")},m(f,n){d(f,e,n),c(e,l),d(f,u,n),d(f,i,n),c(i,s)},p(f,n){n[0]&264&&t!==(t=T(f[8](f[16]).staff)+"")&&D(l,t),n[0]&264&&o!==(o=T(f[8](f[16]).contractor)+"")&&D(s,o)},d(f){f&&m(e),f&&m(u),f&&m(i)}}}function tt(_,e){let t,l,u,i=T(e[10](e[16],e[20].workTypes[0],e[12].Total)+e[10](e[16],e[20].workTypes[1],e[12].Total))+"",o,s,f,n=e[4]&&xl(e),a=e[1].length-1===e[22]&&et(e);return{key:_,first:null,c(){t=z(),n&&n.c(),l=y(),u=k("td"),o=M(i),s=y(),a&&a.c(),f=z(),b(u,"class","_col _indicator-total"),this.first=t},m(p,r){d(p,t,r),n&&n.m(p,r),d(p,l,r),d(p,u,r),c(u,o),d(p,s,r),a&&a.m(p,r),d(p,f,r)},p(p,r){e=p,e[4]?n?n.p(e,r):(n=xl(e),n.c(),n.m(l.parentNode,l)):n&&(n.d(1),n=null),r[0]&1034&&i!==(i=T(e[10](e[16],e[20].workTypes[0],e[12].Total)+e[10](e[16],e[20].workTypes[1],e[12].Total))+"")&&D(o,i),e[1].length-1===e[22]?a?a.p(e,r):(a=et(e),a.c(),a.m(f.parentNode,f)):a&&(a.d(1),a=null)},d(p){p&&m(t),n&&n.d(p),p&&m(l),p&&m(u),p&&m(s),a&&a.d(p),p&&m(f)}}}function fi(_){let e,t,l=_[4]&&ft();return{c(){l&&l.c(),e=y(),t=k("td"),t.textContent="0",b(t,"class","_col _total")},m(u,i){l&&l.m(u,i),d(u,e,i),d(u,t,i)},p(u,i){u[4]?l||(l=ft(),l.c(),l.m(e.parentNode,e)):l&&(l.d(1),l=null)},d(u){l&&l.d(u),u&&m(e),u&&m(t)}}}function ii(_){let e,t,l=T(_[20].workTypes[0].incidents[_[16]].manHours[_[19]].total.hours+_[20].workTypes[1].incidents[_[16]].manHours[_[19]].total.hours)+"",u,i=_[4]&&it(_);return{c(){i&&i.c(),e=y(),t=k("td"),u=M(l),b(t,"class","_col _total")},m(o,s){i&&i.m(o,s),d(o,e,s),d(o,t,s),c(t,u)},p(o,s){o[4]?i?i.p(o,s):(i=it(o),i.c(),i.m(e.parentNode,e)):i&&(i.d(1),i=null),s[0]&10&&l!==(l=T(o[20].workTypes[0].incidents[o[16]].manHours[o[19]].total.hours+o[20].workTypes[1].incidents[o[16]].manHours[o[19]].total.hours)+"")&&D(u,l)},d(o){i&&i.d(o),o&&m(e),o&&m(t)}}}function ft(_){let e,t,l;return{c(){e=k("td"),e.textContent="0",t=y(),l=k("td"),l.textContent="0"},m(u,i){d(u,e,i),d(u,t,i),d(u,l,i)},d(u){u&&m(e),u&&m(t),u&&m(l)}}}function it(_){let e,t=T(_[20].workTypes[0].incidents[_[16]].manHours[_[19]].total.hours)+"",l,u,i,o=T(_[20].workTypes[1].incidents[_[16]].manHours[_[19]].total.hours)+"",s;return{c(){e=k("td"),l=M(t),u=y(),i=k("td"),s=M(o)},m(f,n){d(f,e,n),c(e,l),d(f,u,n),d(f,i,n),c(i,s)},p(f,n){n[0]&10&&t!==(t=T(f[20].workTypes[0].incidents[f[16]].manHours[f[19]].total.hours)+"")&&D(l,t),n[0]&10&&o!==(o=T(f[20].workTypes[1].incidents[f[16]].manHours[f[19]].total.hours)+"")&&D(s,o)},d(f){f&&m(e),f&&m(u),f&&m(i)}}}function ot(_){let e,t,l=T(_[7](_[16],_[19]).total)+"",u,i=_[4]&&st(_);return{c(){i&&i.c(),e=y(),t=k("td"),u=M(l),b(t,"class","_col _grand-total")},m(o,s){i&&i.m(o,s),d(o,e,s),d(o,t,s),c(t,u)},p(o,s){o[4]?i?i.p(o,s):(i=st(o),i.c(),i.m(e.parentNode,e)):i&&(i.d(1),i=null),s[0]&136&&l!==(l=T(o[7](o[16],o[19]).total)+"")&&D(u,l)},d(o){i&&i.d(o),o&&m(e),o&&m(t)}}}function st(_){let e,t=T(_[7](_[16],_[19]).staff)+"",l,u,i,o=T(_[7](_[16],_[19]).contractor)+"",s;return{c(){e=k("td"),l=M(t),u=y(),i=k("td"),s=M(o),b(e,"class","_col _grand-male"),b(i,"class","_col _grand-female")},m(f,n){d(f,e,n),c(e,l),d(f,u,n),d(f,i,n),c(i,s)},p(f,n){n[0]&136&&t!==(t=T(f[7](f[16],f[19]).staff)+"")&&D(l,t),n[0]&136&&o!==(o=T(f[7](f[16],f[19]).contractor)+"")&&D(s,o)},d(f){f&&m(e),f&&m(u),f&&m(i)}}}function nt(_,e){let t,l,u;function i(n,a){return n[20].workTypes[0]&&n[20].workTypes[1]?ii:fi}let o=i(e),s=o(e),f=e[1].length-1===e[22]&&ot(e);return{key:_,first:null,c(){t=z(),s.c(),l=y(),f&&f.c(),u=z(),this.first=t},m(n,a){d(n,t,a),s.m(n,a),d(n,l,a),f&&f.m(n,a),d(n,u,a)},p(n,a){e=n,o===(o=i(e))&&s?s.p(e,a):(s.d(1),s=o(e),s&&(s.c(),s.m(l.parentNode,l))),e[1].length-1===e[22]?f?f.p(e,a):(f=ot(e),f.c(),f.m(u.parentNode,u)):f&&(f.d(1),f=null)},d(n){n&&m(t),s.d(n),n&&m(l),f&&f.d(n),n&&m(u)}}}function _t(_){let e,t,l=_[17].name.replace(/(\d)\D+$/g,"$1")+"",u,i,o,s=[],f=new Map,n,a=_[1];const p=r=>`${r[20].id}_${r[19]}`;for(let r=0;r<a.length;r+=1){let h=Ke(_,a,r),C=p(h);f.set(C,s[r]=pt(C,h))}return{c(){e=k("tr"),t=k("td"),u=M(l),i=M(" Total"),o=y();for(let r=0;r<s.length;r+=1)s[r].c();n=y(),b(t,"class","_col _kpi-total text-left")},m(r,h){d(r,e,h),c(e,t),c(t,u),c(t,i),c(e,o);for(let C=0;C<s.length;C+=1)s[C].m(e,null);c(e,n)},p(r,h){h[0]&8&&l!==(l=r[17].name.replace(/(\d)\D+$/g,"$1")+"")&&D(u,l),h[0]&8314&&(a=r[1],s=K(s,h,p,1,r,a,f,e,Q,pt,n,Ke))},d(r){r&&m(e);for(let h=0;h<s.length;h+=1)s[h].d()}}}function ut(_){let e,t=_[6](_[16],_[19],_[20].workTypes,_[13].Staff)+"",l,u,i,o=_[6](_[16],_[19],_[20].workTypes,_[13].Contractor)+"",s;return{c(){e=k("td"),l=M(t),u=y(),i=k("td"),s=M(o),b(e,"class","_col _kpi-total"),b(i,"class","_col _kpi-total")},m(f,n){d(f,e,n),c(e,l),d(f,u,n),d(f,i,n),c(i,s)},p(f,n){n[0]&74&&t!==(t=f[6](f[16],f[19],f[20].workTypes,f[13].Staff)+"")&&D(l,t),n[0]&74&&o!==(o=f[6](f[16],f[19],f[20].workTypes,f[13].Contractor)+"")&&D(s,o)},d(f){f&&m(e),f&&m(u),f&&m(i)}}}function at(_){let e,t,l=_[5](_[16],_[19],_[13].Total)+"",u,i=_[4]&&rt(_);return{c(){i&&i.c(),e=y(),t=k("td"),u=M(l),b(t,"class","_col _kpi-total")},m(o,s){i&&i.m(o,s),d(o,e,s),d(o,t,s),c(t,u)},p(o,s){o[4]?i?i.p(o,s):(i=rt(o),i.c(),i.m(e.parentNode,e)):i&&(i.d(1),i=null),s[0]&40&&l!==(l=o[5](o[16],o[19],o[13].Total)+"")&&D(u,l)},d(o){i&&i.d(o),o&&m(e),o&&m(t)}}}function rt(_){let e,t=_[5](_[16],_[19],_[13].Staff)+"",l,u,i,o=_[5](_[16],_[19],_[13].Contractor)+"",s;return{c(){e=k("td"),l=M(t),u=y(),i=k("td"),s=M(o),b(e,"class","_col _kpi-total"),b(i,"class","_col _kpi-total")},m(f,n){d(f,e,n),c(e,l),d(f,u,n),d(f,i,n),c(i,s)},p(f,n){n[0]&40&&t!==(t=f[5](f[16],f[19],f[13].Staff)+"")&&D(l,t),n[0]&40&&o!==(o=f[5](f[16],f[19],f[13].Contractor)+"")&&D(s,o)},d(f){f&&m(e),f&&m(u),f&&m(i)}}}function pt(_,e){let t,l,u,i=e[6](e[16],e[19],e[20].workTypes,e[13].Total)+"",o,s,f,n=e[4]&&ut(e),a=e[1].length-1===e[22]&&at(e);return{key:_,first:null,c(){t=z(),n&&n.c(),l=y(),u=k("td"),o=M(i),s=y(),a&&a.c(),f=z(),b(u,"class","_col _kpi-total"),this.first=t},m(p,r){d(p,t,r),n&&n.m(p,r),d(p,l,r),d(p,u,r),c(u,o),d(p,s,r),a&&a.m(p,r),d(p,f,r)},p(p,r){e=p,e[4]?n?n.p(e,r):(n=ut(e),n.c(),n.m(l.parentNode,l)):n&&(n.d(1),n=null),r[0]&74&&i!==(i=e[6](e[16],e[19],e[20].workTypes,e[13].Total)+"")&&D(o,i),e[1].length-1===e[22]?a?a.p(e,r):(a=at(e),a.c(),a.m(f.parentNode,f)):a&&(a.d(1),a=null)},d(p){p&&m(t),n&&n.d(p),p&&m(l),p&&m(u),p&&m(s),a&&a.d(p),p&&m(f)}}}function dt(_,e){let t,l,u=e[17].name+"",i,o,s=[],f=new Map,n,a=e[19]%2!=0&&e[17].name.indexOf("PSE Tier")!==-1&&e[14].name.indexOf("Process Safety Event")!==-1,p,r=e[1];const h=H=>`${H[20].id}_${H[19]}`;for(let H=0;H<r.length;H+=1){let L=Qe(e,r,H),S=h(L);f.set(S,s[H]=nt(S,L))}let C=a&&_t(e);return{key:_,first:null,c(){t=k("tr"),l=k("td"),i=M(u),o=y();for(let H=0;H<s.length;H+=1)s[H].c();n=y(),C&&C.c(),p=z(),b(l,"class","text-left"),this.first=t},m(H,L){d(H,t,L),c(t,l),c(l,i),c(t,o);for(let S=0;S<s.length;S+=1)s[S].m(t,null);d(H,n,L),C&&C.m(H,L),d(H,p,L)},p(H,L){e=H,L[0]&8&&u!==(u=e[17].name+"")&&D(i,u),L[0]&154&&(r=e[1],s=K(s,L,h,1,e,r,f,t,Q,nt,null,Qe)),L[0]&8&&(a=e[19]%2!=0&&e[17].name.indexOf("PSE Tier")!==-1&&e[14].name.indexOf("Process Safety Event")!==-1),a?C?C.p(e,L):(C=_t(e),C.c(),C.m(p.parentNode,p)):C&&(C.d(1),C=null)},d(H){H&&m(t);for(let L=0;L<s.length;L+=1)s[L].d();H&&m(n),C&&C.d(H),H&&m(p)}}}function mt(_,e){let t,l,u,i,o=e[14].name+"",s,f,n=[],a=new Map,p,r=[],h=new Map,C,H=e[16]>0&&gl(),L=e[1];const S=w=>`${w[20].id}_${w[16]}`;for(let w=0;w<L.length;w+=1){let N=Re(e,L,w),O=S(N);a.set(O,n[w]=tt(O,N))}let $=e[14].incidentCases;const B=w=>w[19];for(let w=0;w<$.length;w+=1){let N=qe(e,$,w),O=B(N);h.set(O,r[w]=dt(O,N))}return{key:_,first:null,c(){t=z(),H&&H.c(),l=y(),u=k("tr"),i=k("td"),s=M(o),f=y();for(let w=0;w<n.length;w+=1)n[w].c();p=y();for(let w=0;w<r.length;w+=1)r[w].c();C=z(),b(i,"class","_col _indicator-total text-left"),this.first=t},m(w,N){d(w,t,N),H&&H.m(w,N),d(w,l,N),d(w,u,N),c(u,i),c(i,s),c(u,f);for(let O=0;O<n.length;O+=1)n[O].m(u,null);d(w,p,N);for(let O=0;O<r.length;O+=1)r[O].m(w,N);d(w,C,N)},p(w,N){e=w,e[16]>0?H||(H=gl(),H.c(),H.m(l.parentNode,l)):H&&(H.d(1),H=null),N[0]&8&&o!==(o=e[14].name+"")&&D(s,o),N[0]&5402&&(L=e[1],n=K(n,N,S,1,e,L,a,u,Q,tt,null,Re)),N[0]&8442&&($=e[14].incidentCases,r=K(r,N,B,1,e,$,h,C.parentNode,Q,dt,C,qe))},d(w){w&&m(t),H&&H.d(w),w&&m(l),w&&m(u);for(let N=0;N<n.length;N+=1)n[N].d();w&&m(p);for(let N=0;N<r.length;N+=1)r[N].d(w);w&&m(C)}}}function oi(_){let e,t,l,u,i,o,s,f,n,a,p=[],r=new Map,h,C,H=[],L=new Map,S,$,B=[],w=new Map,N,O,P=[],W=new Map,v,I,J,le,x,oe,R,V,q,g,te,Z=[],ue=new Map,pe,ie,X=[],Ce=new Map,se,ae,Y=[],ee=new Map,de=_[0];const me=E=>E[31].id;for(let E=0;E<de.length;E+=1){let F=al(_,de,E),A=me(F);r.set(A,p[E]=pl(A,F))}let fe=_[0];const ke=E=>E[31].id;for(let E=0;E<fe.length;E+=1){let F=_l(_,fe,E),A=ke(F);L.set(A,H[E]=kl(A,F))}let re=_[0];const ce=E=>E[31].id;for(let E=0;E<re.length;E+=1){let F=sl(_,re,E),A=ce(F);w.set(A,B[E]=Tl(A,F))}let be=_[2];const He=E=>E[14].id;for(let E=0;E<be.length;E+=1){let F=Ze(_,be,E),A=He(F);W.set(A,P[E]=ql(A,F))}let he=_[1];const $e=E=>E[20].id;for(let E=0;E<he.length;E+=1){let F=Xe(_,he,E),A=$e(F);ue.set(A,Z[E]=Ql(A,F))}let ye=_[1];const De=E=>E[20].id;for(let E=0;E<ye.length;E+=1){let F=Ve(_,ye,E),A=De(F);Ce.set(A,X[E]=Zl(A,F))}let ve=_[3];const Ie=E=>E[14].id;for(let E=0;E<ve.length;E+=1){let F=Ue(_,ve,E),A=Ie(F);ee.set(A,Y[E]=mt(A,F))}return{c(){e=k("div"),t=k("div"),l=k("div"),l.textContent=`${kt} Total Injury`,u=y(),i=k("div"),o=k("table"),s=k("thead"),f=k("tr"),n=k("th"),n.textContent="Incident",a=y();for(let E=0;E<p.length;E+=1)p[E].c();h=y(),C=k("tr");for(let E=0;E<H.length;E+=1)H[E].c();S=y(),$=k("tr");for(let E=0;E<B.length;E+=1)B[E].c();N=y(),O=k("tbody");for(let E=0;E<P.length;E+=1)P[E].c();v=y(),I=k("div"),J=k("div"),le=k("div"),le.textContent=`${kt} Total Incident`,x=y(),oe=k("div"),R=k("table"),V=k("thead"),q=k("tr"),g=k("th"),g.textContent="Incident",te=y();for(let E=0;E<Z.length;E+=1)Z[E].c();pe=y(),ie=k("tr");for(let E=0;E<X.length;E+=1)X[E].c();se=y(),ae=k("tbody");for(let E=0;E<Y.length;E+=1)Y[E].c();b(l,"class","_box-title push-bottom-2"),b(n,"class","_head-col _head-incident"),b(n,"rowspan",3),b(i,"class","_table-container"),b(t,"class","box"),b(le,"class","_box-title push-bottom-2 push-top-2"),b(g,"class","_head-col _head-incident"),b(g,"rowspan",2),b(oe,"class","_table-container"),b(J,"class","box push-top-2")},m(E,F){d(E,e,F),c(e,t),c(t,l),c(t,u),c(t,i),c(i,o),c(o,s),c(s,f),c(f,n),c(f,a);for(let A=0;A<p.length;A+=1)p[A].m(f,null);c(s,h),c(s,C);for(let A=0;A<H.length;A+=1)H[A].m(C,null);c(s,S),c(s,$);for(let A=0;A<B.length;A+=1)B[A].m($,null);c(o,N),c(o,O);for(let A=0;A<P.length;A+=1)P[A].m(O,null);d(E,v,F),d(E,I,F),c(I,J),c(J,le),c(J,x),c(J,oe),c(oe,R),c(R,V),c(V,q),c(q,g),c(q,te);for(let A=0;A<Z.length;A+=1)Z[A].m(q,null);c(V,pe),c(V,ie);for(let A=0;A<X.length;A+=1)X[A].m(ie,null);c(R,se),c(R,ae);for(let A=0;A<Y.length;A+=1)Y[A].m(ae,null)},p(E,F){F[0]&17&&(de=E[0],p=K(p,F,me,1,E,de,r,f,Q,pl,null,al)),F[0]&17&&(fe=E[0],H=K(H,F,ke,1,E,fe,L,C,Q,kl,null,_l)),F[0]&17&&(re=E[0],B=K(B,F,ce,1,E,re,w,$,Q,Tl,null,sl)),F[0]&7701&&(be=E[2],P=K(P,F,He,1,E,be,W,O,Q,ql,null,Ze)),F[0]&19&&(he=E[1],Z=K(Z,F,$e,1,E,he,ue,q,Q,Ql,null,Xe)),F[0]&18&&(ye=E[1],X=K(X,F,De,1,E,ye,Ce,ie,Q,Zl,null,Ve)),F[0]&13818&&(ve=E[3],Y=K(Y,F,Ie,1,E,ve,ee,ae,Q,mt,null,Ue))},i:Oe,o:Oe,d(E){E&&m(e);for(let F=0;F<p.length;F+=1)p[F].d();for(let F=0;F<H.length;F+=1)H[F].d();for(let F=0;F<B.length;F+=1)B[F].d();for(let F=0;F<P.length;F+=1)P[F].d();E&&m(v),E&&m(I);for(let F=0;F<Z.length;F+=1)Z[F].d();for(let F=0;F<X.length;F+=1)X[F].d();for(let F=0;F<Y.length;F+=1)Y[F].d()}}}let kt="TOP Group";function si(_,e,t){let l,u,i,o,s,f,n,{totalInjuries:a=[]}=e,{totalIncidents:p=[]}=e,{injuries:r=[]}=e,{incidents:h=[]}=e,{isDisplayDetail:C}=e,H=Ye,L=Ae;return _.$$set=S=>{"totalInjuries"in S&&t(0,a=S.totalInjuries),"totalIncidents"in S&&t(1,p=S.totalIncidents),"injuries"in S&&t(2,r=S.injuries),"incidents"in S&&t(3,h=S.incidents),"isDisplayDetail"in S&&t(4,C=S.isDisplayDetail)},_.$$.update=()=>{_.$$.dirty[0]&1&&t(11,l=(S,$,B=!1)=>{let w={staff:{},contractor:{}};return a.forEach(N=>{N.workTypes.forEach(O=>{let P=B?O.incidents[S].totalManHours:O.incidents[S].manHours;const W=O.type==="Staff"?"staff":"contractor";Object.entries(P[$]).forEach(v=>{var I,J;w[W][v[0]]?w[W][v[0]]+=((I=v[1])==null?void 0:I.hours)||0:w[W][v[0]]=((J=v[1])==null?void 0:J.hours)||0})})}),w}),_.$$.dirty[0]&1&&t(9,i=S=>{let $={staff:{},contractor:{}};return a.forEach(B=>{B.workTypes.forEach(w=>{w.incidents[S].manHours.forEach(N=>{const O=w.type==="Staff"?"staff":"contractor";Object.entries(N).forEach(P=>{var W,v;$[O][P[0]]?$[O][P[0]]+=((W=P[1])==null?void 0:W.hours)||0:$[O][P[0]]=((v=P[1])==null?void 0:v.hours)||0})})})}),$}),_.$$.dirty[0]&2&&t(8,o=S=>{let $=0,B=0;return p.forEach(w=>{w.workTypes[0].incidents[S].manHours.forEach(N=>{$+=N.total.hours}),w.workTypes[1].incidents[S].manHours.forEach(N=>{B+=N.total.hours})}),{staff:$,contractor:B,total:$+B}}),_.$$.dirty[0]&2&&t(7,s=(S,$)=>{let B=0,w=0;return p.forEach(N=>{B+=N.workTypes[0].incidents[S].manHours[$].total.hours,w+=N.workTypes[1].incidents[S].manHours[$].total.hours}),{staff:B,contractor:w,total:B+w}}),_.$$.dirty[0]&2&&t(5,n=(S,$,B)=>{let w=p.map(N=>N.workTypes.map((O,P)=>B===L.Staff&&P===0||B===L.Contractor&&P===1||B===L.Total?O.incidents[S].manHours.slice($-1,$+1).map(W=>(W==null?void 0:W.total.hours)||0).reduce((W,v)=>W+v,0):0).reduce((O,P)=>O+P,0)).reduce((N,O)=>N+O,0);return w?T(w):0})},t(10,u=(S,$,B)=>$.incidents[S].manHours.map(w=>w==null?void 0:w[B].hours).reduce((w,N)=>w+N,0)),t(6,f=(S,$,B,w)=>{let N=B.map((O,P)=>w===L.Staff&&P===0||w===L.Contractor&&P===1||w===L.Total?O.incidents[S].manHours.slice($-1,$+1).map(W=>(W==null?void 0:W.total.hours)||0).reduce((W,v)=>W+v,0):0).reduce((O,P)=>O+P,0);return N?T(N):0}),[a,p,r,h,C,n,f,s,o,i,u,l,H,L]}class ni extends Le{constructor(e){super();Fe(this,e,si,oi,Ge,{totalInjuries:0,totalIncidents:1,injuries:2,incidents:3,isDisplayDetail:4},null,[-1,-1])}}function ct(_,e,t){const l=_.slice();return l[15]=e[t],l[17]=t,l}function bt(_,e,t){const l=_.slice();return l[18]=e[t],l[20]=t,l}function ht(_,e,t){const l=_.slice();return l[21]=e[t],l[23]=t,l}function yt(_,e,t){const l=_.slice();return l[21]=e[t],l[23]=t,l}function vt(_,e,t){const l=_.slice();return l[21]=e[t],l[23]=t,l}function Tt(_,e,t){const l=_.slice();return l[21]=e[t],l[23]=t,l}function wt(_,e,t){const l=_.slice();return l[21]=e[t],l[28]=t,l}function Nt(_,e,t){const l=_.slice();return l[15]=e[t],l[17]=t,l}function Ct(_,e,t){const l=_.slice();return l[30]=e[t],l[28]=t,l}function Mt(_,e,t){const l=_.slice();return l[32]=e[t],l[34]=t,l}function Ht(_,e,t){const l=_.slice();return l[35]=e[t],l[37]=t,l}function $t(_,e,t){const l=_.slice();return l[18]=e[t],l[28]=t,l}function Dt(_,e,t){const l=_.slice();return l[32]=e[t],l[34]=t,l}function It(_,e,t){const l=_.slice();return l[35]=e[t],l[37]=t,l}function Et(_,e,t){const l=_.slice();return l[32]=e[t],l[28]=t,l}function jt(_,e,t){const l=_.slice();return l[35]=e[t],l[37]=t,l}function St(_,e,t){const l=_.slice();return l[32]=e[t],l[34]=t,l}function Ot(_,e,t){const l=_.slice();return l[35]=e[t],l[28]=t,l}function Bt(_,e,t){const l=_.slice();return l[32]=e[t],l[34]=t,l}function Lt(_,e,t){const l=_.slice();return l[35]=e[t],l[28]=t,l}function Ft(_,e,t){const l=_.slice();return l[32]=e[t],l[34]=t,l}function Gt(_){let e,t,l;return{c(){e=k("th"),t=M("Grand Total"),b(e,"class","_head-col _plant-total"),b(e,"colspan",l=_[5]?(_[32].workTypes.length+1)*2:_[32].workTypes.length)},m(u,i){d(u,e,i),c(e,t)},p(u,i){i[0]&33&&l!==(l=u[5]?(u[32].workTypes.length+1)*2:u[32].workTypes.length)&&b(e,"colspan",l)},d(u){u&&m(e)}}}function Pt(_,e){let t,l=e[32].month+"",u,i,o,s,f=e[0].length-1===e[34]&&Gt(e);return{key:_,first:null,c(){t=k("th"),u=M(l),o=y(),f&&f.c(),s=z(),b(t,"class","_head-col _extend"),b(t,"colspan",i=e[5]?(e[32].workTypes.length+1)*2:e[32].workTypes.length),this.first=t},m(n,a){d(n,t,a),c(t,u),d(n,o,a),f&&f.m(n,a),d(n,s,a)},p(n,a){e=n,a[0]&1&&l!==(l=e[32].month+"")&&D(u,l),a[0]&33&&i!==(i=e[5]?(e[32].workTypes.length+1)*2:e[32].workTypes.length)&&b(t,"colspan",i),e[0].length-1===e[34]?f?f.p(e,a):(f=Gt(e),f.c(),f.m(s.parentNode,s)):f&&(f.d(1),f=null)},d(n){n&&m(t),n&&m(o),f&&f.d(n),n&&m(s)}}}function Jt(_,e){let t,l=e[35].type+"",u,i,o;return{key:_,first:null,c(){t=k("th"),u=M(l),b(t,"class",i="_head-col "+(e[28]===0?"_top":"_tes")),b(t,"colspan",o=e[5]?3:1),this.first=t},m(s,f){d(s,t,f),c(t,u)},p(s,f){e=s,f[0]&1&&l!==(l=e[35].type+"")&&D(u,l),f[0]&1&&i!==(i="_head-col "+(e[28]===0?"_top":"_tes"))&&b(t,"class",i),f[0]&32&&o!==(o=e[5]?3:1)&&b(t,"colspan",o)},d(s){s&&m(t)}}}function zt(_){let e,t,l,u,i,o,s;return{c(){e=k("th"),t=M("Staff"),u=y(),i=k("th"),o=M("Contractor"),b(e,"class","_head-col _top"),b(e,"colspan",l=_[5]?3:1),b(i,"class","_head-col _tes"),b(i,"colspan",s=_[5]?3:1)},m(f,n){d(f,e,n),c(e,t),d(f,u,n),d(f,i,n),c(i,o)},p(f,n){n[0]&32&&l!==(l=f[5]?3:1)&&b(e,"colspan",l),n[0]&32&&s!==(s=f[5]?3:1)&&b(i,"colspan",s)},d(f){f&&m(e),f&&m(u),f&&m(i)}}}function Wt(_,e){let t,l=[],u=new Map,i,o,s=e[32].workTypes;const f=a=>a[35].id;for(let a=0;a<s.length;a+=1){let p=Lt(e,s,a),r=f(p);u.set(r,l[a]=Jt(r,p))}let n=e[0].length-1===e[34]&&zt(e);return{key:_,first:null,c(){t=z();for(let a=0;a<l.length;a+=1)l[a].c();i=y(),n&&n.c(),o=z(),this.first=t},m(a,p){d(a,t,p);for(let r=0;r<l.length;r+=1)l[r].m(a,p);d(a,i,p),n&&n.m(a,p),d(a,o,p)},p(a,p){e=a,p[0]&33&&(s=e[32].workTypes,l=K(l,p,f,1,e,s,u,i.parentNode,Q,Jt,i,Lt)),e[0].length-1===e[34]?n?n.p(e,p):(n=zt(e),n.c(),n.m(o.parentNode,o)):n&&(n.d(1),n=null)},d(a){a&&m(t);for(let p=0;p<l.length;p+=1)l[p].d(a);a&&m(i),n&&n.d(a),a&&m(o)}}}function Yt(_){let e,t,l;return{c(){e=k("th"),e.textContent="Male",t=y(),l=k("th"),l.textContent="Female",b(e,"class","_head-col _male"),b(l,"class","_head-col _female")},m(u,i){d(u,e,i),d(u,t,i),d(u,l,i)},d(u){u&&m(e),u&&m(t),u&&m(l)}}}function At(_,e){let t,l,u,i=e[5]&&Yt();return{key:_,first:null,c(){t=z(),i&&i.c(),l=y(),u=k("th"),u.textContent="Total",b(u,"class","_head-col _total"),this.first=t},m(o,s){d(o,t,s),i&&i.m(o,s),d(o,l,s),d(o,u,s)},p(o,s){e=o,e[5]?i||(i=Yt(),i.c(),i.m(l.parentNode,l)):i&&(i.d(1),i=null)},d(o){o&&m(t),i&&i.d(o),o&&m(l),o&&m(u)}}}function Ut(_){let e,t,l,u,i,o=_[5]&&qt(),s=_[5]&&Kt();return{c(){o&&o.c(),e=y(),t=k("th"),t.textContent="Total",l=y(),s&&s.c(),u=y(),i=k("th"),i.textContent="Total",b(t,"class","_head-col _grand-total"),b(i,"class","_head-col _grand-total")},m(f,n){o&&o.m(f,n),d(f,e,n),d(f,t,n),d(f,l,n),s&&s.m(f,n),d(f,u,n),d(f,i,n)},p(f,n){f[5]?o||(o=qt(),o.c(),o.m(e.parentNode,e)):o&&(o.d(1),o=null),f[5]?s||(s=Kt(),s.c(),s.m(u.parentNode,u)):s&&(s.d(1),s=null)},d(f){o&&o.d(f),f&&m(e),f&&m(t),f&&m(l),s&&s.d(f),f&&m(u),f&&m(i)}}}function qt(_){let e,t,l;return{c(){e=k("th"),e.textContent="Male",t=y(),l=k("th"),l.textContent="Female",b(e,"class","_head-col _grand-male"),b(l,"class","_head-col _grand-female")},m(u,i){d(u,e,i),d(u,t,i),d(u,l,i)},d(u){u&&m(e),u&&m(t),u&&m(l)}}}function Kt(_){let e,t,l;return{c(){e=k("th"),e.textContent="Male",t=y(),l=k("th"),l.textContent="Female",b(e,"class","_head-col _grand-male"),b(l,"class","_head-col _grand-female")},m(u,i){d(u,e,i),d(u,t,i),d(u,l,i)},d(u){u&&m(e),u&&m(t),u&&m(l)}}}function Qt(_,e){let t,l=[],u=new Map,i,o,s=e[32].workTypes;const f=a=>a[35].id;for(let a=0;a<s.length;a+=1){let p=Ot(e,s,a),r=f(p);u.set(r,l[a]=At(r,p))}let n=e[0].length-1===e[34]&&Ut(e);return{key:_,first:null,c(){t=z();for(let a=0;a<l.length;a+=1)l[a].c();i=y(),n&&n.c(),o=z(),this.first=t},m(a,p){d(a,t,p);for(let r=0;r<l.length;r+=1)l[r].m(a,p);d(a,i,p),n&&n.m(a,p),d(a,o,p)},p(a,p){e=a,p[0]&33&&(s=e[32].workTypes,l=K(l,p,f,1,e,s,u,i.parentNode,Q,At,i,Ot)),e[0].length-1===e[34]?n?n.p(e,p):(n=Ut(e),n.c(),n.m(o.parentNode,o)):n&&(n.d(1),n=null)},d(a){a&&m(t);for(let p=0;p<l.length;p+=1)l[p].d(a);a&&m(i),n&&n.d(a),a&&m(o)}}}function Rt(_){let e;return{c(){e=k("tr"),e.innerHTML='<td class="_col _space"></td>'},m(t,l){d(t,e,l)},d(t){t&&m(e)}}}function Vt(_){let e,t=T(_[11](_[17],_[35],_[13].Male))+"",l,u,i,o=T(_[11](_[17],_[35],_[13].Female))+"",s;return{c(){e=k("td"),l=M(t),u=y(),i=k("td"),s=M(o),b(e,"class","_col _indicator-total"),b(i,"class","_col _indicator-total")},m(f,n){d(f,e,n),c(e,l),d(f,u,n),d(f,i,n),c(i,s)},p(f,n){n[0]&2053&&t!==(t=T(f[11](f[17],f[35],f[13].Male))+"")&&D(l,t),n[0]&2053&&o!==(o=T(f[11](f[17],f[35],f[13].Female))+"")&&D(s,o)},d(f){f&&m(e),f&&m(u),f&&m(i)}}}function Xt(_,e){let t,l,u,i=T(e[11](e[17],e[35],e[13].Total))+"",o,s=e[5]&&Vt(e);return{key:_,first:null,c(){t=z(),s&&s.c(),l=y(),u=k("td"),o=M(i),b(u,"class","_col _indicator-total"),this.first=t},m(f,n){d(f,t,n),s&&s.m(f,n),d(f,l,n),d(f,u,n),c(u,o)},p(f,n){e=f,e[5]?s?s.p(e,n):(s=Vt(e),s.c(),s.m(l.parentNode,l)):s&&(s.d(1),s=null),n[0]&2053&&i!==(i=T(e[11](e[17],e[35],e[13].Total))+"")&&D(o,i)},d(f){f&&m(t),s&&s.d(f),f&&m(l),f&&m(u)}}}function Zt(_){let e,t,l=T(_[10](_[17]).staff.total)+"",u,i,o,s,f=T(_[10](_[17]).contractor.total)+"",n,a=_[5]&&gt(_),p=_[5]&&xt(_);return{c(){a&&a.c(),e=y(),t=k("td"),u=M(l),i=y(),p&&p.c(),o=y(),s=k("td"),n=M(f),b(t,"class","_col _indicator-total"),b(s,"class","_col _indicator-total")},m(r,h){a&&a.m(r,h),d(r,e,h),d(r,t,h),c(t,u),d(r,i,h),p&&p.m(r,h),d(r,o,h),d(r,s,h),c(s,n)},p(r,h){r[5]?a?a.p(r,h):(a=gt(r),a.c(),a.m(e.parentNode,e)):a&&(a.d(1),a=null),h[0]&1028&&l!==(l=T(r[10](r[17]).staff.total)+"")&&D(u,l),r[5]?p?p.p(r,h):(p=xt(r),p.c(),p.m(o.parentNode,o)):p&&(p.d(1),p=null),h[0]&1028&&f!==(f=T(r[10](r[17]).contractor.total)+"")&&D(n,f)},d(r){a&&a.d(r),r&&m(e),r&&m(t),r&&m(i),p&&p.d(r),r&&m(o),r&&m(s)}}}function gt(_){let e,t=T(_[10](_[17]).staff.male)+"",l,u,i,o=T(_[10](_[17]).staff.female)+"",s;return{c(){e=k("td"),l=M(t),u=y(),i=k("td"),s=M(o),b(e,"class","_col _indicator-total"),b(i,"class","_col _indicator-total")},m(f,n){d(f,e,n),c(e,l),d(f,u,n),d(f,i,n),c(i,s)},p(f,n){n[0]&1028&&t!==(t=T(f[10](f[17]).staff.male)+"")&&D(l,t),n[0]&1028&&o!==(o=T(f[10](f[17]).staff.female)+"")&&D(s,o)},d(f){f&&m(e),f&&m(u),f&&m(i)}}}function xt(_){let e,t=T(_[10](_[17]).contractor.male)+"",l,u,i,o=T(_[10](_[17]).contractor.female)+"",s;return{c(){e=k("td"),l=M(t),u=y(),i=k("td"),s=M(o),b(e,"class","_col _indicator-total"),b(i,"class","_col _indicator-total")},m(f,n){d(f,e,n),c(e,l),d(f,u,n),d(f,i,n),c(i,s)},p(f,n){n[0]&1028&&t!==(t=T(f[10](f[17]).contractor.male)+"")&&D(l,t),n[0]&1028&&o!==(o=T(f[10](f[17]).contractor.female)+"")&&D(s,o)},d(f){f&&m(e),f&&m(u),f&&m(i)}}}function ef(_,e){let t,l=[],u=new Map,i,o,s=e[32].workTypes;const f=a=>`${a[35].id}_${a[28]}`;for(let a=0;a<s.length;a+=1){let p=jt(e,s,a),r=f(p);u.set(r,l[a]=Xt(r,p))}let n=e[0].length-1===e[28]&&Zt(e);return{key:_,first:null,c(){t=z();for(let a=0;a<l.length;a+=1)l[a].c();i=y(),n&&n.c(),o=z(),this.first=t},m(a,p){d(a,t,p);for(let r=0;r<l.length;r+=1)l[r].m(a,p);d(a,i,p),n&&n.m(a,p),d(a,o,p)},p(a,p){e=a,p[0]&10277&&(s=e[32].workTypes,l=K(l,p,f,1,e,s,u,i.parentNode,Q,Xt,i,jt)),e[0].length-1===e[28]?n?n.p(e,p):(n=Zt(e),n.c(),n.m(o.parentNode,o)):n&&(n.d(1),n=null)},d(a){a&&m(t);for(let p=0;p<l.length;p+=1)l[p].d(a);a&&m(i),n&&n.d(a),a&&m(o)}}}function _i(_){let e,t,l=_[5]&&lf();return{c(){l&&l.c(),e=y(),t=k("td"),t.textContent="0",b(t,"class","_col _total")},m(u,i){l&&l.m(u,i),d(u,e,i),d(u,t,i)},p(u,i){u[5]?l||(l=lf(),l.c(),l.m(e.parentNode,e)):l&&(l.d(1),l=null)},d(u){l&&l.d(u),u&&m(e),u&&m(t)}}}function ui(_){let e,t,l=T(_[35].incidents[_[17]].manHours[_[28]].total.hours)+"",u,i,o=_[5]&&tf(_);return{c(){o&&o.c(),e=y(),t=k("td"),u=M(l),i=y(),b(t,"class","_col _total")},m(s,f){o&&o.m(s,f),d(s,e,f),d(s,t,f),c(t,u),c(t,i)},p(s,f){s[5]?o?o.p(s,f):(o=tf(s),o.c(),o.m(e.parentNode,e)):o&&(o.d(1),o=null),f[0]&5&&l!==(l=T(s[35].incidents[s[17]].manHours[s[28]].total.hours)+"")&&D(u,l)},d(s){o&&o.d(s),s&&m(e),s&&m(t)}}}function lf(_){let e,t,l;return{c(){e=k("td"),e.textContent="0",t=y(),l=k("td"),l.textContent="0"},m(u,i){d(u,e,i),d(u,t,i),d(u,l,i)},d(u){u&&m(e),u&&m(t),u&&m(l)}}}function tf(_){let e,t=T(_[35].incidents[_[17]].manHours[_[28]].male.hours)+"",l,u,i,o=T(_[35].incidents[_[17]].manHours[_[28]].female.hours)+"",s;return{c(){e=k("td"),l=M(t),u=y(),i=k("td"),s=M(o)},m(f,n){d(f,e,n),c(e,l),d(f,u,n),d(f,i,n),c(i,s)},p(f,n){n[0]&5&&t!==(t=T(f[35].incidents[f[17]].manHours[f[28]].male.hours)+"")&&D(l,t),n[0]&5&&o!==(o=T(f[35].incidents[f[17]].manHours[f[28]].female.hours)+"")&&D(s,o)},d(f){f&&m(e),f&&m(u),f&&m(i)}}}function ff(_,e){let t,l;function u(s,f){return s[35].incidents[s[17]].manHours[s[28]]?ui:_i}let i=u(e),o=i(e);return{key:_,first:null,c(){t=z(),o.c(),l=z(),this.first=t},m(s,f){d(s,t,f),o.m(s,f),d(s,l,f)},p(s,f){e=s,i===(i=u(e))&&o?o.p(e,f):(o.d(1),o=i(e),o&&(o.c(),o.m(l.parentNode,l)))},d(s){s&&m(t),o.d(s),s&&m(l)}}}function of(_){let e,t,l=T(_[12](_[17],_[28]).staff.total)+"",u,i,o,s,f=T(_[12](_[17],_[28]).contractor.total)+"",n,a=_[5]&&sf(_),p=_[5]&&nf(_);return{c(){a&&a.c(),e=y(),t=k("td"),u=M(l),i=y(),p&&p.c(),o=y(),s=k("td"),n=M(f),b(t,"class","_col _grand-total"),b(s,"class","_col _grand-total")},m(r,h){a&&a.m(r,h),d(r,e,h),d(r,t,h),c(t,u),d(r,i,h),p&&p.m(r,h),d(r,o,h),d(r,s,h),c(s,n)},p(r,h){r[5]?a?a.p(r,h):(a=sf(r),a.c(),a.m(e.parentNode,e)):a&&(a.d(1),a=null),h[0]&4100&&l!==(l=T(r[12](r[17],r[28]).staff.total)+"")&&D(u,l),r[5]?p?p.p(r,h):(p=nf(r),p.c(),p.m(o.parentNode,o)):p&&(p.d(1),p=null),h[0]&4100&&f!==(f=T(r[12](r[17],r[28]).contractor.total)+"")&&D(n,f)},d(r){a&&a.d(r),r&&m(e),r&&m(t),r&&m(i),p&&p.d(r),r&&m(o),r&&m(s)}}}function sf(_){let e,t=T(_[12](_[17],_[28]).staff.male)+"",l,u,i,o=T(_[12](_[17],_[28]).staff.female)+"",s;return{c(){e=k("td"),l=M(t),u=y(),i=k("td"),s=M(o),b(e,"class","_col _grand-male"),b(i,"class","_col _grand-female")},m(f,n){d(f,e,n),c(e,l),d(f,u,n),d(f,i,n),c(i,s)},p(f,n){n[0]&4100&&t!==(t=T(f[12](f[17],f[28]).staff.male)+"")&&D(l,t),n[0]&4100&&o!==(o=T(f[12](f[17],f[28]).staff.female)+"")&&D(s,o)},d(f){f&&m(e),f&&m(u),f&&m(i)}}}function nf(_){let e,t=T(_[12](_[17],_[28]).contractor.male)+"",l,u,i,o=T(_[12](_[17],_[28]).contractor.female)+"",s;return{c(){e=k("td"),l=M(t),u=y(),i=k("td"),s=M(o),b(e,"class","_col _grand-male"),b(i,"class","_col _grand-female")},m(f,n){d(f,e,n),c(e,l),d(f,u,n),d(f,i,n),c(i,s)},p(f,n){n[0]&4100&&t!==(t=T(f[12](f[17],f[28]).contractor.male)+"")&&D(l,t),n[0]&4100&&o!==(o=T(f[12](f[17],f[28]).contractor.female)+"")&&D(s,o)},d(f){f&&m(e),f&&m(u),f&&m(i)}}}function _f(_,e){let t,l=[],u=new Map,i,o,s=e[32].workTypes;const f=a=>`${a[35].id}_${a[28]}`;for(let a=0;a<s.length;a+=1){let p=It(e,s,a),r=f(p);u.set(r,l[a]=ff(r,p))}let n=e[0].length-1===e[34]&&of(e);return{key:_,first:null,c(){t=z();for(let a=0;a<l.length;a+=1)l[a].c();i=y(),n&&n.c(),o=z(),this.first=t},m(a,p){d(a,t,p);for(let r=0;r<l.length;r+=1)l[r].m(a,p);d(a,i,p),n&&n.m(a,p),d(a,o,p)},p(a,p){e=a,p[0]&37&&(s=e[32].workTypes,l=K(l,p,f,1,e,s,u,i.parentNode,Q,ff,i,It)),e[0].length-1===e[34]?n?n.p(e,p):(n=of(e),n.c(),n.m(o.parentNode,o)):n&&(n.d(1),n=null)},d(a){a&&m(t);for(let p=0;p<l.length;p+=1)l[p].d(a);a&&m(i),n&&n.d(a),a&&m(o)}}}function uf(_,e){let t,l,u=e[18].name+"",i,o,s=[],f=new Map,n,a=e[0];const p=r=>r[32].id;for(let r=0;r<a.length;r+=1){let h=Dt(e,a,r),C=p(h);f.set(C,s[r]=_f(C,h))}return{key:_,first:null,c(){t=k("tr"),l=k("td"),i=M(u),o=y();for(let r=0;r<s.length;r+=1)s[r].c();n=y(),b(l,"class","text-left"),this.first=t},m(r,h){d(r,t,h),c(t,l),c(l,i),c(t,o);for(let C=0;C<s.length;C+=1)s[C].m(t,null);c(t,n)},p(r,h){e=r,h[0]&4&&u!==(u=e[18].name+"")&&D(i,u),h[0]&4133&&(a=e[0],s=K(s,h,p,1,e,a,f,t,Q,_f,n,Dt))},d(r){r&&m(t);for(let h=0;h<s.length;h+=1)s[h].d()}}}function ai(_){let e,t,l=_[5]&&af();return{c(){l&&l.c(),e=y(),t=k("td"),t.textContent="0",b(t,"class","_col _kpi-total")},m(u,i){l&&l.m(u,i),d(u,e,i),d(u,t,i)},p(u,i){u[5]?l||(l=af(),l.c(),l.m(e.parentNode,e)):l&&(l.d(1),l=null)},d(u){l&&l.d(u),u&&m(e),u&&m(t)}}}function ri(_){let e,t,l=T(_[35].incidents[_[17]].totalManHours[_[28]].total.hours)+"",u,i,o=_[5]&&rf(_);return{c(){o&&o.c(),e=y(),t=k("td"),u=M(l),i=y(),b(t,"class","_col _kpi-total")},m(s,f){o&&o.m(s,f),d(s,e,f),d(s,t,f),c(t,u),c(t,i)},p(s,f){s[5]?o?o.p(s,f):(o=rf(s),o.c(),o.m(e.parentNode,e)):o&&(o.d(1),o=null),f[0]&5&&l!==(l=T(s[35].incidents[s[17]].totalManHours[s[28]].total.hours)+"")&&D(u,l)},d(s){o&&o.d(s),s&&m(e),s&&m(t)}}}function af(_){let e,t,l;return{c(){e=k("td"),e.textContent="0",t=y(),l=k("td"),l.textContent="0",b(e,"class","_col _kpi-total"),b(l,"class","_col _kpi-total")},m(u,i){d(u,e,i),d(u,t,i),d(u,l,i)},d(u){u&&m(e),u&&m(t),u&&m(l)}}}function rf(_){let e,t=T(_[35].incidents[_[17]].totalManHours[_[28]].male.hours)+"",l,u,i,o=T(_[35].incidents[_[17]].totalManHours[_[28]].female.hours)+"",s;return{c(){e=k("td"),l=M(t),u=y(),i=k("td"),s=M(o),b(e,"class","_col _kpi-total"),b(i,"class","_col _kpi-total")},m(f,n){d(f,e,n),c(e,l),d(f,u,n),d(f,i,n),c(i,s)},p(f,n){n[0]&5&&t!==(t=T(f[35].incidents[f[17]].totalManHours[f[28]].male.hours)+"")&&D(l,t),n[0]&5&&o!==(o=T(f[35].incidents[f[17]].totalManHours[f[28]].female.hours)+"")&&D(s,o)},d(f){f&&m(e),f&&m(u),f&&m(i)}}}function pf(_,e){let t,l;function u(s,f){return s[35].incidents[s[17]].totalManHours[s[28]]?ri:ai}let i=u(e),o=i(e);return{key:_,first:null,c(){t=z(),o.c(),l=z(),this.first=t},m(s,f){d(s,t,f),o.m(s,f),d(s,l,f)},p(s,f){e=s,i===(i=u(e))&&o?o.p(e,f):(o.d(1),o=i(e),o&&(o.c(),o.m(l.parentNode,l)))},d(s){s&&m(t),o.d(s),s&&m(l)}}}function df(_){let e,t,l=T(_[12](_[17],_[28],!0).staff.total)+"",u,i,o,s,f=T(_[12](_[17],_[28],!0).contractor.total)+"",n,a=_[5]&&mf(_),p=_[5]&&kf(_);return{c(){a&&a.c(),e=y(),t=k("td"),u=M(l),i=y(),p&&p.c(),o=y(),s=k("td"),n=M(f),b(t,"class","_col _kpi-total"),b(s,"class","_col _kpi-total")},m(r,h){a&&a.m(r,h),d(r,e,h),d(r,t,h),c(t,u),d(r,i,h),p&&p.m(r,h),d(r,o,h),d(r,s,h),c(s,n)},p(r,h){r[5]?a?a.p(r,h):(a=mf(r),a.c(),a.m(e.parentNode,e)):a&&(a.d(1),a=null),h[0]&4100&&l!==(l=T(r[12](r[17],r[28],!0).staff.total)+"")&&D(u,l),r[5]?p?p.p(r,h):(p=kf(r),p.c(),p.m(o.parentNode,o)):p&&(p.d(1),p=null),h[0]&4100&&f!==(f=T(r[12](r[17],r[28],!0).contractor.total)+"")&&D(n,f)},d(r){a&&a.d(r),r&&m(e),r&&m(t),r&&m(i),p&&p.d(r),r&&m(o),r&&m(s)}}}function mf(_){let e,t=T(_[12](_[17],_[28],!0).staff.male)+"",l,u,i,o=T(_[12](_[17],_[28],!0).staff.female)+"",s;return{c(){e=k("td"),l=M(t),u=y(),i=k("td"),s=M(o),b(e,"class","_col _kpi-total"),b(i,"class","_col _kpi-total")},m(f,n){d(f,e,n),c(e,l),d(f,u,n),d(f,i,n),c(i,s)},p(f,n){n[0]&4100&&t!==(t=T(f[12](f[17],f[28],!0).staff.male)+"")&&D(l,t),n[0]&4100&&o!==(o=T(f[12](f[17],f[28],!0).staff.female)+"")&&D(s,o)},d(f){f&&m(e),f&&m(u),f&&m(i)}}}function kf(_){let e,t=T(_[12](_[17],_[28],!0).contractor.male)+"",l,u,i,o=T(_[12](_[17],_[28],!0).contractor.female)+"",s;return{c(){e=k("td"),l=M(t),u=y(),i=k("td"),s=M(o),b(e,"class","_col _kpi-total"),b(i,"class","_col _kpi-total")},m(f,n){d(f,e,n),c(e,l),d(f,u,n),d(f,i,n),c(i,s)},p(f,n){n[0]&4100&&t!==(t=T(f[12](f[17],f[28],!0).contractor.male)+"")&&D(l,t),n[0]&4100&&o!==(o=T(f[12](f[17],f[28],!0).contractor.female)+"")&&D(s,o)},d(f){f&&m(e),f&&m(u),f&&m(i)}}}function cf(_,e){let t,l=[],u=new Map,i,o,s=e[32].workTypes;const f=a=>`${a[35].id}_${a[28]}`;for(let a=0;a<s.length;a+=1){let p=Ht(e,s,a),r=f(p);u.set(r,l[a]=pf(r,p))}let n=e[0].length-1===e[34]&&df(e);return{key:_,first:null,c(){t=z();for(let a=0;a<l.length;a+=1)l[a].c();i=y(),n&&n.c(),o=z(),this.first=t},m(a,p){d(a,t,p);for(let r=0;r<l.length;r+=1)l[r].m(a,p);d(a,i,p),n&&n.m(a,p),d(a,o,p)},p(a,p){e=a,p[0]&37&&(s=e[32].workTypes,l=K(l,p,f,1,e,s,u,i.parentNode,Q,pf,i,Ht)),e[0].length-1===e[34]?n?n.p(e,p):(n=df(e),n.c(),n.m(o.parentNode,o)):n&&(n.d(1),n=null)},d(a){a&&m(t);for(let p=0;p<l.length;p+=1)l[p].d(a);a&&m(i),n&&n.d(a),a&&m(o)}}}function bf(_,e){let t,l,u=e[30].name+"",i,o,s=[],f=new Map,n,a=e[0];const p=r=>r[32].id;for(let r=0;r<a.length;r+=1){let h=Mt(e,a,r),C=p(h);f.set(C,s[r]=cf(C,h))}return{key:_,first:null,c(){t=k("tr"),l=k("td"),i=M(u),o=y();for(let r=0;r<s.length;r+=1)s[r].c();n=y(),b(l,"class","_col _kpi-total text-left"),this.first=t},m(r,h){d(r,t,h),c(t,l),c(l,i),c(t,o);for(let C=0;C<s.length;C+=1)s[C].m(t,null);c(t,n)},p(r,h){e=r,h[0]&4&&u!==(u=e[30].name+"")&&D(i,u),h[0]&4133&&(a=e[0],s=K(s,h,p,1,e,a,f,t,Q,cf,n,Mt))},d(r){r&&m(t);for(let h=0;h<s.length;h+=1)s[h].d()}}}function hf(_,e){let t,l,u,i,o=e[15].name+"",s,f,n=[],a=new Map,p,r=[],h=new Map,C,H=[],L=new Map,S,$=e[17]>0&&Rt(),B=e[0];const w=v=>v[32].id;for(let v=0;v<B.length;v+=1){let I=Et(e,B,v),J=w(I);a.set(J,n[v]=ef(J,I))}let N=e[15].incidentCases;const O=v=>v[18].id;for(let v=0;v<N.length;v+=1){let I=$t(e,N,v),J=O(I);h.set(J,r[v]=uf(J,I))}let P=e[15].totalIncidentCases;const W=v=>v[30].id;for(let v=0;v<P.length;v+=1){let I=Ct(e,P,v),J=W(I);L.set(J,H[v]=bf(J,I))}return{key:_,first:null,c(){t=z(),$&&$.c(),l=y(),u=k("tr"),i=k("td"),s=M(o),f=y();for(let v=0;v<n.length;v+=1)n[v].c();p=y();for(let v=0;v<r.length;v+=1)r[v].c();C=y();for(let v=0;v<H.length;v+=1)H[v].c();S=z(),b(i,"class","_col _indicator-total text-left"),this.first=t},m(v,I){d(v,t,I),$&&$.m(v,I),d(v,l,I),d(v,u,I),c(u,i),c(i,s),c(u,f);for(let J=0;J<n.length;J+=1)n[J].m(u,null);d(v,p,I);for(let J=0;J<r.length;J+=1)r[J].m(v,I);d(v,C,I);for(let J=0;J<H.length;J+=1)H[J].m(v,I);d(v,S,I)},p(v,I){e=v,e[17]>0?$||($=Rt(),$.c(),$.m(l.parentNode,l)):$&&($.d(1),$=null),I[0]&4&&o!==(o=e[15].name+"")&&D(s,o),I[0]&11301&&(B=e[0],n=K(n,I,w,1,e,B,a,u,Q,ef,null,Et)),I[0]&4133&&(N=e[15].incidentCases,r=K(r,I,O,1,e,N,h,C.parentNode,Q,uf,C,$t)),I[0]&4133&&(P=e[15].totalIncidentCases,H=K(H,I,W,1,e,P,L,S.parentNode,Q,bf,S,Ct))},d(v){v&&m(t),$&&$.d(v),v&&m(l),v&&m(u);for(let I=0;I<n.length;I+=1)n[I].d();v&&m(p);for(let I=0;I<r.length;I+=1)r[I].d(v);v&&m(C);for(let I=0;I<H.length;I+=1)H[I].d(v);v&&m(S)}}}function yf(_){let e,t,l;return{c(){e=k("th"),t=M("Grand Total"),b(e,"class","_head-col _plant-total"),b(e,"colspan",l=_[5]?_[21].workTypes.length+1:1)},m(u,i){d(u,e,i),c(e,t)},p(u,i){i[0]&34&&l!==(l=u[5]?u[21].workTypes.length+1:1)&&b(e,"colspan",l)},d(u){u&&m(e)}}}function vf(_,e){let t,l=e[21].month+"",u,i,o,s,f=e[0].length-1===e[28]&&yf(e);return{key:_,first:null,c(){t=k("th"),u=M(l),o=y(),f&&f.c(),s=z(),b(t,"class","_head-col _extend"),b(t,"colspan",i=e[5]?e[21].workTypes.length+1:1),this.first=t},m(n,a){d(n,t,a),c(t,u),d(n,o,a),f&&f.m(n,a),d(n,s,a)},p(n,a){e=n,a[0]&2&&l!==(l=e[21].month+"")&&D(u,l),a[0]&34&&i!==(i=e[5]?e[21].workTypes.length+1:1)&&b(t,"colspan",i),e[0].length-1===e[28]?f?f.p(e,a):(f=yf(e),f.c(),f.m(s.parentNode,s)):f&&(f.d(1),f=null)},d(n){n&&m(t),n&&m(o),f&&f.d(n),n&&m(s)}}}function Tf(_){let e,t,l;return{c(){e=k("th"),e.textContent="Staff",t=y(),l=k("th"),l.textContent="Contractor",b(e,"class","_head-col _male"),b(l,"class","_head-col _female")},m(u,i){d(u,e,i),d(u,t,i),d(u,l,i)},d(u){u&&m(e),u&&m(t),u&&m(l)}}}function wf(_){let e,t,l=_[5]&&Nf();return{c(){l&&l.c(),e=y(),t=k("th"),t.textContent="Total",b(t,"class","_head-col _grand-total")},m(u,i){l&&l.m(u,i),d(u,e,i),d(u,t,i)},p(u,i){u[5]?l||(l=Nf(),l.c(),l.m(e.parentNode,e)):l&&(l.d(1),l=null)},d(u){l&&l.d(u),u&&m(e),u&&m(t)}}}function Nf(_){let e,t,l;return{c(){e=k("th"),e.textContent="Staff",t=y(),l=k("th"),l.textContent="Contractor",b(e,"class","_head-col _grand-male"),b(l,"class","_head-col _grand-female")},m(u,i){d(u,e,i),d(u,t,i),d(u,l,i)},d(u){u&&m(e),u&&m(t),u&&m(l)}}}function Cf(_,e){let t,l,u,i,o,s=e[5]&&Tf(),f=e[1].length-1===e[23]&&wf(e);return{key:_,first:null,c(){t=z(),s&&s.c(),l=y(),u=k("th"),u.textContent="Total",i=y(),f&&f.c(),o=z(),b(u,"class","_head-col _total"),this.first=t},m(n,a){d(n,t,a),s&&s.m(n,a),d(n,l,a),d(n,u,a),d(n,i,a),f&&f.m(n,a),d(n,o,a)},p(n,a){e=n,e[5]?s||(s=Tf(),s.c(),s.m(l.parentNode,l)):s&&(s.d(1),s=null),e[1].length-1===e[23]?f?f.p(e,a):(f=wf(e),f.c(),f.m(o.parentNode,o)):f&&(f.d(1),f=null)},d(n){n&&m(t),s&&s.d(n),n&&m(l),n&&m(u),n&&m(i),f&&f.d(n),n&&m(o)}}}function Mf(_){let e;return{c(){e=k("tr"),e.innerHTML='<td class="_col _space"></td>'},m(t,l){d(t,e,l)},d(t){t&&m(e)}}}function Hf(_){let e,t=T(_[11](_[17],_[21].workTypes[0],_[13].Total))+"",l,u,i,o=T(_[11](_[17],_[21].workTypes[1],_[13].Total))+"",s;return{c(){e=k("td"),l=M(t),u=y(),i=k("td"),s=M(o),b(e,"class","_col _indicator-total"),b(i,"class","_col _indicator-total")},m(f,n){d(f,e,n),c(e,l),d(f,u,n),d(f,i,n),c(i,s)},p(f,n){n[0]&2058&&t!==(t=T(f[11](f[17],f[21].workTypes[0],f[13].Total))+"")&&D(l,t),n[0]&2058&&o!==(o=T(f[11](f[17],f[21].workTypes[1],f[13].Total))+"")&&D(s,o)},d(f){f&&m(e),f&&m(u),f&&m(i)}}}function $f(_){let e,t,l=T(_[9](_[17]).total)+"",u,i=_[5]&&Df(_);return{c(){i&&i.c(),e=y(),t=k("td"),u=M(l),b(t,"class","_col _indicator-total")},m(o,s){i&&i.m(o,s),d(o,e,s),d(o,t,s),c(t,u)},p(o,s){o[5]?i?i.p(o,s):(i=Df(o),i.c(),i.m(e.parentNode,e)):i&&(i.d(1),i=null),s[0]&520&&l!==(l=T(o[9](o[17]).total)+"")&&D(u,l)},d(o){i&&i.d(o),o&&m(e),o&&m(t)}}}function Df(_){let e,t=T(_[9](_[17]).staff)+"",l,u,i,o=T(_[9](_[17]).contractor)+"",s;return{c(){e=k("td"),l=M(t),u=y(),i=k("td"),s=M(o),b(e,"class","_col _indicator-total"),b(i,"class","_col _indicator-total")},m(f,n){d(f,e,n),c(e,l),d(f,u,n),d(f,i,n),c(i,s)},p(f,n){n[0]&520&&t!==(t=T(f[9](f[17]).staff)+"")&&D(l,t),n[0]&520&&o!==(o=T(f[9](f[17]).contractor)+"")&&D(s,o)},d(f){f&&m(e),f&&m(u),f&&m(i)}}}function If(_,e){let t,l,u,i=T(e[11](e[17],e[21].workTypes[0],e[13].Total)+e[11](e[17],e[21].workTypes[1],e[13].Total))+"",o,s,f,n=e[5]&&Hf(e),a=e[1].length-1===e[23]&&$f(e);return{key:_,first:null,c(){t=z(),n&&n.c(),l=y(),u=k("td"),o=M(i),s=y(),a&&a.c(),f=z(),b(u,"class","_col _indicator-total"),this.first=t},m(p,r){d(p,t,r),n&&n.m(p,r),d(p,l,r),d(p,u,r),c(u,o),d(p,s,r),a&&a.m(p,r),d(p,f,r)},p(p,r){e=p,e[5]?n?n.p(e,r):(n=Hf(e),n.c(),n.m(l.parentNode,l)):n&&(n.d(1),n=null),r[0]&2058&&i!==(i=T(e[11](e[17],e[21].workTypes[0],e[13].Total)+e[11](e[17],e[21].workTypes[1],e[13].Total))+"")&&D(o,i),e[1].length-1===e[23]?a?a.p(e,r):(a=$f(e),a.c(),a.m(f.parentNode,f)):a&&(a.d(1),a=null)},d(p){p&&m(t),n&&n.d(p),p&&m(l),p&&m(u),p&&m(s),a&&a.d(p),p&&m(f)}}}function pi(_){let e,t,l=_[5]&&Ef();return{c(){l&&l.c(),e=y(),t=k("td"),t.textContent="0",b(t,"class","_col _total")},m(u,i){l&&l.m(u,i),d(u,e,i),d(u,t,i)},p(u,i){u[5]?l||(l=Ef(),l.c(),l.m(e.parentNode,e)):l&&(l.d(1),l=null)},d(u){l&&l.d(u),u&&m(e),u&&m(t)}}}function di(_){let e,t,l=T(_[21].workTypes[0].incidents[_[17]].manHours[_[20]].total.hours+_[21].workTypes[1].incidents[_[17]].manHours[_[20]].total.hours)+"",u,i=_[5]&&jf(_);return{c(){i&&i.c(),e=y(),t=k("td"),u=M(l),b(t,"class","_col _total")},m(o,s){i&&i.m(o,s),d(o,e,s),d(o,t,s),c(t,u)},p(o,s){o[5]?i?i.p(o,s):(i=jf(o),i.c(),i.m(e.parentNode,e)):i&&(i.d(1),i=null),s[0]&10&&l!==(l=T(o[21].workTypes[0].incidents[o[17]].manHours[o[20]].total.hours+o[21].workTypes[1].incidents[o[17]].manHours[o[20]].total.hours)+"")&&D(u,l)},d(o){i&&i.d(o),o&&m(e),o&&m(t)}}}function Ef(_){let e,t,l;return{c(){e=k("td"),e.textContent="0",t=y(),l=k("td"),l.textContent="0"},m(u,i){d(u,e,i),d(u,t,i),d(u,l,i)},d(u){u&&m(e),u&&m(t),u&&m(l)}}}function jf(_){let e,t=T(_[21].workTypes[0].incidents[_[17]].manHours[_[20]].total.hours)+"",l,u,i,o=T(_[21].workTypes[1].incidents[_[17]].manHours[_[20]].total.hours)+"",s;return{c(){e=k("td"),l=M(t),u=y(),i=k("td"),s=M(o)},m(f,n){d(f,e,n),c(e,l),d(f,u,n),d(f,i,n),c(i,s)},p(f,n){n[0]&10&&t!==(t=T(f[21].workTypes[0].incidents[f[17]].manHours[f[20]].total.hours)+"")&&D(l,t),n[0]&10&&o!==(o=T(f[21].workTypes[1].incidents[f[17]].manHours[f[20]].total.hours)+"")&&D(s,o)},d(f){f&&m(e),f&&m(u),f&&m(i)}}}function Sf(_){let e,t,l=T(_[8](_[17],_[20]).total)+"",u,i=_[5]&&Of(_);return{c(){i&&i.c(),e=y(),t=k("td"),u=M(l),b(t,"class","_col _grand-total")},m(o,s){i&&i.m(o,s),d(o,e,s),d(o,t,s),c(t,u)},p(o,s){o[5]?i?i.p(o,s):(i=Of(o),i.c(),i.m(e.parentNode,e)):i&&(i.d(1),i=null),s[0]&264&&l!==(l=T(o[8](o[17],o[20]).total)+"")&&D(u,l)},d(o){i&&i.d(o),o&&m(e),o&&m(t)}}}function Of(_){let e,t=T(_[8](_[17],_[20]).staff)+"",l,u,i,o=T(_[8](_[17],_[20]).contractor)+"",s;return{c(){e=k("td"),l=M(t),u=y(),i=k("td"),s=M(o),b(e,"class","_col _grand-male"),b(i,"class","_col _grand-female")},m(f,n){d(f,e,n),c(e,l),d(f,u,n),d(f,i,n),c(i,s)},p(f,n){n[0]&264&&t!==(t=T(f[8](f[17],f[20]).staff)+"")&&D(l,t),n[0]&264&&o!==(o=T(f[8](f[17],f[20]).contractor)+"")&&D(s,o)},d(f){f&&m(e),f&&m(u),f&&m(i)}}}function Bf(_,e){let t,l,u;function i(n,a){return n[21].workTypes[0]&&n[21].workTypes[1]?di:pi}let o=i(e),s=o(e),f=e[1].length-1===e[23]&&Sf(e);return{key:_,first:null,c(){t=z(),s.c(),l=y(),f&&f.c(),u=z(),this.first=t},m(n,a){d(n,t,a),s.m(n,a),d(n,l,a),f&&f.m(n,a),d(n,u,a)},p(n,a){e=n,o===(o=i(e))&&s?s.p(e,a):(s.d(1),s=o(e),s&&(s.c(),s.m(l.parentNode,l))),e[1].length-1===e[23]?f?f.p(e,a):(f=Sf(e),f.c(),f.m(u.parentNode,u)):f&&(f.d(1),f=null)},d(n){n&&m(t),s.d(n),n&&m(l),f&&f.d(n),n&&m(u)}}}function Lf(_){let e,t,l=_[18].name.replace(/(\d)\D+$/g,"$1")+"",u,i,o,s=[],f=new Map,n,a=_[1];const p=r=>`${r[21].id}_${r[20]}`;for(let r=0;r<a.length;r+=1){let h=ht(_,a,r),C=p(h);f.set(C,s[r]=Jf(C,h))}return{c(){e=k("tr"),t=k("td"),u=M(l),i=M(" Total"),o=y();for(let r=0;r<s.length;r+=1)s[r].c();n=y(),b(t,"class","_col _kpi-total text-left")},m(r,h){d(r,e,h),c(e,t),c(t,u),c(t,i),c(e,o);for(let C=0;C<s.length;C+=1)s[C].m(e,null);c(e,n)},p(r,h){h[0]&8&&l!==(l=r[18].name.replace(/(\d)\D+$/g,"$1")+"")&&D(u,l),h[0]&16618&&(a=r[1],s=K(s,h,p,1,r,a,f,e,Q,Jf,n,ht))},d(r){r&&m(e);for(let h=0;h<s.length;h+=1)s[h].d()}}}function Ff(_){let e,t=_[7](_[17],_[20],_[21].workTypes,_[14].Staff)+"",l,u,i,o=_[7](_[17],_[20],_[21].workTypes,_[14].Contractor)+"",s;return{c(){e=k("td"),l=M(t),u=y(),i=k("td"),s=M(o),b(e,"class","_col _kpi-total"),b(i,"class","_col _kpi-total")},m(f,n){d(f,e,n),c(e,l),d(f,u,n),d(f,i,n),c(i,s)},p(f,n){n[0]&138&&t!==(t=f[7](f[17],f[20],f[21].workTypes,f[14].Staff)+"")&&D(l,t),n[0]&138&&o!==(o=f[7](f[17],f[20],f[21].workTypes,f[14].Contractor)+"")&&D(s,o)},d(f){f&&m(e),f&&m(u),f&&m(i)}}}function Gf(_){let e,t,l=_[6](_[17],_[20],_[14].Total)+"",u,i=_[5]&&Pf(_);return{c(){i&&i.c(),e=y(),t=k("td"),u=M(l),b(t,"class","_col _kpi-total")},m(o,s){i&&i.m(o,s),d(o,e,s),d(o,t,s),c(t,u)},p(o,s){o[5]?i?i.p(o,s):(i=Pf(o),i.c(),i.m(e.parentNode,e)):i&&(i.d(1),i=null),s[0]&72&&l!==(l=o[6](o[17],o[20],o[14].Total)+"")&&D(u,l)},d(o){i&&i.d(o),o&&m(e),o&&m(t)}}}function Pf(_){let e,t=_[6](_[17],_[20],_[14].Staff)+"",l,u,i,o=_[6](_[17],_[20],_[14].Contractor)+"",s;return{c(){e=k("td"),l=M(t),u=y(),i=k("td"),s=M(o),b(e,"class","_col _kpi-total"),b(i,"class","_col _kpi-total")},m(f,n){d(f,e,n),c(e,l),d(f,u,n),d(f,i,n),c(i,s)},p(f,n){n[0]&72&&t!==(t=f[6](f[17],f[20],f[14].Staff)+"")&&D(l,t),n[0]&72&&o!==(o=f[6](f[17],f[20],f[14].Contractor)+"")&&D(s,o)},d(f){f&&m(e),f&&m(u),f&&m(i)}}}function Jf(_,e){let t,l,u,i=e[7](e[17],e[20],e[21].workTypes,e[14].Total)+"",o,s,f,n=e[5]&&Ff(e),a=e[1].length-1===e[23]&&Gf(e);return{key:_,first:null,c(){t=z(),n&&n.c(),l=y(),u=k("td"),o=M(i),s=y(),a&&a.c(),f=z(),b(u,"class","_col _kpi-total"),this.first=t},m(p,r){d(p,t,r),n&&n.m(p,r),d(p,l,r),d(p,u,r),c(u,o),d(p,s,r),a&&a.m(p,r),d(p,f,r)},p(p,r){e=p,e[5]?n?n.p(e,r):(n=Ff(e),n.c(),n.m(l.parentNode,l)):n&&(n.d(1),n=null),r[0]&138&&i!==(i=e[7](e[17],e[20],e[21].workTypes,e[14].Total)+"")&&D(o,i),e[1].length-1===e[23]?a?a.p(e,r):(a=Gf(e),a.c(),a.m(f.parentNode,f)):a&&(a.d(1),a=null)},d(p){p&&m(t),n&&n.d(p),p&&m(l),p&&m(u),p&&m(s),a&&a.d(p),p&&m(f)}}}function zf(_,e){let t,l,u=e[18].name+"",i,o,s=[],f=new Map,n,a=e[20]%2!=0&&e[18].name.indexOf("PSE Tier")!==-1&&e[15].name.indexOf("Process Safety Event")!==-1,p,r=e[1];const h=H=>`${H[21].id}_${H[20]}`;for(let H=0;H<r.length;H+=1){let L=yt(e,r,H),S=h(L);f.set(S,s[H]=Bf(S,L))}let C=a&&Lf(e);return{key:_,first:null,c(){t=k("tr"),l=k("td"),i=M(u),o=y();for(let H=0;H<s.length;H+=1)s[H].c();n=y(),C&&C.c(),p=z(),b(l,"class","text-left"),this.first=t},m(H,L){d(H,t,L),c(t,l),c(l,i),c(t,o);for(let S=0;S<s.length;S+=1)s[S].m(t,null);d(H,n,L),C&&C.m(H,L),d(H,p,L)},p(H,L){e=H,L[0]&8&&u!==(u=e[18].name+"")&&D(i,u),L[0]&298&&(r=e[1],s=K(s,L,h,1,e,r,f,t,Q,Bf,null,yt)),L[0]&8&&(a=e[20]%2!=0&&e[18].name.indexOf("PSE Tier")!==-1&&e[15].name.indexOf("Process Safety Event")!==-1),a?C?C.p(e,L):(C=Lf(e),C.c(),C.m(p.parentNode,p)):C&&(C.d(1),C=null)},d(H){H&&m(t);for(let L=0;L<s.length;L+=1)s[L].d();H&&m(n),C&&C.d(H),H&&m(p)}}}function Wf(_,e){let t,l,u,i,o=e[15].name+"",s,f,n=[],a=new Map,p,r=[],h=new Map,C,H=e[17]>0&&Mf(),L=e[1];const S=w=>`${w[21].id}_${w[17]}`;for(let w=0;w<L.length;w+=1){let N=vt(e,L,w),O=S(N);a.set(O,n[w]=If(O,N))}let $=e[15].incidentCases;const B=w=>w[20];for(let w=0;w<$.length;w+=1){let N=bt(e,$,w),O=B(N);h.set(O,r[w]=zf(O,N))}return{key:_,first:null,c(){t=z(),H&&H.c(),l=y(),u=k("tr"),i=k("td"),s=M(o),f=y();for(let w=0;w<n.length;w+=1)n[w].c();p=y();for(let w=0;w<r.length;w+=1)r[w].c();C=z(),b(i,"class","_col _indicator-total text-left"),this.first=t},m(w,N){d(w,t,N),H&&H.m(w,N),d(w,l,N),d(w,u,N),c(u,i),c(i,s),c(u,f);for(let O=0;O<n.length;O+=1)n[O].m(u,null);d(w,p,N);for(let O=0;O<r.length;O+=1)r[O].m(w,N);d(w,C,N)},p(w,N){e=w,e[17]>0?H||(H=Mf(),H.c(),H.m(l.parentNode,l)):H&&(H.d(1),H=null),N[0]&8&&o!==(o=e[15].name+"")&&D(s,o),N[0]&10794&&(L=e[1],n=K(n,N,S,1,e,L,a,u,Q,If,null,vt)),N[0]&16874&&($=e[15].incidentCases,r=K(r,N,B,1,e,$,h,C.parentNode,Q,zf,C,bt))},d(w){w&&m(t),H&&H.d(w),w&&m(l),w&&m(u);for(let N=0;N<n.length;N+=1)n[N].d();w&&m(p);for(let N=0;N<r.length;N+=1)r[N].d(w);w&&m(C)}}}function mi(_){let e,t,l,u,i,o,s,f,n,a,p,r,h=[],C=new Map,H,L,S=[],$=new Map,B,w,N=[],O=new Map,P,W,v=[],I=new Map,J,le,x,oe,R,V,q,g,te,Z,ue,pe,ie,X=[],Ce=new Map,se,ae,Y=[],ee=new Map,de,me,fe=[],ke=new Map,re=_[0];const ce=j=>j[32].id;for(let j=0;j<re.length;j+=1){let G=Ft(_,re,j),U=ce(G);C.set(U,h[j]=Pt(U,G))}let be=_[0];const He=j=>j[32].id;for(let j=0;j<be.length;j+=1){let G=Bt(_,be,j),U=He(G);$.set(U,S[j]=Wt(U,G))}let he=_[0];const $e=j=>j[32].id;for(let j=0;j<he.length;j+=1){let G=St(_,he,j),U=$e(G);O.set(U,N[j]=Qt(U,G))}let ye=_[2];const De=j=>j[15].id;for(let j=0;j<ye.length;j+=1){let G=Nt(_,ye,j),U=De(G);I.set(U,v[j]=hf(U,G))}let ve=_[1];const Ie=j=>j[21].id;for(let j=0;j<ve.length;j+=1){let G=wt(_,ve,j),U=Ie(G);Ce.set(U,X[j]=vf(U,G))}let E=_[1];const F=j=>j[21].id;for(let j=0;j<E.length;j+=1){let G=Tt(_,E,j),U=F(G);ee.set(U,Y[j]=Cf(U,G))}let A=_[3];const Pe=j=>j[15].id;for(let j=0;j<A.length;j+=1){let G=ct(_,A,j),U=Pe(G);ke.set(U,fe[j]=Wf(U,G))}return{c(){e=k("div"),t=k("div"),l=k("div"),u=M(_[4]),i=M(" Total Injury"),o=y(),s=k("div"),f=k("table"),n=k("thead"),a=k("tr"),p=k("th"),p.textContent="Incident",r=y();for(let j=0;j<h.length;j+=1)h[j].c();H=y(),L=k("tr");for(let j=0;j<S.length;j+=1)S[j].c();B=y(),w=k("tr");for(let j=0;j<N.length;j+=1)N[j].c();P=y(),W=k("tbody");for(let j=0;j<v.length;j+=1)v[j].c();J=y(),le=k("div"),x=k("div"),oe=k("div"),R=M(_[4]),V=M(" Total Incident"),q=y(),g=k("div"),te=k("table"),Z=k("thead"),ue=k("tr"),pe=k("th"),pe.textContent="Incident",ie=y();for(let j=0;j<X.length;j+=1)X[j].c();se=y(),ae=k("tr");for(let j=0;j<Y.length;j+=1)Y[j].c();de=y(),me=k("tbody");for(let j=0;j<fe.length;j+=1)fe[j].c();b(l,"class","_box-title push-bottom-2"),b(p,"class","_head-col _head-incident"),b(p,"rowspan",3),b(s,"class","_table-container"),b(t,"class","box"),b(oe,"class","_box-title push-bottom-2 push-top-2"),b(pe,"class","_head-col _head-incident"),b(pe,"rowspan",2),b(g,"class","_table-container"),b(x,"class","box push-top-2")},m(j,G){d(j,e,G),c(e,t),c(t,l),c(l,u),c(l,i),c(t,o),c(t,s),c(s,f),c(f,n),c(n,a),c(a,p),c(a,r);for(let U=0;U<h.length;U+=1)h[U].m(a,null);c(n,H),c(n,L);for(let U=0;U<S.length;U+=1)S[U].m(L,null);c(n,B),c(n,w);for(let U=0;U<N.length;U+=1)N[U].m(w,null);c(f,P),c(f,W);for(let U=0;U<v.length;U+=1)v[U].m(W,null);d(j,J,G),d(j,le,G),c(le,x),c(x,oe),c(oe,R),c(oe,V),c(x,q),c(x,g),c(g,te),c(te,Z),c(Z,ue),c(ue,pe),c(ue,ie);for(let U=0;U<X.length;U+=1)X[U].m(ue,null);c(Z,se),c(Z,ae);for(let U=0;U<Y.length;U+=1)Y[U].m(ae,null);c(te,de),c(te,me);for(let U=0;U<fe.length;U+=1)fe[U].m(me,null)},p(j,G){G[0]&16&&D(u,j[4]),G[0]&33&&(re=j[0],h=K(h,G,ce,1,j,re,C,a,Q,Pt,null,Ft)),G[0]&33&&(be=j[0],S=K(S,G,He,1,j,be,$,L,Q,Wt,null,Bt)),G[0]&33&&(he=j[0],N=K(N,G,$e,1,j,he,O,w,Q,Qt,null,St)),G[0]&15397&&(ye=j[2],v=K(v,G,De,1,j,ye,I,W,Q,hf,null,Nt)),G[0]&16&&D(R,j[4]),G[0]&35&&(ve=j[1],X=K(X,G,Ie,1,j,ve,Ce,ue,Q,vf,null,wt)),G[0]&34&&(E=j[1],Y=K(Y,G,F,1,j,E,ee,ae,Q,Cf,null,Tt)),G[0]&27626&&(A=j[3],fe=K(fe,G,Pe,1,j,A,ke,me,Q,Wf,null,ct))},i:Oe,o:Oe,d(j){j&&m(e);for(let G=0;G<h.length;G+=1)h[G].d();for(let G=0;G<S.length;G+=1)S[G].d();for(let G=0;G<N.length;G+=1)N[G].d();for(let G=0;G<v.length;G+=1)v[G].d();j&&m(J),j&&m(le);for(let G=0;G<X.length;G+=1)X[G].d();for(let G=0;G<Y.length;G+=1)Y[G].d();for(let G=0;G<fe.length;G+=1)fe[G].d()}}}function ki(_,e,t){let l,u,i,o,s,f,n,{totalInjuries:a=[]}=e,{totalIncidents:p=[]}=e,{injuries:r=[]}=e,{incidents:h=[]}=e,{companyLabel:C=""}=e,{isDisplayDetail:H}=e,L=Ye,S=Ae;return _.$$set=$=>{"totalInjuries"in $&&t(0,a=$.totalInjuries),"totalIncidents"in $&&t(1,p=$.totalIncidents),"injuries"in $&&t(2,r=$.injuries),"incidents"in $&&t(3,h=$.incidents),"companyLabel"in $&&t(4,C=$.companyLabel),"isDisplayDetail"in $&&t(5,H=$.isDisplayDetail)},_.$$.update=()=>{_.$$.dirty[0]&1&&t(12,l=($,B,w=!1)=>{let N={staff:{},contractor:{}};return a.forEach(O=>{O.workTypes.forEach(P=>{let W=w?P.incidents[$].totalManHours:P.incidents[$].manHours;const v=P.type==="Staff"?"staff":"contractor";Object.entries(W[B]).forEach(I=>{var J,le;N[v][I[0]]?N[v][I[0]]+=((J=I[1])==null?void 0:J.hours)||0:N[v][I[0]]=((le=I[1])==null?void 0:le.hours)||0})})}),N}),_.$$.dirty[0]&1&&t(10,i=$=>{let B={staff:{},contractor:{}};return a.forEach(w=>{w.workTypes.forEach(N=>{N.incidents[$].manHours.forEach(O=>{const P=N.type==="Staff"?"staff":"contractor";Object.entries(O).forEach(W=>{var v,I;B[P][W[0]]?B[P][W[0]]+=((v=W[1])==null?void 0:v.hours)||0:B[P][W[0]]=((I=W[1])==null?void 0:I.hours)||0})})})}),B}),_.$$.dirty[0]&2&&t(9,o=$=>{let B=0,w=0;return p.forEach(N=>{N.workTypes[0].incidents[$].manHours.forEach(O=>{B+=O.total.hours}),N.workTypes[1].incidents[$].manHours.forEach(O=>{w+=O.total.hours})}),{staff:B,contractor:w,total:B+w}}),_.$$.dirty[0]&2&&t(8,s=($,B)=>{let w=0,N=0;return p.forEach(O=>{w+=O.workTypes[0].incidents[$].manHours[B].total.hours,N+=O.workTypes[1].incidents[$].manHours[B].total.hours}),{staff:w,contractor:N,total:w+N}}),_.$$.dirty[0]&2&&t(6,n=($,B,w)=>{let N=p.map(O=>O.workTypes.map((P,W)=>w===S.Staff&&W===0||w===S.Contractor&&W===1||w===S.Total?P.incidents[$].manHours.slice(B-1,B+1).map(v=>(v==null?void 0:v.total.hours)||0).reduce((v,I)=>v+I,0):0).reduce((P,W)=>P+W,0)).reduce((O,P)=>O+P,0);return N?T(N):0})},t(11,u=($,B,w)=>B.incidents[$].manHours.map(N=>N==null?void 0:N[w].hours).reduce((N,O)=>N+O,0)),t(7,f=($,B,w,N)=>{let O=w.map((P,W)=>N===S.Staff&&W===0||N===S.Contractor&&W===1||N===S.Total?P.incidents[$].manHours.slice(B-1,B+1).map(v=>(v==null?void 0:v.total.hours)||0).reduce((v,I)=>v+I,0):0).reduce((P,W)=>P+W,0);return O?T(O):0}),[a,p,r,h,C,H,n,f,s,o,i,u,l,L,S]}class ci extends Le{constructor(e){super();Fe(this,e,ki,mi,Ge,{totalInjuries:0,totalIncidents:1,injuries:2,incidents:3,companyLabel:4,isDisplayDetail:5},null,[-1,-1])}}function bi(_){let e,t,l;function u(o){_[22](o)}let i={label:"Company",name:"company",options:_[8],change:_[17],isHorizontal:!0};return _[9]!==void 0&&(i.value=_[9]),e=new Be({props:i}),Ee.push(()=>je(e,"value",u)),{c(){Te(e.$$.fragment)},m(o,s){we(e,o,s),l=!0},p(o,s){const f={};s[0]&256&&(f.options=o[8]),!t&&s[0]&512&&(t=!0,f.value=o[9],Se(()=>t=!1)),e.$set(f)},i(o){l||(_e(e.$$.fragment,o),l=!0)},o(o){ne(e.$$.fragment,o),l=!1},d(o){Ne(e,o)}}}function hi(_){let e,t,l;function u(o){_[21](o)}let i={label:"Month",name:"month",options:_[15],change:_[18],isHorizontal:!0};return _[12]!==void 0&&(i.value=_[12]),e=new Be({props:i}),Ee.push(()=>je(e,"value",u)),{c(){Te(e.$$.fragment)},m(o,s){we(e,o,s),l=!0},p(o,s){const f={};!t&&s[0]&4096&&(t=!0,f.value=o[12],Se(()=>t=!1)),e.$set(f)},i(o){l||(_e(e.$$.fragment,o),l=!0)},o(o){ne(e.$$.fragment,o),l=!1},d(o){Ne(e,o)}}}function yi(_){let e,t,l;function u(o){_[25](o)}let i={injuries:_[6],incidents:_[7],companyLabel:_[10],totalInjuries:_[5].totalInjuries,totalIncidents:_[5].totalIncidents};return _[1]!==void 0&&(i.isDisplayDetail=_[1]),e=new ci({props:i}),Ee.push(()=>je(e,"isDisplayDetail",u)),{c(){Te(e.$$.fragment)},m(o,s){we(e,o,s),l=!0},p(o,s){const f={};s[0]&64&&(f.injuries=o[6]),s[0]&128&&(f.incidents=o[7]),s[0]&1024&&(f.companyLabel=o[10]),s[0]&32&&(f.totalInjuries=o[5].totalInjuries),s[0]&32&&(f.totalIncidents=o[5].totalIncidents),!t&&s[0]&2&&(t=!0,f.isDisplayDetail=o[1],Se(()=>t=!1)),e.$set(f)},i(o){l||(_e(e.$$.fragment,o),l=!0)},o(o){ne(e.$$.fragment,o),l=!1},d(o){Ne(e,o)}}}function vi(_){let e,t,l;function u(o){_[24](o)}let i={injuries:_[6],incidents:_[7],totalInjuries:_[4].totalInjuries,totalIncidents:_[4].totalIncidents};return _[1]!==void 0&&(i.isDisplayDetail=_[1]),e=new ni({props:i}),Ee.push(()=>je(e,"isDisplayDetail",u)),{c(){Te(e.$$.fragment)},m(o,s){we(e,o,s),l=!0},p(o,s){const f={};s[0]&64&&(f.injuries=o[6]),s[0]&128&&(f.incidents=o[7]),s[0]&16&&(f.totalInjuries=o[4].totalInjuries),s[0]&16&&(f.totalIncidents=o[4].totalIncidents),!t&&s[0]&2&&(t=!0,f.isDisplayDetail=o[1],Se(()=>t=!1)),e.$set(f)},i(o){l||(_e(e.$$.fragment,o),l=!0)},o(o){ne(e.$$.fragment,o),l=!1},d(o){Ne(e,o)}}}function Ti(_){let e,t,l,u,i,o,s,f,n,a,p,r,h,C,H,L,S,$,B,w,N,O,P,W,v,I,J,le,x,oe,R,V,q,g,te;t=new Yf({props:{isShow:_[2]}}),s=new Af({props:{activeTab:_[13],tabs:Rf,isUnsavedChanges:!1}}),a=new gf({props:{activeTab:_[0],tabs:Vf,isUnsavedChanges:!1}}),a.$on("tabChange",_[16]);function Z(Y){_[20](Y)}let ue={label:"Year",name:"year",options:_[14],change:_[18],isHorizontal:!0};_[11]!==void 0&&(ue.value=_[11]),C=new Be({props:ue}),Ee.push(()=>je(C,"value",Z));const pe=[hi,bi],ie=[];function X(Y,ee){return Y[0]===Me.Company?0:Y[0]===Me.Month?1:-1}~(S=X(_))&&($=ie[S]=pe[S](_)),x=new Xf({props:{onExport:_[19],isExport:_[3],canEdit:!1}});const Ce=[vi,yi],se=[];function ae(Y,ee){return Y[0]===Me.Company?0:Y[0]===Me.Month?1:-1}return~(R=ae(_))&&(V=se[R]=Ce[R](_)),{c(){e=k("main"),Te(t.$$.fragment),l=y(),u=k("div"),u.textContent="Incident",i=y(),o=k("div"),Te(s.$$.fragment),f=y(),n=k("div"),Te(a.$$.fragment),p=y(),r=k("div"),h=k("div"),Te(C.$$.fragment),L=y(),$&&$.c(),B=y(),w=k("div"),N=k("div"),O=k("div"),P=k("label"),W=k("input"),v=y(),I=k("span"),I.textContent="Display Details",J=y(),le=k("div"),Te(x.$$.fragment),oe=y(),V&&V.c(),b(u,"class","text-center text-weight-bold push-bottom-3 _title svelte-1k6ldyi"),b(o,"class","push-bottom-3"),b(n,"class","push-bottom-3"),b(W,"type","checkbox"),b(P,"class","checkbox is-filled"),b(O,"class","push-right-2"),b(N,"class","is-flex is-align-center"),b(w,"class","is-flex is-align-center text-size-medium"),b(h,"class","is-flex"),b(r,"class","_filter-wrapper push-bottom-3 svelte-1k6ldyi"),b(e,"class","_data-management")},m(Y,ee){d(Y,e,ee),we(t,e,null),c(e,l),c(e,u),c(e,i),c(e,o),we(s,o,null),c(e,f),c(e,n),we(a,n,null),c(e,p),c(e,r),c(r,h),we(C,h,null),c(h,L),~S&&ie[S].m(h,null),c(h,B),c(h,w),c(w,N),c(N,O),c(O,P),c(P,W),W.checked=_[1],c(P,v),c(P,I),c(r,J),c(r,le),we(x,le,null),c(e,oe),~R&&se[R].m(e,null),q=!0,g||(te=Kf(W,"change",_[23]),g=!0)},p(Y,ee){const de={};ee[0]&4&&(de.isShow=Y[2]),t.$set(de);const me={};ee[0]&1&&(me.activeTab=Y[0]),a.$set(me);const fe={};!H&&ee[0]&2048&&(H=!0,fe.value=Y[11],Se(()=>H=!1)),C.$set(fe);let ke=S;S=X(Y),S===ke?~S&&ie[S].p(Y,ee):($&&(We(),ne(ie[ke],1,1,()=>{ie[ke]=null}),ze()),~S?($=ie[S],$?$.p(Y,ee):($=ie[S]=pe[S](Y),$.c()),_e($,1),$.m(h,B)):$=null),ee[0]&2&&(W.checked=Y[1]);const re={};ee[0]&8&&(re.isExport=Y[3]),x.$set(re);let ce=R;R=ae(Y),R===ce?~R&&se[R].p(Y,ee):(V&&(We(),ne(se[ce],1,1,()=>{se[ce]=null}),ze()),~R?(V=se[R],V?V.p(Y,ee):(V=se[R]=Ce[R](Y),V.c()),_e(V,1),V.m(e,null)):V=null)},i(Y){q||(_e(t.$$.fragment,Y),_e(s.$$.fragment,Y),_e(a.$$.fragment,Y),_e(C.$$.fragment,Y),_e($),_e(x.$$.fragment,Y),_e(V),q=!0)},o(Y){ne(t.$$.fragment,Y),ne(s.$$.fragment,Y),ne(a.$$.fragment,Y),ne(C.$$.fragment,Y),ne($),ne(x.$$.fragment,Y),ne(V),q=!1},d(Y){Y&&m(e),Ne(t),Ne(s),Ne(a),Ne(C),~S&&ie[S].d(),Ne(x),~R&&se[R].d(),g=!1,te()}}}function wi(_,e,t){let l=Me.Company,u=Zf.Total,i=!1,o=!0,s=!1,f={},n={},a,p,r=[],h,C,H;const L=new Date,S=L.getFullYear(),$=Uf();let B=S;const w=L.getMonth(),N=qf.map((q,g)=>({id:g,name:q}));let O=w;Qf(async()=>{window.getData=()=>{const q=JSON.parse(document.getElementById("rawData").innerText);t(4,f={totalInjuries:q.totalByCompany.totalInjuries,totalIncidents:q.totalByCompany.totalIncidents}),t(5,n={totalInjuries:q.totalByMonth.totalInjuries,totalIncidents:q.totalByMonth.totalIncidents}),t(6,a=q.injuries),t(7,p=q.incidents),t(8,r=q.companyOptions),r.length>0&&h===void 0&&(h=r[0].id,t(9,C=h),t(10,H=r[0].name)),t(3,s=q.isExport),t(2,o=!1)},window.getData()});function P(q){t(0,l=q.detail),t(1,i=!1)}function W(){t(10,H=r.find(q=>q.id===C).name),v()}function v(){let q=r.findIndex(Z=>Z.id===C),g=l===Me.Company?"IncidentTotalByCompany":"IncidentTotalByMonth";const te={year:B,month:O+1,company:C,companyName:r[q].name,dataManagementName:g};console.log(te),console.log(JSON.stringify(te)),t(2,o=!0),window.PerformSearch(JSON.stringify(te))}function I(){let q=r.findIndex(Z=>Z.id===C),g=l===Me.Company?"IncidentTotalByCompany":"IncidentTotalByMonth";const te={year:B,month:O,company:C,companyName:r[q].name,finalData:Je(0)+Je(1),dataManagementName:g};console.log("onExport",JSON.stringify(te)),window.PerformExport(JSON.stringify(te))}function J(q){B=q,t(11,B)}function le(q){O=q,t(12,O)}function x(q){C=q,t(9,C)}function oe(){i=this.checked,t(1,i)}function R(q){i=q,t(1,i)}function V(q){i=q,t(1,i)}return[l,i,o,s,f,n,a,p,r,C,H,B,O,u,$,N,P,W,v,I,J,le,x,oe,R,V]}class Ni extends Le{constructor(e){super();Fe(this,e,wi,Ti,Ge,{},null,[-1,-1])}}new Ni({target:document.getElementById("app")});
