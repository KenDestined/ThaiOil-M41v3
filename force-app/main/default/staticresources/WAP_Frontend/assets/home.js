var Yn=Object.defineProperty;var Kn=(l,e,t)=>e in l?Yn(l,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):l[e]=t;var we=(l,e,t)=>(Kn(l,typeof e!="symbol"?e+"":e,t),t);import{v as vt,S as We,i as $e,s as Se,e as r,a as o,b as j,n as se,d as U,o as Rt,c as Ie,W as _t,f as Vl,m as Xl,g as Nt,h as En,j as i,k as Bn,u as Rn,l as Nn,p as Gn,t as C,q as $,L as qn,r as F,w as m,x as O,y as vn,z as kt,A as Qn,B as H,C as Jn,D as Y,E as ee,F as Ae,G as Vn,H as z,I as _n,J as qe,K as Je,M as ql,N as bt,O as wt,P as Zn,Q as Kl,R as Yl,T as xn,U as kn,V as bn,X as ea,Y as ta,Z as la,_ as wn,$ as ia,a0 as na,a1 as yn}from"./Label.js";import{B as yt,M as Xn}from"./Modal.js";import{L as aa}from"./Link.js";class Et{static async GetWorkCount(e){return vt("WAP_Map.GetWorkCount",e.filter)}static async GetAllWorkCount(e){return vt("WAP_Map.GetAllWorkCount",e.filter)}static async GetWorkMaps(e){return vt("WAP_Map.GetWorkMaps",e.filter)}static async UpdateWorkClearanceMapLatLong(e){return vt("WAP_Map.UpdateWorkClearanceMapLatLong",e.recordId,e.latitude,e.longitude)}static async GetWorkDetail(e){return vt("WAP_Map.GetWorkDetail",e.clearanceNo)}static async GetAreas(e){return vt("WAP_Map.GetAreas",e.filter)}}const sa=[{elementType:"labels",featureType:"administrative.neighborhood",stylers:[{visibility:"off"}]},{elementType:"labels",featureType:"poi",stylers:[{visibility:"off"}]},{elementType:"labels",featureType:"transit",stylers:[{visibility:"off"}]},{elementType:"labels",featureType:"poi.medical",stylers:[{visibility:"on"}]}];function oa(l){let e;return{c(){e=r("div"),o(e,"class","w-full h-full")},m(t,n){j(t,e,n),l[2](e)},p:se,i:se,o:se,d(t){t&&U(e),l[2](null)}}}let ra=15.15;function fa(l,e,t){let{map:n}=e,a,s={lat:13.1031262,lng:100.8962942};Rt(()=>{t(1,n=new window.google.maps.Map(a,{zoom:ra,center:s,styles:sa,mapTypeId:window.google.maps.MapTypeId.HYBRID,mapTypeControl:!1,fullscreenControl:!1}))});function f(d){Ie[d?"unshift":"push"](()=>{a=d,t(0,a)})}return l.$$set=d=>{"map"in d&&t(1,n=d.map)},[a,n,f]}class da extends We{constructor(e){super(),$e(this,e,fa,oa,Se,{map:1})}}const ca=()=>{class l extends google.maps.OverlayView{constructor(n,a,s,f,d,c){super();we(this,"workMap");we(this,"div");we(this,"onClick");we(this,"locationChanged");we(this,"dragStart");we(this,"dragEnd");we(this,"canDrag",!1);we(this,"dragThreshold",20);we(this,"isDragged",!1);we(this,"initLatLng");we(this,"moveListener");we(this,"mouseLeaveListener");this.workMap=n,this.onClick=a,this.canDrag=s,this.locationChanged=f,this.dragStart=d,this.dragEnd=c}setCanDrag(n){this.canDrag=n,this.drawPin()}drawPin(){var a,s;let n="";((a=this.workMap.workClearanceStatus)==null?void 0:a.key)===_t.WorkClearanceStatus.Created?n="clearance-status-created":((s=this.workMap.workClearanceStatus)==null?void 0:s.key)===_t.WorkClearanceStatus.Suspend&&(n="clearance-status-suspend"),this.div.innerHTML=`
    <div class="_g-map-overlay ${n}">
      ${this.canDrag?'<div class="_g-pin2"></div>':""}
      <img
        src="${Vl+Xl[this.workMap.highRiskWork.key].overlay}"
        alt="work-type"
      />
    </div>
    `}onAdd(){var a,s;this.initLatLng=new google.maps.LatLng(+this.workMap.latitude,+this.workMap.longitude),this.div=document.createElement("div"),this.div.style.borderStyle="none",this.div.style.borderWidth="0px",this.div.style.position="absolute",this.div.style.zIndex=((a=this.workMap.workClearanceStatus)==null?void 0:a.key)===_t.WorkClearanceStatus.Created||((s=this.workMap.workClearanceStatus)==null?void 0:s.key)===_t.WorkClearanceStatus.InProgress?"1":"0",this.drawPin(),this.div.draggable=!0,this.mouseLeaveListener=this.mouseLeaveMap.bind(this),this.get("map").getDiv().addEventListener("mouseleave",this.mouseLeaveListener),this.get("map").getDiv().addEventListener("touchleave",this.mouseLeaveListener),this.div.addEventListener("mousedown",this.onMouseDown.bind(this)),this.div.addEventListener("touchstart",this.onMouseDown.bind(this)),this.div.addEventListener("mouseup",this.onMouseUp.bind(this)),this.div.addEventListener("touchend",this.onMouseUp.bind(this)),this.getPanes().floatPane.appendChild(this.div)}_getPosition(n){return"touches"in n?n.touches[0]:n}toggleDragged(n=!0){const a=this.get("map"),s=document.getElementsByClassName("_main-layout")[0];return n?(this.div.style.cursor="move",a.set("draggable",!1),s.style.overflow="hidden"):(this.div.style.cursor="pointer",a.set("draggable",!0),s.style.overflow="visible"),a}onMouseDown(n){if(this.canDrag){const a=this.toggleDragged();this.set("origin",this._getPosition(n)),this.moveListener=this.moveHandler.bind(this),a.getDiv().addEventListener("mousemove",this.moveListener),a.getDiv().addEventListener("touchmove",this.moveListener)}}moveHandler(n){if(this.canDrag){const a=this.get("origin"),s=a.clientX-this._getPosition(n).clientX,f=a.clientY-this._getPosition(n).clientY,d=this.getProjection().fromLatLngToDivPixel(this.get("position"));if(this.isDragged===!1){if(Math.abs(s)>=this.dragThreshold||Math.abs(f)>=this.dragThreshold){this.isDragged=!0,this.dragStart();const c=this.getProjection().fromDivPixelToLatLng(new google.maps.Point(d.x-s,d.y-f));this.set("origin",this._getPosition(n)),this.set("position",c),this.draw()}}else{const c=this.getProjection().fromDivPixelToLatLng(new google.maps.Point(d.x-s,d.y-f));this.set("origin",this._getPosition(n)),this.set("position",c),this.draw()}}}onMouseUp(n){const a=this.toggleDragged(!1);if(this.moveListener&&a.getDiv()&&(a.getDiv().removeEventListener("mousemove",this.moveListener),a.getDiv().removeEventListener("touchmove",this.moveListener),this.moveListener=void 0),this.isDragged){this.isDragged=!1,this.dragEnd();const s=this;this.locationChanged({latitude:this.get("position").lat().toString(),longitude:this.get("position").lng().toString()},function(){s.set("position",s.initLatLng),s.draw()})}else this.onClick(n)}mouseLeaveMap(n){const a=this.get("map");this.moveListener&&a.getDiv()&&(a.getDiv().removeEventListener("mousemove",this.moveListener),a.getDiv().removeEventListener("touchmove",this.moveListener),this.moveListener=void 0)}draw(){var f;const n=(f=this.get("position"))!=null?f:this.initLatLng;this.set("position",n);const s=this.getProjection().fromLatLngToDivPixel(n);this.div&&(this.div.style.left=s.x-13+"px",this.div.style.top=s.y-34+"px")}onRemove(){this.div&&(this.mouseLeaveListener&&(this.get("map").getDiv().removeEventListener("mouseleave",this.mouseLeaveListener),this.get("map").getDiv().removeEventListener("touchleave",this.mouseLeaveListener),this.mouseLeaveListener=void 0),this.div.removeEventListener("mousedown",this.onMouseDown.bind(this)),this.div.removeEventListener("touchstart",this.onMouseDown.bind(this)),this.div.removeEventListener("mouseup",this.onMouseUp.bind(this)),this.div.removeEventListener("touchend",this.onMouseUp.bind(this)),this.div.parentNode.removeChild(this.div),delete this.div)}}return{MapOverlay:l}};function ua(l){let e;return{c(){e=r("div")},m(t,n){j(t,e,n)},p:se,i:se,o:se,d(t){t&&U(e)}}}function ga(l,e,t){let{workMap:n}=e,{map:a}=e,{canDrag:s=!1}=e,f=s,d;const c=Nt(),u=()=>c("click",{workMap:n}),g=(y,w)=>c("locationChanged",{location:y,workMap:n,onCancel:w}),p=()=>c("dragStart"),v=()=>c("dragEnd");Rt(()=>{const y=ca().MapOverlay;t(4,d=new y(n,k,s,g,p,v)),d.setMap(a)}),En(()=>{d&&d.onRemove()});function k(y){y.stopPropagation(),u()}return l.$$set=y=>{"workMap"in y&&t(0,n=y.workMap),"map"in y&&t(1,a=y.map),"canDrag"in y&&t(2,s=y.canDrag)},l.$$.update=()=>{l.$$.dirty&28&&f!==s&&(t(3,f=s),d&&d.setCanDrag(f))},[n,a,s,f,d]}class ma extends We{constructor(e){super(),$e(this,e,ga,ua,Se,{workMap:0,map:1,canDrag:2})}}function pa(l){let e,t,n,a,s,f;return{c(){e=r("div"),t=r("div"),n=r("span"),a=r("i"),o(a,"class",s="ic "+l[1]),o(n,"class","icon text-center"),o(t,"class",f="rounded-full "+l[3][l[0]]+" "+l[4][l[0]]+" "+l[2]),o(e,"class","avatar placeholder")},m(d,c){j(d,e,c),i(e,t),i(t,n),i(n,a)},p(d,[c]){c&2&&s!==(s="ic "+d[1])&&o(a,"class",s),c&5&&f!==(f="rounded-full "+d[3][d[0]]+" "+d[4][d[0]]+" "+d[2])&&o(t,"class",f)},i:se,o:se,d(d){d&&U(e)}}}function ha(l,e,t){let{size:n=54}=e,{icon:a=void 0}=e,{bgColor:s=""}=e;const f={54:"w-9",42:"w-7",36:"w-6",30:"w-5",27:"w-4.5"},d={54:"text-size-4xlarge",42:"text-size-3xlarge",36:"text-size-xxlarge",30:"text-size-xlarge",27:"text-size-xlarge"};return l.$$set=c=>{"size"in c&&t(0,n=c.size),"icon"in c&&t(1,a=c.icon),"bgColor"in c&&t(2,s=c.bgColor)},[n,a,s,f,d]}class Ql extends We{constructor(e){super(),$e(this,e,ha,pa,Se,{size:0,icon:1,bgColor:2})}}function va(l){let e,t,n,a;const s=l[2].default,f=Bn(s,l,l[1],null);return{c(){e=r("div"),t=r("div"),f&&f.c(),o(t,"class",n="card-body "+l[0]+" svelte-1dtyqwn"),o(e,"class","card svelte-1dtyqwn")},m(d,c){j(d,e,c),i(e,t),f&&f.m(t,null),a=!0},p(d,[c]){f&&f.p&&(!a||c&2)&&Rn(f,s,d,d[1],a?Gn(s,d[1],c,null):Nn(d[1]),null),(!a||c&1&&n!==(n="card-body "+d[0]+" svelte-1dtyqwn"))&&o(t,"class",n)},i(d){a||(C(f,d),a=!0)},o(d){$(f,d),a=!1},d(d){d&&U(e),f&&f.d(d)}}}function _a(l,e,t){let{$$slots:n={},$$scope:a}=e,{cardBg:s="bg-white"}=e;return l.$$set=f=>{"cardBg"in f&&t(0,s=f.cardBg),"$$scope"in f&&t(1,a=f.$$scope)},[s,a,n]}class Fl extends We{constructor(e){super(),$e(this,e,_a,va,Se,{cardBg:0})}}function ka(l){var v;let e,t,n,a,s,f,d=(((v=l[2])==null?void 0:v.totalClearanceCertificate)||0)+"",c,u,g,p;return n=new Ql({props:{size:36,icon:"ic-clearance-certificate",bgColor:"bg-icon-bg_map"}}),{c(){e=r("div"),t=r("div"),F(n.$$.fragment),a=m(),s=r("div"),f=r("div"),c=Y(d),u=m(),g=r("span"),g.textContent="Clearance Certificate",o(t,"class","desktop:flex desktop:items-center desktop:justify-center desktop:mr-3"),o(f,"class","text-size-xxlarge font-weight-bold leading-tight desktop:leading-normal"),o(g,"class","text-size-small desktop:text-size-large"),o(e,"class","text-center text-primary desktop:flex desktop:text-left _total-card svelte-jfszq9")},m(k,y){j(k,e,y),i(e,t),O(n,t,null),i(e,a),i(e,s),i(s,f),i(f,c),i(s,u),i(s,g),p=!0},p(k,y){var w;(!p||y&4)&&d!==(d=(((w=k[2])==null?void 0:w.totalClearanceCertificate)||0)+"")&&ee(c,d)},i(k){p||(C(n.$$.fragment,k),p=!0)},o(k){$(n.$$.fragment,k),p=!1},d(k){k&&U(e),H(n)}}}function ba(l){var v;let e,t,n,a,s,f,d=(((v=l[2])==null?void 0:v.totalHighRiskWork)||0)+"",c,u,g,p;return n=new Ql({props:{size:36,icon:"ic-high-risk-Work",bgColor:"bg-icon-bg_map"}}),{c(){e=r("div"),t=r("div"),F(n.$$.fragment),a=m(),s=r("div"),f=r("div"),c=Y(d),u=m(),g=r("span"),g.textContent="High-Risk Work",o(t,"class","desktop:flex desktop:items-center desktop:justify-center desktop:mr-3"),o(f,"class","text-size-xxlarge font-weight-bold leading-tight desktop:leading-normal"),o(g,"class","text-size-small leading-[28px] tablet:leading-[13px] desktop:text-size-large desktop:leading-[19px]"),o(e,"class","text-center text-primary desktop:flex desktop:text-left _total-card svelte-jfszq9")},m(k,y){j(k,e,y),i(e,t),O(n,t,null),i(e,a),i(e,s),i(s,f),i(f,c),i(s,u),i(s,g),p=!0},p(k,y){var w;(!p||y&4)&&d!==(d=(((w=k[2])==null?void 0:w.totalHighRiskWork)||0)+"")&&ee(c,d)},i(k){p||(C(n.$$.fragment,k),p=!0)},o(k){$(n.$$.fragment,k),p=!1},d(k){k&&U(e),H(n)}}}function wa(l){var v;let e,t,n,a,s,f,d=(((v=l[2])==null?void 0:v.totalHotWork)||0)+"",c,u,g,p;return n=new Ql({props:{size:36,icon:"ic-hotwork",bgColor:"bg-icon-bg_map"}}),{c(){e=r("div"),t=r("div"),F(n.$$.fragment),a=m(),s=r("div"),f=r("div"),c=Y(d),u=m(),g=r("span"),g.textContent="Hot Work",o(t,"class","desktop:flex desktop:items-center desktop:justify-center desktop:mr-3"),o(f,"class","text-size-xxlarge font-weight-bold leading-tight desktop:leading-normal"),o(g,"class","text-size-small leading-[28px] tablet:leading-[13px] desktop:text-size-large desktop:leading-[19px]"),o(e,"class","text-center text-primary desktop:flex desktop:text-left _total-card svelte-jfszq9")},m(k,y){j(k,e,y),i(e,t),O(n,t,null),i(e,a),i(e,s),i(s,f),i(f,c),i(s,u),i(s,g),p=!0},p(k,y){var w;(!p||y&4)&&d!==(d=(((w=k[2])==null?void 0:w.totalHotWork)||0)+"")&&ee(c,d)},i(k){p||(C(n.$$.fragment,k),p=!0)},o(k){$(n.$$.fragment,k),p=!1},d(k){k&&U(e),H(n)}}}function ya(l){let e,t,n,a,s,f,d,c,u,g,p,v,k,y,w,L,b,K,I,Z,B,V;return t=new qn({props:{isShow:l[1],isbgTransparent:!0}}),s=new Fl({props:{$$slots:{default:[ka]},$$scope:{ctx:l}}}),d=new Fl({props:{$$slots:{default:[ba]},$$scope:{ctx:l}}}),u=new Fl({props:{$$slots:{default:[wa]},$$scope:{ctx:l}}}),b=new yt({props:{primary:!1,outline:!0,isButton:!0,label:"X",classes:"h-5 absolute top-0.5 right-[88px] border-none transition-opacity "+(l[0].clearanceCertificateNo?"opacity-100":"opacity-0")}}),b.$on("click",l[3]),I=new yt({props:{isLoading:l[1],icon:"ic-search",label:"Search",classes:"h-6"}}),{c(){e=r("div"),F(t.$$.fragment),n=m(),a=r("div"),F(s.$$.fragment),f=m(),F(d.$$.fragment),c=m(),F(u.$$.fragment),g=m(),p=r("div"),v=r("form"),k=r("div"),y=r("div"),w=r("input"),L=m(),F(b.$$.fragment),K=m(),F(I.$$.fragment),o(a,"class","col-span-3 grid grid-cols-3 gap-2 desktop:gap-4"),o(w,"type","text"),o(w,"placeholder","Clearance Certificate No."),o(w,"class","input input-bordered h-6 flex-1 text-size-normal placeholder-gray-600 pr-6"),o(y,"class","input-group relative"),o(k,"class","form-control"),o(v,"class","mb-0 desktop:w-full"),o(p,"class","col-span-3 desktop:col-span-1 desktop:flex desktop:items-center"),o(e,"class","relative grid grid-cols-3 gap-2 mb-2 p-2 pb-0 desktop:grid-cols-4 desktop:grid-rows-1 desktop:gap-5 desktop:p-0")},m(S,R){j(S,e,R),O(t,e,null),i(e,n),i(e,a),O(s,a,null),i(a,f),O(d,a,null),i(a,c),O(u,a,null),i(e,g),i(e,p),i(p,v),i(v,k),i(k,y),i(y,w),vn(w,l[0].clearanceCertificateNo),i(y,L),O(b,y,null),i(y,K),O(I,y,null),Z=!0,B||(V=[kt(w,"input",l[5]),kt(v,"submit",Qn(l[4]))],B=!0)},p(S,[R]){const M={};R&2&&(M.isShow=S[1]),t.$set(M);const W={};R&132&&(W.$$scope={dirty:R,ctx:S}),s.$set(W);const N={};R&132&&(N.$$scope={dirty:R,ctx:S}),d.$set(N);const ie={};R&132&&(ie.$$scope={dirty:R,ctx:S}),u.$set(ie),R&1&&w.value!==S[0].clearanceCertificateNo&&vn(w,S[0].clearanceCertificateNo);const T={};R&1&&(T.classes="h-5 absolute top-0.5 right-[88px] border-none transition-opacity "+(S[0].clearanceCertificateNo?"opacity-100":"opacity-0")),b.$set(T);const E={};R&2&&(E.isLoading=S[1]),I.$set(E)},i(S){Z||(C(t.$$.fragment,S),C(s.$$.fragment,S),C(d.$$.fragment,S),C(u.$$.fragment,S),C(b.$$.fragment,S),C(I.$$.fragment,S),Z=!0)},o(S){$(t.$$.fragment,S),$(s.$$.fragment,S),$(d.$$.fragment,S),$(u.$$.fragment,S),$(b.$$.fragment,S),$(I.$$.fragment,S),Z=!1},d(S){S&&U(e),H(t),H(s),H(d),H(u),H(b),H(I),B=!1,Jn(V)}}}function Ca(l,e,t){let{isLoading:n}=e,{filter:a}=e,{headerMap:s}=e;function f(){t(0,a.clearanceCertificateNo="",a)}const d=Nt();function c(){d("search")}function u(){a.clearanceCertificateNo=this.value,t(0,a)}return l.$$set=g=>{"isLoading"in g&&t(1,n=g.isLoading),"filter"in g&&t(0,a=g.filter),"headerMap"in g&&t(2,s=g.headerMap)},[a,n,s,f,c,u]}class La extends We{constructor(e){super(),$e(this,e,Ca,ya,Se,{isLoading:1,filter:0,headerMap:2})}}function Ma(l){let e,t,n,a,s,f,d,c,u;return{c(){e=Ae("svg"),t=Ae("path"),n=Ae("path"),a=Ae("path"),s=Ae("path"),f=Ae("path"),d=Ae("path"),c=Ae("path"),u=Ae("path"),o(t,"d","M17.30542,20.99861c-0.93857,0.41943 -2.96507,0.7623 -3.76415,0.75931c-0.68873,-0.00455 -2.78202,-0.44414 -3.73868,-0.75931c-0.09157,-0.02922 -2.68154,-1.30244 -4.50167,-1.50056c-1.89369,-0.20331 -2.25088,0 -2.25088,0v0l-0.64672,0.80876v0l-2.35359,3.66521v0l12.03374,0.01578v0l11.9167,-0.01578v0l-3.21946,-5.05536c-0.83363,0.50636 -3.31102,2.00839 -3.4753,2.08195z"),o(t,"fill","#26a6d1"),o(t,"fill-opacity","1"),o(n,"d","M12.05347,9.74442c-1.2432,0 -2.25088,-1.00759 -2.25088,-2.25087c0,-1.24243 1.00759,-2.25088 2.25088,-2.25088c1.24319,0 2.25088,1.00836 2.25088,2.25088c-0.00009,1.24328 -1.00768,2.25087 -2.25088,2.25087zM12.05347,3.74217c-2.07151,0 -3.75137,1.67909 -3.75137,3.75138c0,2.07306 1.67986,3.75137 3.75137,3.75137c2.07305,0 3.75137,-1.67909 3.75137,-3.75137c0,-2.07151 -1.67841,-3.75138 -3.75137,-3.75138z"),o(n,"fill","#cca032"),o(n,"fill-opacity","1"),o(a,"d","M12.05347,10.49471c-1.6574,0 -3.00108,-1.34377 -3.00108,-3.00108c0,-1.65731 1.34377,-3.00108 3.00108,-3.00108c1.65731,0 3.00108,1.34377 3.00108,3.00108c0,1.65731 -1.34377,3.00108 -3.00108,3.00108zM12.05416,-0.01221c-4.14148,0 -7.49898,3.1759 -7.49898,7.09386c0,0.15604 0.14182,2.27034 0.69328,3.22323c1.85545,4.02453 6.79824,8.46164 6.80579,8.44586c0.00677,0.02324 4.97056,-4.44019 6.81701,-8.46841c0.6445,-1.30021 0.68205,-3.1242 0.68205,-3.20068c-0.00009,-3.91719 -3.35759,-7.09386 -7.49915,-7.09386z"),o(a,"fill","#f4b459"),o(a,"fill-opacity","1"),o(s,"d","M24.00018,23.97202v0l-5.2415,-8.23289v0l-13.43152,0.01578v0l-5.27742,8.21712v0l12.03374,0.01578v0z"),o(s,"fill","#4ed5bd"),o(s,"fill-opacity","1"),o(f,"d","M24.00018,23.97202v0l-5.2415,-8.23289v0l-13.43152,0.01578v0l-5.27742,8.21712v0l12.03374,0.01578v0z"),o(f,"fill","#4ed5bd"),o(f,"fill-opacity","1"),o(d,"d","M12.05347,10.49471c-1.6574,0 -3.00108,-1.34377 -3.00108,-3.00108c0,-1.65731 1.34377,-3.00108 3.00108,-3.00108c1.65731,0 3.00108,1.34377 3.00108,3.00108c0,1.65731 -1.34377,3.00108 -3.00108,3.00108zM12.05416,-0.01221c-4.14148,0 -7.49898,3.1759 -7.49898,7.09386c0,0.15604 0.14182,2.27034 0.69328,3.22323c1.85545,4.02453 6.79824,8.46164 6.80579,8.44586c0.00677,0.02324 4.97056,-4.44019 6.81701,-8.46841c0.6445,-1.30021 0.68205,-3.1242 0.68205,-3.20068c-0.00009,-3.91719 -3.35759,-7.09386 -7.49915,-7.09386z"),o(d,"fill","#f4b459"),o(d,"fill-opacity","1"),o(c,"d","M12.05347,9.74442c-1.2432,0 -2.25088,-1.00759 -2.25088,-2.25087c0,-1.24243 1.00759,-2.25088 2.25088,-2.25088c1.24319,0 2.25088,1.00836 2.25088,2.25088c-0.00009,1.24328 -1.00768,2.25087 -2.25088,2.25087zM12.05347,3.74217c-2.07151,0 -3.75137,1.67909 -3.75137,3.75138c0,2.07306 1.67986,3.75137 3.75137,3.75137c2.07305,0 3.75137,-1.67909 3.75137,-3.75137c0,-2.07151 -1.67841,-3.75138 -3.75137,-3.75138z"),o(c,"fill","#cca032"),o(c,"fill-opacity","1"),o(u,"d","M17.30542,20.99861c-0.93857,0.41943 -2.96507,0.7623 -3.76415,0.75931c-0.68873,-0.00455 -2.78202,-0.44414 -3.73868,-0.75931c-0.09157,-0.02922 -2.68154,-1.30244 -4.50167,-1.50056c-1.89369,-0.20331 -2.25088,0 -2.25088,0v0l-0.64672,0.80876v0l-2.35359,3.66521v0l12.03374,0.01578v0l11.9167,-0.01578v0l-3.21946,-5.05536c-0.83363,0.50636 -3.31102,2.00839 -3.4753,2.08195z"),o(u,"fill","#26a6d1"),o(u,"fill-opacity","1"),o(e,"width","24"),o(e,"height","24"),o(e,"xmlns","http://www.w3.org/2000/svg"),o(e,"version","1.1"),o(e,"xmlns:xlink","http://www.w3.org/1999/xlink"),o(e,"viewBox","0 0 24 24")},m(g,p){j(g,e,p),i(e,t),i(e,n),i(e,a),i(e,s),i(e,f),i(e,d),i(e,c),i(e,u)},p:se,i:se,o:se,d(g){g&&U(e)}}}class Wa extends We{constructor(e){super(),$e(this,e,null,Ma,Se,{})}}function $a(l){let e,t,n,a,s,f,d;return a=new Vn({props:{label:l[1],labelMultipleLines:l[3]}}),{c(){e=r("label"),t=r("input"),n=m(),F(a.$$.fragment),o(t,"name",l[2]),o(t,"type","checkbox"),o(t,"class","checkbox mr-1 svelte-jv8ujr"),t.disabled=l[4],z(t,"checkbox-sm",l[6]==="sm"),z(t,"checkbox-primary",l[7]==="primary"),z(t,"checkbox-bg_map",l[7]==="bg_map"),z(t,"checkbox-work-generalwork",l[7]==="work-generalwork"),z(t,"checkbox-work-hotwork",l[7]==="work-hotwork"),z(t,"checkbox-work-confined",l[7]==="work-confined"),z(t,"checkbox-work-crane",l[7]==="work-crane"),z(t,"checkbox-work-radiation",l[7]==="work-radiation"),z(t,"checkbox-work-jackhammer",l[7]==="work-jackhammer"),z(t,"checkbox-work-highpressure",l[7]==="work-highpressure"),z(t,"checkbox-work-digging",l[7]==="work-digging"),z(t,"checkbox-work-workatheight",l[7]==="work-workatheight"),z(t,"checkbox-work-onlinestopleak",l[7]==="work-onlinestopleak"),o(e,"class","label svelte-jv8ujr"),z(e,"cursor-pointer",!l[4]),z(e,"w-full",l[5]),z(e,"justify-start",l[5])},m(c,u){j(c,e,u),i(e,t),t.checked=l[0],i(e,n),O(a,e,null),s=!0,f||(d=[kt(t,"change",l[9]),kt(t,"change",l[10])],f=!0)},p(c,[u]){(!s||u&4)&&o(t,"name",c[2]),(!s||u&16)&&(t.disabled=c[4]),u&1&&(t.checked=c[0]),u&64&&z(t,"checkbox-sm",c[6]==="sm"),u&128&&z(t,"checkbox-primary",c[7]==="primary"),u&128&&z(t,"checkbox-bg_map",c[7]==="bg_map"),u&128&&z(t,"checkbox-work-generalwork",c[7]==="work-generalwork"),u&128&&z(t,"checkbox-work-hotwork",c[7]==="work-hotwork"),u&128&&z(t,"checkbox-work-confined",c[7]==="work-confined"),u&128&&z(t,"checkbox-work-crane",c[7]==="work-crane"),u&128&&z(t,"checkbox-work-radiation",c[7]==="work-radiation"),u&128&&z(t,"checkbox-work-jackhammer",c[7]==="work-jackhammer"),u&128&&z(t,"checkbox-work-highpressure",c[7]==="work-highpressure"),u&128&&z(t,"checkbox-work-digging",c[7]==="work-digging"),u&128&&z(t,"checkbox-work-workatheight",c[7]==="work-workatheight"),u&128&&z(t,"checkbox-work-onlinestopleak",c[7]==="work-onlinestopleak");const g={};u&2&&(g.label=c[1]),u&8&&(g.labelMultipleLines=c[3]),a.$set(g),u&16&&z(e,"cursor-pointer",!c[4]),u&32&&z(e,"w-full",c[5]),u&32&&z(e,"justify-start",c[5])},i(c){s||(C(a.$$.fragment,c),s=!0)},o(c){$(a.$$.fragment,c),s=!1},d(c){c&&U(e),H(a),f=!1,Jn(d)}}}function Sa(l,e,t){let{label:n=""}=e,{name:a="checkbox"}=e,{labelMultipleLines:s=!1}=e,{disabled:f=!1}=e,{checked:d=!1}=e,{fullWidth:c=!0}=e,{size:u="normal"}=e,{color:g="primary"}=e;const p=Nt();function v(w){w.currentTarget.checked,p("change",{checked:w.currentTarget.checked})}function k(){d=this.checked,t(0,d)}const y=w=>{v(w)};return l.$$set=w=>{"label"in w&&t(1,n=w.label),"name"in w&&t(2,a=w.name),"labelMultipleLines"in w&&t(3,s=w.labelMultipleLines),"disabled"in w&&t(4,f=w.disabled),"checked"in w&&t(0,d=w.checked),"fullWidth"in w&&t(5,c=w.fullWidth),"size"in w&&t(6,u=w.size),"color"in w&&t(7,g=w.color)},[d,n,a,s,f,c,u,g,v,k,y]}class Bt extends We{constructor(e){super(),$e(this,e,Sa,$a,Se,{label:1,name:2,labelMultipleLines:3,disabled:4,checked:0,fullWidth:5,size:6,color:7})}}function Cn(l,e,t){const n=l.slice();return n[26]=e[t],n[28]=t,n}function Ln(l,e,t){const n=l.slice();return n[26]=e[t],n[29]=e,n[28]=t,n}function Mn(l,e,t){const n=l.slice();return n[26]=e[t],n[30]=e,n[31]=t,n}function Ta(l){let e=l[7].reduce(l[16],0)+"",t,n;return{c(){t=Y(e),n=Y(" Selected")},m(a,s){j(a,t,s),j(a,n,s)},p(a,s){s[0]&1&&e!==(e=a[7].reduce(a[16],0)+"")&&ee(t,e)},d(a){a&&U(t),a&&U(n)}}}function Pa(l){let e;return{c(){e=Y("All")},m(t,n){j(t,e,n)},p:se,d(t){t&&U(e)}}}function Da(l){let e=l[0].areas.length+"",t,n;return{c(){t=Y(e),n=Y(" Selected")},m(a,s){j(a,t,s),j(a,n,s)},p(a,s){s[0]&1&&e!==(e=a[0].areas.length+"")&&ee(t,e)},d(a){a&&U(t),a&&U(n)}}}function za(l){let e;return{c(){e=Y("All")},m(t,n){j(t,e,n)},p:se,d(t){t&&U(e)}}}function Wn(l){var f;let e,t,n=((f=l[2][l[26].totalField])!=null?f:0)+"",a,s;return{c(){e=r("div"),t=Y("("),a=Y(n),s=Y(")")},m(d,c){j(d,e,c),i(e,t),i(e,a),i(e,s)},p(d,c){var u;c[0]&4&&n!==(n=((u=d[2][d[26].totalField])!=null?u:0)+"")&&ee(a,n)},d(d){d&&U(e)}}}function $n(l){let e,t,n,a,s,f;function d(p){l[18](p,l[26])}function c(...p){return l[19](l[26],...p)}let u={labelMultipleLines:!0,name:l[26].field,label:l[26].label,size:"sm",color:l[26].color};l[0][l[26].field]!==void 0&&(u.checked=l[0][l[26].field]),t=new Bt({props:u}),Ie.push(()=>bt(t,"checked",d)),t.$on("change",c);let g=l[2]&&Wn(l);return{c(){e=r("div"),F(t.$$.fragment),a=m(),g&&g.c(),s=m(),o(e,"class","flex")},m(p,v){j(p,e,v),O(t,e,null),i(e,a),g&&g.m(e,null),i(e,s),f=!0},p(p,v){l=p;const k={};!n&&v[0]&129&&(n=!0,k.checked=l[0][l[26].field],wt(()=>n=!1)),t.$set(k),l[2]?g?g.p(l,v):(g=Wn(l),g.c(),g.m(e,s)):g&&(g.d(1),g=null)},i(p){f||(C(t.$$.fragment,p),f=!0)},o(p){$(t.$$.fragment,p),f=!1},d(p){p&&U(e),H(t),g&&g.d()}}}function Sn(l){let e,t,n,a,s;function f(u){l[20](u,l[26])}function d(...u){return l[21](l[26],...u)}let c={name:l[26].field,label:l[26].label,size:"sm",color:l[26].color};return l[0][l[26].field]!==void 0&&(c.checked=l[0][l[26].field]),t=new Bt({props:c}),Ie.push(()=>bt(t,"checked",f)),t.$on("change",d),{c(){e=r("div"),F(t.$$.fragment),a=m(),o(e,"class","flex")},m(u,g){j(u,e,g),O(t,e,null),i(e,a),s=!0},p(u,g){l=u;const p={};!n&&g[0]&513&&(n=!0,p.checked=l[0][l[26].field],wt(()=>n=!1)),t.$set(p)},i(u){s||(C(t.$$.fragment,u),s=!0)},o(u){$(t.$$.fragment,u),s=!1},d(u){u&&U(e),H(t)}}}function Tn(l){let e,t,n,a;function s(...f){return l[22](l[26],...f)}return t=new Bt({props:{labelMultipleLines:!0,name:l[26].field,label:l[26].label,size:"sm",color:l[26].color,checked:l[0].areas.includes(l[26].field)}}),t.$on("change",s),{c(){e=r("div"),F(t.$$.fragment),n=m(),o(e,"class","flex")},m(f,d){j(f,e,d),O(t,e,null),i(e,n),a=!0},p(f,d){l=f;const c={};d[0]&1&&(c.checked=l[0].areas.includes(l[26].field)),t.$set(c)},i(f){a||(C(t.$$.fragment,f),a=!0)},o(f){$(t.$$.fragment,f),a=!1},d(f){f&&U(e),H(t)}}}function Aa(l){let e,t,n,a,s,f,d,c,u,g,p,v,k,y,w,L,b,K,I,Z,B,V,S,R,M,W,N,ie,T,E,G,pe,de,Te,ce,Ce,Pe,ye,_e,oe,P,te,ae;a=new Wa({});function le(_,A){return _[0].allTypeOfWork?Pa:Ta}let re=le(l),he=re(l);function Ue(_,A){return A[0]&1&&(w=null),w==null&&(w=!!_[0].areas.includes("all")),w?za:Da}let ue=Ue(l,[-1,-1]),ne=ue(l),ve=l[7],q=[];for(let _=0;_<ve.length;_+=1)q[_]=$n(Mn(l,ve,_));const ke=_=>$(q[_],1,1,()=>{q[_]=null});let De=l[9],Q=[];for(let _=0;_<De.length;_+=1)Q[_]=Sn(Ln(l,De,_));const He=_=>$(Q[_],1,1,()=>{Q[_]=null});let x=l[8],X=[];for(let _=0;_<x.length;_+=1)X[_]=Tn(Cn(l,x,_));const Fe=_=>$(X[_],1,1,()=>{X[_]=null});return oe=new yt({props:{primary:!0,isButton:!0,isLoading:l[1],icon:"ic-search",label:"Search",classes:"w-full"}}),oe.$on("click",l[10]),{c(){e=r("div"),t=r("div"),n=r("div"),F(a.$$.fragment),s=m(),f=r("div"),d=r("div"),d.textContent="Type of Work",c=m(),u=r("div"),he.c(),g=m(),p=r("div"),v=r("div"),v.textContent="Area",k=m(),y=r("div"),ne.c(),L=m(),b=Ae("svg"),K=Ae("g"),I=Ae("path"),Z=m(),B=r("div"),V=r("div"),S=r("div"),R=r("div"),R.textContent="Type of Work",M=m(),W=r("div");for(let _=0;_<q.length;_+=1)q[_].c();N=m(),ie=r("br"),T=m(),E=r("div"),G=r("div"),G.textContent="Work Clearance Status",pe=m(),de=r("div");for(let _=0;_<Q.length;_+=1)Q[_].c();Te=m(),ce=r("div"),Ce=r("div"),Ce.textContent="Area",Pe=m(),ye=r("div");for(let _=0;_<X.length;_+=1)X[_].c();_e=m(),F(oe.$$.fragment),o(n,"class","w-6 rounded-xl bg-filter-icon-bg"),o(t,"class","avatar placeholder mr-2"),o(d,"class","text-secondary"),o(u,"class","text-primary font-weight-bold"),o(f,"class","flex-1"),o(v,"class","text-secondary"),o(y,"class","text-primary font-weight-bold"),o(p,"class","_area-wrapper svelte-9ls73m"),o(I,"d","M-2.0009,3.50017v0c0,0 6.43018,6.11523 6,6c-0.43018,-0.11523 6,-6 6,-6v0"),o(I,"fill-opacity","0"),o(I,"fill","#ffffff"),o(I,"stroke-dashoffset","0"),o(I,"stroke-linejoin","miter"),o(I,"stroke-linecap","round"),o(I,"stroke-opacity","1"),o(I,"stroke","#747474"),o(I,"stroke-miterlimit","20"),o(I,"stroke-width","1"),o(K,"transform","rotate(-90 4 6.5)"),o(b,"class","_chevron svelte-9ls73m"),o(b,"width","8"),o(b,"height","13"),o(b,"xmlns","http://www.w3.org/2000/svg"),o(b,"version","1.1"),o(b,"xmlns:xlink","http://www.w3.org/1999/xlink"),o(b,"viewBox","0 0 8 13"),z(b,"_is-collapsed",l[3]),o(e,"class","_filter-head svelte-9ls73m"),o(R,"class","text-secondary mb-2"),o(W,"class","space-y-2"),o(G,"class","text-secondary mb-2"),o(de,"class","space-y-2"),o(E,"class","mt-2"),o(S,"class","flex-1 pr-6"),o(Ce,"class","text-secondary mb-2"),o(ye,"class","space-y-2"),o(ce,"class","_area-wrapper svelte-9ls73m"),o(V,"class","flex text-gray-600 mb-3 _checkbox-wrapper svelte-9ls73m"),o(B,"class","_filter-content svelte-9ls73m"),z(B,"invisible",!l[4]),z(B,"_is-collapsed",l[3]),_n(B,"height",l[6]===void 0?"auto":`${l[6]}px`,!1)},m(_,A){j(_,e,A),i(e,t),i(t,n),O(a,n,null),i(e,s),i(e,f),i(f,d),i(f,c),i(f,u),he.m(u,null),i(e,g),i(e,p),i(p,v),i(p,k),i(p,y),ne.m(y,null),i(e,L),i(e,b),i(b,K),i(K,I),j(_,Z,A),j(_,B,A),i(B,V),i(V,S),i(S,R),i(S,M),i(S,W);for(let fe=0;fe<q.length;fe+=1)q[fe].m(W,null);i(S,N),i(S,ie),i(S,T),i(S,E),i(E,G),i(E,pe),i(E,de);for(let fe=0;fe<Q.length;fe+=1)Q[fe].m(de,null);i(V,Te),i(V,ce),i(ce,Ce),i(ce,Pe),i(ce,ye);for(let fe=0;fe<X.length;fe+=1)X[fe].m(ye,null);i(B,_e),O(oe,B,null),l[23](B),P=!0,te||(ae=kt(e,"click",l[17]),te=!0)},p(_,A){if(re===(re=le(_))&&he?he.p(_,A):(he.d(1),he=re(_),he&&(he.c(),he.m(u,null))),ue===(ue=Ue(_,A))&&ne?ne.p(_,A):(ne.d(1),ne=ue(_),ne&&(ne.c(),ne.m(y,null))),A[0]&8&&z(b,"_is-collapsed",_[3]),A[0]&133){ve=_[7];let D;for(D=0;D<ve.length;D+=1){const ze=Mn(_,ve,D);q[D]?(q[D].p(ze,A),C(q[D],1)):(q[D]=$n(ze),q[D].c(),C(q[D],1),q[D].m(W,null))}for(qe(),D=ve.length;D<q.length;D+=1)ke(D);Je()}if(A[0]&513){De=_[9];let D;for(D=0;D<De.length;D+=1){const ze=Ln(_,De,D);Q[D]?(Q[D].p(ze,A),C(Q[D],1)):(Q[D]=Sn(ze),Q[D].c(),C(Q[D],1),Q[D].m(de,null))}for(qe(),D=De.length;D<Q.length;D+=1)He(D);Je()}if(A[0]&257){x=_[8];let D;for(D=0;D<x.length;D+=1){const ze=Cn(_,x,D);X[D]?(X[D].p(ze,A),C(X[D],1)):(X[D]=Tn(ze),X[D].c(),C(X[D],1),X[D].m(ye,null))}for(qe(),D=x.length;D<X.length;D+=1)Fe(D);Je()}const fe={};A[0]&2&&(fe.isLoading=_[1]),oe.$set(fe),A[0]&16&&z(B,"invisible",!_[4]),A[0]&8&&z(B,"_is-collapsed",_[3]),A[0]&64&&_n(B,"height",_[6]===void 0?"auto":`${_[6]}px`,!1)},i(_){if(!P){C(a.$$.fragment,_);for(let A=0;A<ve.length;A+=1)C(q[A]);for(let A=0;A<De.length;A+=1)C(Q[A]);for(let A=0;A<x.length;A+=1)C(X[A]);C(oe.$$.fragment,_),P=!0}},o(_){$(a.$$.fragment,_),q=q.filter(Boolean);for(let A=0;A<q.length;A+=1)$(q[A]);Q=Q.filter(Boolean);for(let A=0;A<Q.length;A+=1)$(Q[A]);X=X.filter(Boolean);for(let A=0;A<X.length;A+=1)$(X[A]);$(oe.$$.fragment,_),P=!1},d(_){_&&U(e),H(a),he.d(),ne.d(),_&&U(Z),_&&U(B),ql(q,_),ql(Q,_),ql(X,_),H(oe),l[23](null),te=!1,ae()}}}function Ia(l){let e,t,n;return t=new Fl({props:{cardBg:"bg-transparent",$$slots:{default:[Aa]},$$scope:{ctx:l}}}),{c(){e=r("div"),F(t.$$.fragment),o(e,"class","_filter-container svelte-9ls73m")},m(a,s){j(a,e,s),O(t,e,null),n=!0},p(a,s){const f={};s[0]&127|s[1]&2&&(f.$$scope={dirty:s,ctx:a}),t.$set(f)},i(a){n||(C(t.$$.fragment,a),n=!0)},o(a){$(t.$$.fragment,a),n=!1},d(a){a&&U(e),H(t)}}}function Fa(l,e,t){let n,{getFilter:a}=e,{filter:s}=e,{isLoading:f=!1}=e,{typeOfWorkCount:d}=e,{mapHeight:c}=e,u,g=!1,p=!1,v,k,y;const w=[{label:"All",color:"bg_map",field:"allTypeOfWork",totalField:"allCount"},{label:"\u0E07\u0E32\u0E19\u0E17\u0E31\u0E48\u0E27\u0E44\u0E1B",color:"work-generalwork",field:"generalWork",totalField:"generalCount"},{label:"Hot Work",color:"work-hotwork",field:"hotWork",totalField:"hotWorkCount"},{label:"Confined Space",color:"work-confined",field:"confinedSpace",totalField:"confinedSpaceCount"},{label:"Crane/Lifting",color:"work-crane",field:"craneLifting",totalField:"craneCount"},{label:"Radiation",color:"work-radiation",field:"radiation",totalField:"radiationCount"},{label:"Jack hammer",color:"work-jackhammer",field:"jackHammer",totalField:"jackHammerCount"},{label:"High Pressure Water Jet",color:"work-highpressure",field:"highPressureWaterJet",totalField:"highPressureWaterJetCount"},{label:"Digging",color:"work-digging",field:"digging",totalField:"diggingCount"},{label:"Work at Height",color:"work-workatheight",field:"workAtHeight",totalField:"workAtHeightCount"},{label:"Online Stop Leak",color:"work-onlinestopleak",field:"onlineStopLeak",totalField:"onlineStopLeakCount"},{label:"Non Type Of Work",color:"bg_map",field:"nonTypeOfWork",totalField:"nonTypeOfWorkCount"}];let L=[{label:"All",color:"bg_map",field:"all"}];const b=[{label:"All",color:"bg_map",field:"allStatus"},{label:"Created",color:"bg_map",field:"createdStatus"},{label:"In Progress",color:"bg_map",field:"inProgressStatus"}];Rt(()=>{Et.GetAreas({filter:a()}).then(T=>{t(0,s.areas=["all",...T],s),L.push(...T.map(E=>({label:E,color:"bg_map",field:E}))),Z(),setTimeout(()=>{t(14,k=v.clientHeight),t(15,y=k>c-24-60?c-24-60:k),t(4,p=!0),t(3,g=!0)},200)})});const K=Nt();function I(){K("search")}function Z(){K("loadedArea")}const B=(T,E,G)=>T+(G===0?0:s[E.field]?1:0),V=()=>t(3,g=!g);function S(T,E){l.$$.not_equal(s[E.field],T)&&(s[E.field]=T,t(0,s))}const R=(T,{detail:{checked:E}})=>{T.field==="allTypeOfWork"?w.forEach(G=>{t(0,s[G.field]=E,s)}):w.every((G,pe)=>pe===0||s[G.field])?t(0,s.allTypeOfWork=!0,s):t(0,s.allTypeOfWork=!1,s)};function M(T,E){l.$$.not_equal(s[E.field],T)&&(s[E.field]=T,t(0,s))}const W=(T,{detail:{checked:E}})=>{T.field==="allStatus"?b.forEach(G=>{t(0,s[G.field]=E,s)}):b.every((G,pe)=>pe===0||s[G.field])?t(0,s.allStatus=!0,s):t(0,s.allStatus=!1,s)},N=(T,{detail:{checked:E}})=>{T.field==="all"?E?t(0,s.areas=L.map(G=>G.field),s):t(0,s.areas=[],s):(E?t(0,s.areas=[...s.areas,T.field],s):t(0,s.areas=s.areas.filter(G=>G!==T.field),s),L.length-1===s.areas.filter(G=>G!=="all").length?t(0,s.areas=[...s.areas,"all"],s):t(0,s.areas=s.areas.filter(G=>G!=="all"),s))};function ie(T){Ie[T?"unshift":"push"](()=>{v=T,t(5,v)})}return l.$$set=T=>{"getFilter"in T&&t(11,a=T.getFilter),"filter"in T&&t(0,s=T.filter),"isLoading"in T&&t(1,f=T.isLoading),"typeOfWorkCount"in T&&t(2,d=T.typeOfWorkCount),"mapHeight"in T&&t(12,c=T.mapHeight)},l.$$.update=()=>{l.$$.dirty[0]&28688&&c!==u&&(t(13,u=c),p&&(t(15,y=k>c-24-60?c-24-60:k),t(3,g=!0))),l.$$.dirty[0]&32792&&t(6,n=g?0:p?y:void 0)},[s,f,d,g,p,v,n,w,L,b,I,a,c,u,k,y,B,V,S,R,M,W,N,ie]}class Oa extends We{constructor(e){super(),$e(this,e,Fa,Ia,Se,{getFilter:11,filter:0,isLoading:1,typeOfWorkCount:2,mapHeight:12},null,[-1,-1])}}function Ha(l){let e;return{c(){e=r("div"),o(e,"class","divider svelte-1xfql89")},m(t,n){j(t,e,n)},p:se,i:se,o:se,d(t){t&&U(e)}}}class jt extends We{constructor(e){super(),$e(this,e,null,Ha,Se,{})}}function Ua(l){let e,t,n;return{c(){e=r("input"),o(e,"class","input svelte-1kq28vq"),e.value=l[0],o(e,"type",l[6]),o(e,"name",l[7]),e.readOnly=l[4],e.disabled=l[5],z(e,"input-form",l[3])},m(a,s){j(a,e,s),l[13](e),t||(n=kt(e,"input",l[10]),t=!0)},p(a,s){s&1&&e.value!==a[0]&&(e.value=a[0]),s&64&&o(e,"type",a[6]),s&128&&o(e,"name",a[7]),s&16&&(e.readOnly=a[4]),s&32&&(e.disabled=a[5]),s&8&&z(e,"input-form",a[3])},d(a){a&&U(e),l[13](null),t=!1,n()}}}function ja(l){let e,t,n,a,s;n=new Vn({props:{label:l[1]}});const f=l[12].default,d=Bn(f,l,l[11],null),c=d||Ua(l);return{c(){e=r("div"),t=r("label"),F(n.$$.fragment),a=m(),c&&c.c(),o(t,"class","label items-start svelte-1kq28vq"),z(t,"gap-1",l[1]),z(t,"flex-col",!l[2]),z(t,"cursor-pointer",!l[5]&&!l[4]),z(t,"flex-row-reverse",l[2]&&l[8]==="right"),o(e,"class","form-control w-full")},m(u,g){j(u,e,g),i(e,t),O(n,t,null),i(t,a),c&&c.m(t,null),s=!0},p(u,[g]){const p={};g&2&&(p.label=u[1]),n.$set(p),d?d.p&&(!s||g&2048)&&Rn(d,f,u,u[11],s?Gn(f,u[11],g,null):Nn(u[11]),null):c&&c.p&&(!s||g&761)&&c.p(u,s?g:-1),g&2&&z(t,"gap-1",u[1]),g&4&&z(t,"flex-col",!u[2]),g&48&&z(t,"cursor-pointer",!u[5]&&!u[4]),g&260&&z(t,"flex-row-reverse",u[2]&&u[8]==="right")},i(u){s||(C(n.$$.fragment,u),C(c,u),s=!0)},o(u){$(n.$$.fragment,u),$(c,u),s=!1},d(u){u&&U(e),H(n),c&&c.d(u)}}}function Ea(l,e,t){let{$$slots:n={},$$scope:a}=e,{label:s=""}=e,{value:f=""}=e,{isHorizontal:d=!1}=e,{isForm:c=!1}=e,{readonly:u=!1}=e,{disabled:g=!1}=e,{type:p="text"}=e,{name:v=""}=e,{labelPlacing:k="left"}=e,y;const w=b=>{t(0,f=b.target.value)};function L(b){Ie[b?"unshift":"push"](()=>{y=b,t(9,y)})}return l.$$set=b=>{"label"in b&&t(1,s=b.label),"value"in b&&t(0,f=b.value),"isHorizontal"in b&&t(2,d=b.isHorizontal),"isForm"in b&&t(3,c=b.isForm),"readonly"in b&&t(4,u=b.readonly),"disabled"in b&&t(5,g=b.disabled),"type"in b&&t(6,p=b.type),"name"in b&&t(7,v=b.name),"labelPlacing"in b&&t(8,k=b.labelPlacing),"$$scope"in b&&t(11,a=b.$$scope)},[f,s,d,c,u,g,p,v,k,y,w,a,n,L]}class Oe extends We{constructor(e){super(),$e(this,e,Ea,ja,Se,{label:1,value:0,isHorizontal:2,isForm:3,readonly:4,disabled:5,type:6,name:7,labelPlacing:8})}}function Jl(l){var n,a;const e=l.slice(),t=((n=e[1].workClearanceStatus)==null?void 0:n.key)===_t.WorkClearanceStatus.Created||((a=e[1].workClearanceStatus)==null?void 0:a.key)===_t.WorkClearanceStatus.InProgress;return e[7]=t,e}function Pn(l){var Vi,Xi,Yi,Ki,Qi;let e,t,n,a,s,f,d,c,u,g,p,v,k,y,w,L,b,K,I=l[1].latitude+"",Z,B,V,S,R,M,W=l[1].longitude+"",N,ie,T,E,G,pe,de,Te,ce,Ce=((Vi=l[1].userStatus)!=null&&Vi.value?(Xi=l[1].userStatus)==null?void 0:Xi.value:"-")+"",Pe,ye,_e,oe,P,te,ae,le=((Yi=l[1].highRiskWork)!=null&&Yi.value?(Ki=l[1].highRiskWork)==null?void 0:Ki.value:"-")+"",re,he,Ue,ue,ne,ve,q,ke,De,Q,He=l[1].description+"",x,X,Fe,_,A,fe,D=(l[1].mainWorkCenterText||"-")+"",ze,Zl,at,xl,Gt,Ct,qt,ei,Jt,Vt=(l[1].workDetail||"-")+"",Ol,ti,st,li,ot,Xt,ii,je,Ve,ni,Xe,ai,Ye,si,rt,Yt,oi,be,Kt,ri,Qt,Ke,fi,Ee,Be,Zt,di,xt,Qe,ci,el,ui,Re,tl,gi,ll,Ze,mi,il,pi,Ne,nl,hi,al,xe,vi,sl,_i,ft,ol,ki,rl,fl=(l[1].agtUI||"-")+"",Hl,bi,dt,Lt,dl,wi,Mt,cl,yi,ul,gl=l[3](l[1].checkDateUI)+"",Ul,Ci,Wt,jl,Li,$t,ml,Mi,pl,hl=Il(l[1].checkTimeUI)+"",El,Wi,ct,vl,$i,_l,kl=(l[1].authorizedSignatoryUI||"-")+"",Bl,Si,ut,St,bl,Ti,Tt,wl,Pi,yl,Cl=l[3](l[1].authorizedDateUI)+"",Rl,Di,Pt,Nl,zi,Dt,Ll,Ai,Ml,Wl=Il(l[1].authorizedTimeUI)+"",Gl,Ii,zt,gt,$l,Fi,Ge,et,Oi,At,Sl,Hi,It,Ui,mt,Ft,Tl,ji,tt,Ei,Ot,Pl,Bi,lt,Ri,pt,Dl,Ni,ht,Ht,zl,Gi,it,qi,Ut,Al,Ji,nt,ge;c=new aa({props:{label:l[1].name}});let me=l[7]&&Dn(l);v=new jt({}),T=new jt({});let Le=((Qi=l[1].highRiskWork)==null?void 0:Qi.key)&&zn(l);ue=new jt({}),at=new jt({}),st=new jt({}),Ve=new Oe({props:{label:"safety Permit 1",name:"safetyPermit1",value:l[1].safetyPermit1,readonly:!0}}),Xe=new Oe({props:{label:"safety Permit 2",name:"safetyPermit2",value:l[1].safetyPermit2,readonly:!0}}),Ye=new Oe({props:{label:"safety Permit 3",name:"safetyPermit3",value:l[1].safetyPermit3,readonly:!0}}),Ke=new Bt({props:{label:"\u0E44\u0E21\u0E48\u0E15\u0E49\u0E2D\u0E07\u0E15\u0E23\u0E27\u0E08\u0E27\u0E31\u0E14",checked:l[1].isCheckingGas,disabled:!0}}),Qe=new Oe({props:{name:"flamableAmt",value:typeof l[1].flamableAmt=="number"?l[1].flamableAmt.toFixed(2):"",readonly:!0}}),Ze=new Oe({props:{name:"oxygenAmt",value:typeof l[1].oxygenAmt=="number"?l[1].oxygenAmt.toFixed(2):"",readonly:!0}}),xe=new Oe({props:{name:"toxicPPM",value:typeof l[1].toxicPPM=="number"?l[1].toxicPPM.toFixed(2):"",readonly:!0}}),et=new Bt({props:{label:"\u0E02\u0E22\u0E32\u0E22\u0E40\u0E27\u0E25\u0E32",checked:l[1].extendTimeFlagFormula,disabled:!0}});let Me=l[1].extendTimeToUI&&An(l);return tt=new Oe({props:{name:"extendApplicantOrBearerUI",value:l[1].extendApplicantOrBearerUI,readonly:!0}}),lt=new Oe({props:{name:"extendAuthorizedSignUI",value:l[1].extendAuthorizedSignUI,readonly:!0}}),it=new Oe({props:{name:"closeApplicantOrBearerUI",value:l[1].closeApplicantOrBearerUI,readonly:!0}}),nt=new Oe({props:{name:"closeAuthorizedSignOffUI",value:l[1].closeAuthorizedSignOffUI,readonly:!0}}),{c(){e=r("div"),t=r("div"),n=r("div"),a=r("div"),s=r("span"),s.textContent="Clearance No. :",f=m(),d=r("a"),F(c.$$.fragment),g=m(),me&&me.c(),p=m(),F(v.$$.fragment),k=m(),y=r("div"),w=r("div"),L=r("div"),L.textContent="Latitude (\u0E25\u0E30\u0E15\u0E34\u0E08\u0E39\u0E14)",b=m(),K=r("div"),Z=Y(I),B=m(),V=r("div"),S=r("div"),S.textContent="Longitude (\u0E25\u0E2D\u0E07\u0E08\u0E34\u0E08\u0E39\u0E14)",R=m(),M=r("div"),N=Y(W),ie=m(),F(T.$$.fragment),E=m(),G=r("div"),pe=r("div"),de=r("div"),de.textContent="User Status",Te=m(),ce=r("div"),Pe=Y(Ce),ye=m(),_e=r("div"),oe=r("div"),P=r("div"),P.textContent="Type of Work",te=m(),ae=r("div"),re=Y(le),he=m(),Le&&Le.c(),Ue=m(),F(ue.$$.fragment),ne=m(),ve=r("div"),q=r("div"),ke=r("div"),ke.textContent="Functional Location",De=m(),Q=r("div"),x=Y(He),X=m(),Fe=r("div"),_=r("div"),_.textContent="Area (\u0E1E\u0E37\u0E49\u0E19\u0E17\u0E35\u0E48\u0E1B\u0E0F\u0E34\u0E1A\u0E31\u0E15\u0E34\u0E07\u0E32\u0E19)",A=m(),fe=r("div"),ze=Y(D),Zl=m(),F(at.$$.fragment),xl=m(),Gt=r("div"),Ct=r("div"),qt=r("div"),qt.textContent="Work Detail",ei=m(),Jt=r("div"),Ol=Y(Vt),ti=m(),F(st.$$.fragment),li=m(),ot=r("div"),Xt=r("div"),Xt.textContent="Safety Permit (\u0E43\u0E1A\u0E23\u0E31\u0E1A\u0E23\u0E2D\u0E07\u0E04\u0E27\u0E32\u0E21\u0E1B\u0E25\u0E2D\u0E14\u0E20\u0E31\u0E22)",ii=m(),je=r("div"),F(Ve.$$.fragment),ni=m(),F(Xe.$$.fragment),ai=m(),F(Ye.$$.fragment),si=m(),rt=r("div"),Yt=r("div"),Yt.textContent="\u0E1C\u0E25\u0E01\u0E32\u0E23\u0E15\u0E23\u0E27\u0E08\u0E27\u0E31\u0E14\u0E01\u0E4A\u0E32\u0E0B",oi=m(),be=r("div"),Kt=r("div"),Kt.textContent="(\u0E17\u0E33\u0E01\u0E32\u0E23\u0E15\u0E23\u0E27\u0E08\u0E27\u0E31\u0E14\u0E1B\u0E23\u0E34\u0E21\u0E32\u0E13\u0E01\u0E4A\u0E32\u0E0B\u0E01\u0E48\u0E2D\u0E19\u0E01\u0E32\u0E23\u0E1B\u0E0F\u0E34\u0E1A\u0E31\u0E15\u0E34\u0E07\u0E32\u0E19\u0E17\u0E38\u0E01\u0E04\u0E23\u0E31\u0E49\u0E07\u0E40\u0E1E\u0E37\u0E48\u0E2D\u0E04\u0E27\u0E32\u0E21\u0E1B\u0E25\u0E2D\u0E14\u0E20\u0E31\u0E22)",ri=m(),Qt=r("div"),F(Ke.$$.fragment),fi=m(),Ee=r("div"),Be=r("div"),Zt=r("div"),Zt.textContent="\u0E2A\u0E32\u0E23\u0E44\u0E27\u0E44\u0E1F (Flammable gas) :",di=m(),xt=r("div"),F(Qe.$$.fragment),ci=m(),el=r("div"),el.textContent="% LEL",ui=m(),Re=r("div"),tl=r("div"),tl.textContent="\u0E2D\u0E2D\u0E01\u0E0B\u0E34\u0E40\u0E08\u0E19 (Oxygen) :",gi=m(),ll=r("div"),F(Ze.$$.fragment),mi=m(),il=r("div"),il.textContent="%VOL.",pi=m(),Ne=r("div"),nl=r("div"),nl.textContent="\u0E2A\u0E32\u0E23\u0E1E\u0E34\u0E29 (Toxic gas) \u0E23\u0E30\u0E1A\u0E38\u0E0A\u0E19\u0E34\u0E14 :",hi=m(),al=r("div"),F(xe.$$.fragment),vi=m(),sl=r("div"),sl.textContent="PPM.",_i=m(),ft=r("div"),ol=r("div"),ol.textContent="\u0E1C\u0E39\u0E49\u0E17\u0E33\u0E01\u0E32\u0E23\u0E15\u0E23\u0E27\u0E08\u0E27\u0E31\u0E14\u0E01\u0E4A\u0E32\u0E0B (AGT/Indicator)",ki=m(),rl=r("div"),Hl=Y(fl),bi=m(),dt=r("div"),Lt=r("div"),dl=r("div"),dl.textContent="\u0E27\u0E31\u0E19\u0E17\u0E35\u0E48/\u0E40\u0E27\u0E25\u0E32 \u0E01\u0E32\u0E23\u0E15\u0E23\u0E27\u0E08\u0E27\u0E31\u0E14\u0E01\u0E4A\u0E32\u0E0B",wi=m(),Mt=r("div"),cl=r("span"),cl.textContent="Date (\u0E27\u0E31\u0E19\u0E17\u0E35\u0E48) :",yi=m(),ul=r("span"),Ul=Y(gl),Ci=m(),Wt=r("div"),jl=r("div"),Li=m(),$t=r("div"),ml=r("span"),ml.textContent="Time (\u0E40\u0E27\u0E25\u0E32) :",Mi=m(),pl=r("span"),El=Y(hl),Wi=m(),ct=r("div"),vl=r("div"),vl.textContent="\u0E1C\u0E39\u0E49\u0E2D\u0E19\u0E38\u0E0D\u0E32\u0E15\u0E43\u0E2B\u0E49\u0E1B\u0E0F\u0E34\u0E1A\u0E31\u0E15\u0E34\u0E07\u0E32\u0E19 (Authorized Signatory/Indicator)",$i=m(),_l=r("div"),Bl=Y(kl),Si=m(),ut=r("div"),St=r("div"),bl=r("div"),bl.textContent="\u0E27\u0E31\u0E19\u0E17\u0E35\u0E48/\u0E40\u0E27\u0E25\u0E32 \u0E43\u0E2B\u0E49\u0E1B\u0E0F\u0E34\u0E1A\u0E31\u0E15\u0E34\u0E07\u0E32\u0E19",Ti=m(),Tt=r("div"),wl=r("span"),wl.textContent="Date (\u0E27\u0E31\u0E19\u0E17\u0E35\u0E48) :",Pi=m(),yl=r("span"),Rl=Y(Cl),Di=m(),Pt=r("div"),Nl=r("div"),zi=m(),Dt=r("div"),Ll=r("span"),Ll.textContent="Time (\u0E40\u0E27\u0E25\u0E32) :",Ai=m(),Ml=r("span"),Gl=Y(Wl),Ii=m(),zt=r("div"),gt=r("div"),$l=r("div"),$l.textContent="\u0E01\u0E32\u0E23\u0E02\u0E22\u0E32\u0E22\u0E40\u0E27\u0E25\u0E32\u0E43\u0E19\u0E01\u0E32\u0E23\u0E17\u0E33\u0E07\u0E32\u0E19\u0E40\u0E01\u0E34\u0E19 16:30 \u0E19. (Extending Time)",Fi=m(),Ge=r("div"),F(et.$$.fragment),Oi=m(),At=r("div"),Sl=r("div"),Sl.textContent="Extending Time (\u0E02\u0E2D\u0E02\u0E22\u0E32\u0E22\u0E40\u0E27\u0E25\u0E32\u0E16\u0E36\u0E07)",Hi=m(),It=r("div"),Me&&Me.c(),Ui=m(),mt=r("div"),Ft=r("div"),Tl=r("div"),Tl.textContent="\u0E1C\u0E39\u0E49\u0E02\u0E2D\u0E02\u0E22\u0E32\u0E22\u0E40\u0E27\u0E25\u0E32 (Applicant or Bearer)",ji=m(),F(tt.$$.fragment),Ei=m(),Ot=r("div"),Pl=r("div"),Pl.textContent="\u0E1C\u0E39\u0E49\u0E2D\u0E19\u0E38\u0E0D\u0E32\u0E15\u0E43\u0E2B\u0E49\u0E02\u0E22\u0E32\u0E22\u0E40\u0E27\u0E25\u0E32 (Extend Authorized Sign)",Bi=m(),F(lt.$$.fragment),Ri=m(),pt=r("div"),Dl=r("div"),Dl.textContent="\u0E01\u0E32\u0E23\u0E1B\u0E34\u0E14\u0E07\u0E32\u0E19 (Sign Off)",Ni=m(),ht=r("div"),Ht=r("div"),zl=r("div"),zl.textContent="\u0E1C\u0E39\u0E49\u0E02\u0E2D\u0E1B\u0E34\u0E14\u0E07\u0E32\u0E19 (Applicant or Bearer)",Gi=m(),F(it.$$.fragment),qi=m(),Ut=r("div"),Al=r("div"),Al.textContent="\u0E1C\u0E39\u0E49\u0E2D\u0E19\u0E38\u0E0D\u0E32\u0E15\u0E43\u0E2B\u0E49\u0E1B\u0E34\u0E14\u0E07\u0E32\u0E19 (Authorized Signatory)",Ji=m(),F(nt.$$.fragment),o(s,"class","font-weight-bold mr-2"),o(d,"href",u=l[1].link),o(d,"target","_blank"),o(a,"class","text-size-xlarge"),o(n,"class","flex items-center"),z(n,"justify-between",l[7]),z(n,"justify-center",!l[7]),o(L,"class","font-weight-bold"),o(K,"class","text-primary"),o(S,"class","font-weight-bold"),o(M,"class","text-primary"),o(y,"class","columns-2 px-1"),o(de,"class","font-weight-bold"),o(ce,"class","text-primary"),o(P,"class","font-weight-bold"),o(ae,"class","text-primary"),o(_e,"class","flex items-end justify-between"),o(G,"class","columns-2 px-1"),o(ke,"class","font-weight-bold"),o(Q,"class","text-primary"),o(_,"class","font-weight-bold"),o(fe,"class","text-primary"),o(ve,"class","columns-2 px-1"),o(qt,"class","font-weight-bold"),o(Jt,"class","text-primary"),o(Gt,"class","columns-1 px-1"),o(Xt,"class","font-weight-bold mb-2"),o(je,"class","columns-3"),o(ot,"class","px-1"),o(Yt,"class","bg-header-bg-1 py-1 px-1.5 mb-1.5 rounded-md font-weight-bold"),o(Kt,"class","mb-1.5"),o(Qt,"class","pl-1 mb-2"),o(Zt,"class","col-span-6 flex items-center"),o(xt,"class","col-span-4"),o(el,"class","col-span-2 flex items-center"),o(Be,"class","grid grid-cols-12 space-x-1"),o(tl,"class","col-span-6 flex items-center"),o(ll,"class","col-span-4"),o(il,"class","col-span-2 flex items-center"),o(Re,"class","grid grid-cols-12 space-x-1"),o(nl,"class","col-span-6 flex items-center"),o(al,"class","col-span-4"),o(sl,"class","col-span-2 flex items-center"),o(Ne,"class","grid grid-cols-12 space-x-1"),o(Ee,"class","pl-1 space-y-1 mb-3"),o(ol,"class","font-weight-bold"),o(rl,"class","text-primary"),o(ft,"class","px-1 mb-2"),o(dl,"class","font-weight-bold"),o(cl,"class","mr-1"),o(ul,"class","text-primary"),o(jl,"class","h-3"),o(ml,"class","mr-1"),o(pl,"class","text-primary"),o(dt,"class","columns-2 px-1 mb-2"),o(vl,"class","font-weight-bold"),o(_l,"class","text-primary"),o(ct,"class","px-1 mb-2"),o(bl,"class","font-weight-bold"),o(wl,"class","mr-1"),o(yl,"class","text-primary"),o(Nl,"class","h-3"),o(Ll,"class","mr-1"),o(Ml,"class","text-primary"),o(ut,"class","columns-2 px-1 mb-2"),o(be,"class","px-1"),o(rt,"class","bg-card-bg-1 px-1 pt-1 pb-2"),o($l,"class","bg-header-bg-2 py-1 px-1.5 mb-2 rounded-md font-weight-bold"),o(Sl,"class","font-weight-bold mb-1"),o(It,"class","input text-size-medium leading-loose flex gap-1 _extending-time svelte-1a5zva3"),o(Tl,"class","font-weight-bold mb-1"),o(Pl,"class","font-weight-bold mb-1"),o(mt,"class","columns-2"),o(Ge,"class","pl-1 space-y-2"),o(gt,"class","bg-card-bg-2 px-1 pt-1 pb-2"),o(Dl,"class","bg-header-bg-3 py-1 px-1.5 mb-1.5 rounded-md font-weight-bold"),o(zl,"class","font-weight-bold mb-1"),o(Al,"class","font-weight-bold mb-1"),o(ht,"class","columns-2 px-1"),o(pt,"class","bg-card-bg-3 px-1 pt-1 pb-2"),o(e,"class","grid grid-cols-1 px-1 pt-5 pb-2 gap-2 desktop:grid-cols-3 desktop:px-3")},m(h,J){j(h,e,J),i(e,t),i(t,n),i(n,a),i(a,s),i(a,f),i(a,d),O(c,d,null),i(n,g),me&&me.m(n,null),i(t,p),O(v,t,null),i(t,k),i(t,y),i(y,w),i(w,L),i(w,b),i(w,K),i(K,Z),i(y,B),i(y,V),i(V,S),i(V,R),i(V,M),i(M,N),i(t,ie),O(T,t,null),i(t,E),i(t,G),i(G,pe),i(pe,de),i(pe,Te),i(pe,ce),i(ce,Pe),i(G,ye),i(G,_e),i(_e,oe),i(oe,P),i(oe,te),i(oe,ae),i(ae,re),i(_e,he),Le&&Le.m(_e,null),i(t,Ue),O(ue,t,null),i(t,ne),i(t,ve),i(ve,q),i(q,ke),i(q,De),i(q,Q),i(Q,x),i(ve,X),i(ve,Fe),i(Fe,_),i(Fe,A),i(Fe,fe),i(fe,ze),i(t,Zl),O(at,t,null),i(t,xl),i(t,Gt),i(Gt,Ct),i(Ct,qt),i(Ct,ei),i(Ct,Jt),i(Jt,Ol),i(t,ti),O(st,t,null),i(t,li),i(t,ot),i(ot,Xt),i(ot,ii),i(ot,je),O(Ve,je,null),i(je,ni),O(Xe,je,null),i(je,ai),O(Ye,je,null),i(e,si),i(e,rt),i(rt,Yt),i(rt,oi),i(rt,be),i(be,Kt),i(be,ri),i(be,Qt),O(Ke,Qt,null),i(be,fi),i(be,Ee),i(Ee,Be),i(Be,Zt),i(Be,di),i(Be,xt),O(Qe,xt,null),i(Be,ci),i(Be,el),i(Ee,ui),i(Ee,Re),i(Re,tl),i(Re,gi),i(Re,ll),O(Ze,ll,null),i(Re,mi),i(Re,il),i(Ee,pi),i(Ee,Ne),i(Ne,nl),i(Ne,hi),i(Ne,al),O(xe,al,null),i(Ne,vi),i(Ne,sl),i(be,_i),i(be,ft),i(ft,ol),i(ft,ki),i(ft,rl),i(rl,Hl),i(be,bi),i(be,dt),i(dt,Lt),i(Lt,dl),i(Lt,wi),i(Lt,Mt),i(Mt,cl),i(Mt,yi),i(Mt,ul),i(ul,Ul),i(dt,Ci),i(dt,Wt),i(Wt,jl),i(Wt,Li),i(Wt,$t),i($t,ml),i($t,Mi),i($t,pl),i(pl,El),i(be,Wi),i(be,ct),i(ct,vl),i(ct,$i),i(ct,_l),i(_l,Bl),i(be,Si),i(be,ut),i(ut,St),i(St,bl),i(St,Ti),i(St,Tt),i(Tt,wl),i(Tt,Pi),i(Tt,yl),i(yl,Rl),i(ut,Di),i(ut,Pt),i(Pt,Nl),i(Pt,zi),i(Pt,Dt),i(Dt,Ll),i(Dt,Ai),i(Dt,Ml),i(Ml,Gl),i(e,Ii),i(e,zt),i(zt,gt),i(gt,$l),i(gt,Fi),i(gt,Ge),O(et,Ge,null),i(Ge,Oi),i(Ge,At),i(At,Sl),i(At,Hi),i(At,It),Me&&Me.m(It,null),i(Ge,Ui),i(Ge,mt),i(mt,Ft),i(Ft,Tl),i(Ft,ji),O(tt,Ft,null),i(mt,Ei),i(mt,Ot),i(Ot,Pl),i(Ot,Bi),O(lt,Ot,null),i(zt,Ri),i(zt,pt),i(pt,Dl),i(pt,Ni),i(pt,ht),i(ht,Ht),i(Ht,zl),i(Ht,Gi),O(it,Ht,null),i(ht,qi),i(ht,Ut),i(Ut,Al),i(Ut,Ji),O(nt,Ut,null),ge=!0},p(h,J){var un,gn,mn,pn,hn;const Zi={};J&2&&(Zi.label=h[1].name),c.$set(Zi),(!ge||J&2&&u!==(u=h[1].link))&&o(d,"href",u),h[7]?me?(me.p(h,J),J&2&&C(me,1)):(me=Dn(h),me.c(),C(me,1),me.m(n,null)):me&&(qe(),$(me,1,1,()=>{me=null}),Je()),J&2&&z(n,"justify-between",h[7]),J&2&&z(n,"justify-center",!h[7]),(!ge||J&2)&&I!==(I=h[1].latitude+"")&&ee(Z,I),(!ge||J&2)&&W!==(W=h[1].longitude+"")&&ee(N,W),(!ge||J&2)&&Ce!==(Ce=((un=h[1].userStatus)!=null&&un.value?(gn=h[1].userStatus)==null?void 0:gn.value:"-")+"")&&ee(Pe,Ce),(!ge||J&2)&&le!==(le=((mn=h[1].highRiskWork)!=null&&mn.value?(pn=h[1].highRiskWork)==null?void 0:pn.value:"-")+"")&&ee(re,le),(hn=h[1].highRiskWork)!=null&&hn.key?Le?Le.p(h,J):(Le=zn(h),Le.c(),Le.m(_e,null)):Le&&(Le.d(1),Le=null),(!ge||J&2)&&He!==(He=h[1].description+"")&&ee(x,He),(!ge||J&2)&&D!==(D=(h[1].mainWorkCenterText||"-")+"")&&ee(ze,D),(!ge||J&2)&&Vt!==(Vt=(h[1].workDetail||"-")+"")&&ee(Ol,Vt);const xi={};J&2&&(xi.value=h[1].safetyPermit1),Ve.$set(xi);const en={};J&2&&(en.value=h[1].safetyPermit2),Xe.$set(en);const tn={};J&2&&(tn.value=h[1].safetyPermit3),Ye.$set(tn);const ln={};J&2&&(ln.checked=h[1].isCheckingGas),Ke.$set(ln);const nn={};J&2&&(nn.value=typeof h[1].flamableAmt=="number"?h[1].flamableAmt.toFixed(2):""),Qe.$set(nn);const an={};J&2&&(an.value=typeof h[1].oxygenAmt=="number"?h[1].oxygenAmt.toFixed(2):""),Ze.$set(an);const sn={};J&2&&(sn.value=typeof h[1].toxicPPM=="number"?h[1].toxicPPM.toFixed(2):""),xe.$set(sn),(!ge||J&2)&&fl!==(fl=(h[1].agtUI||"-")+"")&&ee(Hl,fl),(!ge||J&2)&&gl!==(gl=h[3](h[1].checkDateUI)+"")&&ee(Ul,gl),(!ge||J&2)&&hl!==(hl=Il(h[1].checkTimeUI)+"")&&ee(El,hl),(!ge||J&2)&&kl!==(kl=(h[1].authorizedSignatoryUI||"-")+"")&&ee(Bl,kl),(!ge||J&2)&&Cl!==(Cl=h[3](h[1].authorizedDateUI)+"")&&ee(Rl,Cl),(!ge||J&2)&&Wl!==(Wl=Il(h[1].authorizedTimeUI)+"")&&ee(Gl,Wl);const on={};J&2&&(on.checked=h[1].extendTimeFlagFormula),et.$set(on),h[1].extendTimeToUI?Me?Me.p(h,J):(Me=An(h),Me.c(),Me.m(It,null)):Me&&(Me.d(1),Me=null);const rn={};J&2&&(rn.value=h[1].extendApplicantOrBearerUI),tt.$set(rn);const fn={};J&2&&(fn.value=h[1].extendAuthorizedSignUI),lt.$set(fn);const dn={};J&2&&(dn.value=h[1].closeApplicantOrBearerUI),it.$set(dn);const cn={};J&2&&(cn.value=h[1].closeAuthorizedSignOffUI),nt.$set(cn)},i(h){ge||(C(c.$$.fragment,h),C(me),C(v.$$.fragment,h),C(T.$$.fragment,h),C(ue.$$.fragment,h),C(at.$$.fragment,h),C(st.$$.fragment,h),C(Ve.$$.fragment,h),C(Xe.$$.fragment,h),C(Ye.$$.fragment,h),C(Ke.$$.fragment,h),C(Qe.$$.fragment,h),C(Ze.$$.fragment,h),C(xe.$$.fragment,h),C(et.$$.fragment,h),C(tt.$$.fragment,h),C(lt.$$.fragment,h),C(it.$$.fragment,h),C(nt.$$.fragment,h),ge=!0)},o(h){$(c.$$.fragment,h),$(me),$(v.$$.fragment,h),$(T.$$.fragment,h),$(ue.$$.fragment,h),$(at.$$.fragment,h),$(st.$$.fragment,h),$(Ve.$$.fragment,h),$(Xe.$$.fragment,h),$(Ye.$$.fragment,h),$(Ke.$$.fragment,h),$(Qe.$$.fragment,h),$(Ze.$$.fragment,h),$(xe.$$.fragment,h),$(et.$$.fragment,h),$(tt.$$.fragment,h),$(lt.$$.fragment,h),$(it.$$.fragment,h),$(nt.$$.fragment,h),ge=!1},d(h){h&&U(e),H(c),me&&me.d(),H(v),H(T),Le&&Le.d(),H(ue),H(at),H(st),H(Ve),H(Xe),H(Ye),H(Ke),H(Qe),H(Ze),H(xe),H(et),Me&&Me.d(),H(tt),H(lt),H(it),H(nt)}}}function Dn(l){let e,t;return e=new yt({props:{outline:!0,label:"\u0E22\u0E49\u0E32\u0E22\u0E2B\u0E21\u0E38\u0E14",icon:"ic-location"}}),e.$on("click",l[4]),{c(){F(e.$$.fragment)},m(n,a){O(e,n,a),t=!0},p:se,i(n){t||(C(e.$$.fragment,n),t=!0)},o(n){$(e.$$.fragment,n),t=!1},d(n){H(e,n)}}}function zn(l){let e,t,n;return{c(){e=r("div"),t=r("img"),Yl(t.src,n=Vl+Xl[l[1].highRiskWork.key].icon)||o(t,"src",n),o(t,"alt","work-type"),o(e,"class","pr-3")},m(a,s){j(a,e,s),i(e,t)},p(a,s){s&2&&!Yl(t.src,n=Vl+Xl[a[1].highRiskWork.key].icon)&&o(t,"src",n)},d(a){a&&U(e)}}}function An(l){let e,t=(l[1].extendTimeToUI?l[1].extendTimeToUI.split(":")[0]:"")+"",n,a,s,f,d,c=(l[1].extendTimeToUI?l[1].extendTimeToUI.split(":")[1]:"")+"",u;return{c(){e=r("div"),n=Y(t),a=m(),s=r("div"),s.textContent=":",f=m(),d=r("div"),u=Y(c),o(e,"class","w-3"),o(d,"class","w-3")},m(g,p){j(g,e,p),i(e,n),j(g,a,p),j(g,s,p),j(g,f,p),j(g,d,p),i(d,u)},p(g,p){p&2&&t!==(t=(g[1].extendTimeToUI?g[1].extendTimeToUI.split(":")[0]:"")+"")&&ee(n,t),p&2&&c!==(c=(g[1].extendTimeToUI?g[1].extendTimeToUI.split(":")[1]:"")+"")&&ee(u,c)},d(g){g&&U(e),g&&U(a),g&&U(s),g&&U(f),g&&U(d)}}}function Ba(l){let e,t,n=l[1]&&Pn(Jl(l));return{c(){n&&n.c(),e=Kl()},m(a,s){n&&n.m(a,s),j(a,e,s),t=!0},p(a,s){a[1]?n?(n.p(Jl(a),s),s&2&&C(n,1)):(n=Pn(Jl(a)),n.c(),C(n,1),n.m(e.parentNode,e)):n&&(qe(),$(n,1,1,()=>{n=null}),Je())},i(a){t||(C(n),t=!0)},o(a){$(n),t=!1},d(a){n&&n.d(a),a&&U(e)}}}function Ra(l){let e,t,n={$$slots:{default:[Ba]},$$scope:{ctx:l}};return e=new Xn({props:n}),l[5](e),{c(){F(e.$$.fragment)},m(a,s){O(e,a,s),t=!0},p(a,[s]){const f={};s&258&&(f.$$scope={dirty:s,ctx:a}),e.$set(f)},i(a){t||(C(e.$$.fragment,a),t=!0)},o(a){$(e.$$.fragment,a),t=!1},d(a){l[5](null),H(e,a)}}}function Il(l,e){if(l){let t="";if(e){const a=l.split(":");t+="-"+a[0]+":"+a[1]}const n=l.split(":");return n[0]+":"+n[1]+t}return"-"}function Na(l,e,t){const n=Nt(),a=()=>n("setDragWorkMap",{item:f});let{modal:s}=e,{item:f}=e;function d(g){return g?Zn.fromFormat(g,"yyyy-MM-dd").toFormat("dd/MM/yy",{outputCalendar:"buddhist"}):"-"}const c=()=>{a()};function u(g){Ie[g?"unshift":"push"](()=>{s=g,t(0,s)})}return l.$$set=g=>{"modal"in g&&t(0,s=g.modal),"item"in g&&t(1,f=g.item)},[s,f,a,d,c,u]}class Ga extends We{constructor(e){super(),$e(this,e,Na,Ra,Se,{modal:0,item:1})}}function qa(l){var De,Q,He;let e,t,n,a,s,f,d,c,u=((De=l[3])==null?void 0:De.name)+"",g,p,v,k,y,w,L,b,K,I,Z=((Q=l[3])==null?void 0:Q.latitude)+"",B,V,S,R,M,W,N=((He=l[3])==null?void 0:He.longitude)+"",ie,T,E,G,pe,de,Te,ce,Ce,Pe,ye=l[2].latitude+"",_e,oe,P,te,ae,le,re=l[2].longitude+"",he,Ue,ue,ne,ve,q,ke;return ne=new yt({props:{label:"\u0E22\u0E37\u0E19\u0E22\u0E31\u0E19\u0E01\u0E32\u0E23\u0E22\u0E49\u0E32\u0E22\u0E08\u0E38\u0E14",classes:"flex-1"}}),ne.$on("click",l[5]),q=new yt({props:{outline:!0,primary:!1,label:"\u0E22\u0E01\u0E40\u0E25\u0E34\u0E01",classes:"flex-1"}}),q.$on("click",l[6]),{c(){e=r("div"),t=r("h3"),t.textContent="\u0E22\u0E49\u0E32\u0E22\u0E08\u0E38\u0E14\u0E01\u0E32\u0E23\u0E17\u0E33\u0E07\u0E32\u0E19",n=m(),a=r("div"),s=r("div"),f=r("span"),f.textContent="Clearance No. :",d=m(),c=r("span"),g=Y(u),p=m(),v=r("div"),k=r("span"),k.textContent="\u0E04\u0E38\u0E13\u0E15\u0E49\u0E2D\u0E07\u0E01\u0E32\u0E23\u0E22\u0E49\u0E32\u0E22\u0E08\u0E38\u0E14\u0E01\u0E32\u0E23\u0E17\u0E33\u0E07\u0E32\u0E19\u0E08\u0E32\u0E01",y=m(),w=r("div"),L=r("div"),b=r("span"),b.textContent="Latitude (\u0E25\u0E30\u0E15\u0E34\u0E08\u0E39\u0E14)",K=m(),I=r("span"),B=Y(Z),V=m(),S=r("div"),R=r("span"),R.textContent="Longitude (\u0E25\u0E2D\u0E07\u0E08\u0E34\u0E08\u0E39\u0E14)",M=m(),W=r("span"),ie=Y(N),T=m(),E=r("div"),G=r("div"),G.innerHTML='<span class="font-weight-bold text-dnd-confirm">\u0E21\u0E32\u0E44\u0E27\u0E49\u0E17\u0E35\u0E48</span>',pe=m(),de=r("div"),Te=r("div"),ce=r("span"),ce.textContent="Latitude (\u0E25\u0E30\u0E15\u0E34\u0E08\u0E39\u0E14)",Ce=m(),Pe=r("span"),_e=Y(ye),oe=m(),P=r("div"),te=r("span"),te.textContent="Longitude (\u0E25\u0E2D\u0E07\u0E08\u0E34\u0E08\u0E39\u0E14)",ae=m(),le=r("span"),he=Y(re),Ue=m(),ue=r("div"),F(ne.$$.fragment),ve=m(),F(q.$$.fragment),o(t,"class","text-center text-size-large font-weight-bold"),o(f,"class","mr-1"),o(c,"class",""),o(s,"class","text-center text-size-large font-weight-bold"),o(k,"class","font-weight-bold text-dnd-confirm"),o(b,"class","mr-1"),o(I,"class","text-gray-600"),o(R,"class","mr-1"),o(W,"class","text-gray-600"),o(v,"class","text-size-medium"),o(a,"class","space-y-1 py-2"),o(ce,"class","mr-1"),o(Pe,"class","text-primary"),o(te,"class","mr-1"),o(le,"class","text-primary"),o(E,"class","py-2 mb-2 text-size-medium"),o(ue,"class","flex gap-2"),o(e,"class","p-2 desktop:px-4")},m(x,X){j(x,e,X),i(e,t),i(e,n),i(e,a),i(a,s),i(s,f),i(s,d),i(s,c),i(c,g),i(a,p),i(a,v),i(v,k),i(v,y),i(v,w),i(w,L),i(L,b),i(L,K),i(L,I),i(I,B),i(w,V),i(w,S),i(S,R),i(S,M),i(S,W),i(W,ie),i(e,T),i(e,E),i(E,G),i(E,pe),i(E,de),i(de,Te),i(Te,ce),i(Te,Ce),i(Te,Pe),i(Pe,_e),i(de,oe),i(de,P),i(P,te),i(P,ae),i(P,le),i(le,he),i(e,Ue),i(e,ue),O(ne,ue,null),i(ue,ve),O(q,ue,null),ke=!0},p(x,X){var Fe,_,A;(!ke||X&8)&&u!==(u=((Fe=x[3])==null?void 0:Fe.name)+"")&&ee(g,u),(!ke||X&8)&&Z!==(Z=((_=x[3])==null?void 0:_.latitude)+"")&&ee(B,Z),(!ke||X&8)&&N!==(N=((A=x[3])==null?void 0:A.longitude)+"")&&ee(ie,N),(!ke||X&4)&&ye!==(ye=x[2].latitude+"")&&ee(_e,ye),(!ke||X&4)&&re!==(re=x[2].longitude+"")&&ee(he,re)},i(x){ke||(C(ne.$$.fragment,x),C(q.$$.fragment,x),ke=!0)},o(x){$(ne.$$.fragment,x),$(q.$$.fragment,x),ke=!1},d(x){x&&U(e),H(ne),H(q)}}}function Ja(l){let e,t,n={maxWidth:"330px",$$slots:{default:[qa]},$$scope:{ctx:l}};return e=new Xn({props:n}),l[7](e),e.$on("closed",l[8]),{c(){F(e.$$.fragment)},m(a,s){O(e,a,s),t=!0},p(a,[s]){const f={};s&527&&(f.$$scope={dirty:s,ctx:a}),e.$set(f)},i(a){t||(C(e.$$.fragment,a),t=!0)},o(a){$(e.$$.fragment,a),t=!1},d(a){l[7](null),H(e,a)}}}function Va(l,e,t){let n,a,s,f;function d(v){return t(2,s=v.newLocation),t(3,f=v.workMap),n.open(),new Promise(k=>{t(1,a=k)})}const c=()=>{a(!0),n.close()},u=()=>n.close();function g(v){Ie[v?"unshift":"push"](()=>{n=v,t(0,n)})}return[n,a,s,f,d,c,u,g,()=>{a&&a(!1)}]}class Xa extends We{constructor(e){super(),$e(this,e,Va,Ja,Se,{confirm:4})}get confirm(){return this.$$.ctx[4]}}const Ya=()=>{class l extends google.maps.OverlayView{constructor(n){super();we(this,"simop");we(this,"div");we(this,"initLatLng");this.simop=n}drawSimop(){this.div.innerHTML=`
    <div class="_g-map-overlay-simop"></div>
    `}onAdd(){this.initLatLng=new google.maps.LatLng(+this.simop.latitude,+this.simop.longitude),this.div=document.createElement("div"),this.div.style.borderStyle="none",this.div.style.borderWidth="0px",this.div.style.position="absolute",this.drawSimop(),this.getPanes().overlayLayer.appendChild(this.div)}draw(){var f;const n=(f=this.get("position"))!=null?f:this.initLatLng;this.set("position",n);const s=this.getProjection().fromLatLngToDivPixel(n);this.div&&(this.div.style.left=s.x-20+"px",this.div.style.top=s.y-37+"px")}onRemove(){this.div&&(this.div.parentNode.removeChild(this.div),delete this.div)}}return{MapOverlaySimop:l}};function Ka(l){let e;return{c(){e=r("div")},m(t,n){j(t,e,n)},p:se,i:se,o:se,d(t){t&&U(e)}}}function Qa(l,e,t){let{simop:n}=e,{map:a}=e,s;return Rt(()=>{const f=Ya().MapOverlaySimop;s=new f(n),s.setMap(a)}),En(()=>{s&&s.onRemove()}),l.$$set=f=>{"simop"in f&&t(0,n=f.simop),"map"in f&&t(1,a=f.map)},[n,a]}class Za extends We{constructor(e){super(),$e(this,e,Qa,Ka,Se,{simop:0,map:1})}}const{Map:In}=na;function Fn(l,e,t){const n=l.slice();return n[38]=e[t],n}function On(l,e,t){const n=l.slice();return n[41]=e[t],n}function Hn(l){let e,t,n,a,s,f,d,c,u,g=[],p=new In,v,k=[],y=new In,w,L;t=new qn({props:{isShow:l[6]}});function b(M){l[25](M)}let K={typeOfWorkCount:l[8],mapHeight:l[10],isLoading:l[4],getFilter:l[20]};l[9]!==void 0&&(K.filter=l[9]),a=new Oa({props:K}),Ie.push(()=>bt(a,"filter",b)),a.$on("search",l[18]),a.$on("loadedArea",l[19]);function I(M){l[26](M)}let Z={};l[1]!==void 0&&(Z.map=l[1]),d=new da({props:Z}),Ie.push(()=>bt(d,"map",I));let B=l[13];const V=M=>M[41].id;for(let M=0;M<B.length;M+=1){let W=On(l,B,M),N=V(W);p.set(N,g[M]=Un(N,W))}let S=l[14];const R=M=>M[38].id;for(let M=0;M<S.length;M+=1){let W=Fn(l,S,M),N=R(W);y.set(N,k[M]=jn(N,W))}return{c(){e=r("div"),F(t.$$.fragment),n=m(),F(a.$$.fragment),f=m(),F(d.$$.fragment),u=m();for(let M=0;M<g.length;M+=1)g[M].c();v=m();for(let M=0;M<k.length;M+=1)k[M].c();o(e,"class","relative h-full _map-wrapper svelte-b8nadt"),ta(()=>l[27].call(e))},m(M,W){j(M,e,W),O(t,e,null),i(e,n),O(a,e,null),i(e,f),O(d,e,null),i(e,u);for(let N=0;N<g.length;N+=1)g[N].m(e,null);i(e,v);for(let N=0;N<k.length;N+=1)k[N].m(e,null);w=la(e,l[27].bind(e)),L=!0},p(M,W){const N={};W[0]&64&&(N.isShow=M[6]),t.$set(N);const ie={};W[0]&256&&(ie.typeOfWorkCount=M[8]),W[0]&1024&&(ie.mapHeight=M[10]),W[0]&16&&(ie.isLoading=M[4]),!s&&W[0]&512&&(s=!0,ie.filter=M[9],wt(()=>s=!1)),a.$set(ie);const T={};!c&&W[0]&2&&(c=!0,T.map=M[1],wt(()=>c=!1)),d.$set(T),W[0]&14690306&&(B=M[13],qe(),g=wn(g,W,V,1,M,B,p,e,yn,Un,v,On),Je()),W[0]&16386&&(S=M[14],qe(),k=wn(k,W,R,1,M,S,y,e,yn,jn,null,Fn),Je())},i(M){if(!L){C(t.$$.fragment,M),C(a.$$.fragment,M),C(d.$$.fragment,M);for(let W=0;W<B.length;W+=1)C(g[W]);for(let W=0;W<S.length;W+=1)C(k[W]);L=!0}},o(M){$(t.$$.fragment,M),$(a.$$.fragment,M),$(d.$$.fragment,M);for(let W=0;W<g.length;W+=1)$(g[W]);for(let W=0;W<k.length;W+=1)$(k[W]);L=!1},d(M){M&&U(e),H(t),H(a),H(d);for(let W=0;W<g.length;W+=1)g[W].d();for(let W=0;W<k.length;W+=1)k[W].d();w()}}}function Un(l,e){var s;let t,n,a;return n=new ma({props:{workMap:e[41],map:e[1],canDrag:!!e[41].id&&e[41].id===((s=e[11])==null?void 0:s.id)}}),n.$on("click",e[21]),n.$on("locationChanged",e[22]),n.$on("dragStart",e[23]),{key:l,first:null,c(){t=Kl(),F(n.$$.fragment),this.first=t},m(f,d){j(f,t,d),O(n,f,d),a=!0},p(f,d){var u;e=f;const c={};d[0]&8192&&(c.workMap=e[41]),d[0]&2&&(c.map=e[1]),d[0]&10240&&(c.canDrag=!!e[41].id&&e[41].id===((u=e[11])==null?void 0:u.id)),n.$set(c)},i(f){a||(C(n.$$.fragment,f),a=!0)},o(f){$(n.$$.fragment,f),a=!1},d(f){f&&U(t),H(n,f)}}}function jn(l,e){let t,n,a;return n=new Za({props:{simop:e[38],map:e[1]}}),{key:l,first:null,c(){t=Kl(),F(n.$$.fragment),this.first=t},m(s,f){j(s,t,f),O(n,s,f),a=!0},p(s,f){e=s;const d={};f[0]&16384&&(d.simop=e[38]),f[0]&2&&(d.map=e[1]),n.$set(d)},i(s){a||(C(n.$$.fragment,s),a=!0)},o(s){$(n.$$.fragment,s),a=!1},d(s){s&&U(t),H(n,s)}}}function xa(l){let e,t,n,a,s,f,d,c,u;function g(L){l[24](L)}let p={isLoading:l[4],headerMap:l[5]};l[9]!==void 0&&(p.filter=l[9]),e=new La({props:p}),Ie.push(()=>bt(e,"filter",g)),e.$on("search",l[18]);let v=l[0]&&Hn(l);function k(L){l[28](L)}let y={item:l[7]};l[2]!==void 0&&(y.modal=l[2]),s=new Ga({props:y}),Ie.push(()=>bt(s,"modal",k)),s.$on("setDragWorkMap",l[29]);let w={};return c=new Xa({props:w}),l[30](c),{c(){F(e.$$.fragment),n=m(),v&&v.c(),a=m(),F(s.$$.fragment),d=m(),F(c.$$.fragment)},m(L,b){O(e,L,b),j(L,n,b),v&&v.m(L,b),j(L,a,b),O(s,L,b),j(L,d,b),O(c,L,b),u=!0},p(L,b){const K={};b[0]&16&&(K.isLoading=L[4]),b[0]&32&&(K.headerMap=L[5]),!t&&b[0]&512&&(t=!0,K.filter=L[9],wt(()=>t=!1)),e.$set(K),L[0]?v?(v.p(L,b),b[0]&1&&C(v,1)):(v=Hn(L),v.c(),C(v,1),v.m(a.parentNode,a)):v&&(qe(),$(v,1,1,()=>{v=null}),Je());const I={};b[0]&128&&(I.item=L[7]),!f&&b[0]&4&&(f=!0,I.modal=L[2],wt(()=>f=!1)),s.$set(I);const Z={};c.$set(Z)},i(L){u||(C(e.$$.fragment,L),C(v),C(s.$$.fragment,L),C(c.$$.fragment,L),u=!0)},o(L){$(e.$$.fragment,L),$(v),$(s.$$.fragment,L),$(c.$$.fragment,L),u=!1},d(L){H(e,L),L&&U(n),v&&v.d(L),L&&U(a),H(s,L),L&&U(d),l[30](null),H(c,L)}}}function es(l){let e,t,n,a,s;return a=new xn({props:{isHome:!0,isShowLoading:l[12],$$slots:{default:[xa]},$$scope:{ctx:l}}}),{c(){e=r("script"),n=m(),F(a.$$.fragment),e.defer=!0,e.async=!0,Yl(e.src,t=`https://maps.googleapis.com/maps/api/js?key=${l[15]}&callback=initMap`)||o(e,"src",t)},m(f,d){i(document.head,e),j(f,n,d),O(a,f,d),s=!0},p(f,d){const c={};d[0]&4096&&(c.isShowLoading=f[12]),d[0]&28671|d[1]&8192&&(c.$$scope={dirty:d,ctx:f}),a.$set(c)},i(f){s||(C(a.$$.fragment,f),s=!0)},o(f){$(a.$$.fragment,f),s=!1},d(f){U(e),f&&U(n),H(a,f)}}}function ts(l,e,t){let n,a,s,{mapReady:f}=e,d,c,u;const g=window.googleAPIKey,p=ia.editingWorkClearance||"";let v,k,y,w=bn([]);kn(l,w,P=>t(13,a=P));let L=bn([]);kn(l,L,P=>t(14,s=P));let b,K,I={clearanceCertificateNo:p,areas:[],allTypeOfWork:!0,generalWork:!0,hotWork:!0,confinedSpace:!0,craneLifting:!0,radiation:!0,jackHammer:!0,highPressureWaterJet:!0,digging:!0,workAtHeight:!0,onlineStopLeak:!0,nonTypeOfWork:!0,allStatus:!0,createdStatus:!0,inProgressStatus:!0},Z,B;Rt(()=>{});let V;const S=60*1e3;function R(P=!1){V&&(clearTimeout(V),V=null),P||t(4,v=!0),Et.GetWorkCount({filter:T()}).then(te=>{t(4,v=!1),t(5,k=te)}),P||t(6,y=!0),Et.GetWorkMaps({filter:T()}).then(te=>{if(t(6,y=!1),p){const ae=te[0];d.setCenter({lat:+ae.latitude,lng:+ae.longitude}),d.setZoom(17)}w.set(te.filter(ae=>{var le;return(le=ae.highRiskWork)==null?void 0:le.key})),W()}),Et.GetAllWorkCount({filter:T()}).then(te=>{t(8,K=te)}),M()}function M(){V&&(clearTimeout(V),V=null),V=setTimeout(()=>{R(!0)},S)}function W(){const P={},te=[];for(const le of a){const re=JSON.stringify({latitude:le.latitude,longitude:le.longitude});re in P?P[re]++:P[re]=1}let ae=new Date().getTime();for(const le in P)P[le]>1&&te.push({...JSON.parse(le),id:ae}),ae++;L.set(te)}function N(P){I.clearanceCertificateNo&&t(9,I.clearanceCertificateNo=I.clearanceCertificateNo.trim(),I),R()}function ie(){R()}function T(){return{...I,areas:I.areas.filter(P=>P!=="all")}}function E(P){p&&(window.parent.location.href=P.link)}function G({detail:{workMap:P}}){t(7,b=P),c.open()}function pe({detail:{location:P,workMap:te,onCancel:ae}}){u.confirm({newLocation:P,workMap:te}).then(le=>{le?(t(6,y=!0),Et.UpdateWorkClearanceMapLatLong({recordId:te.id,latitude:P.latitude,longitude:P.longitude}).then(re=>{console.log("result",re),E(te),t(11,B=null),R(),M()}).catch(()=>{t(6,y=!1),ea.error("Something went wrong")})):(ae(),M(),t(11,B=null))})}function de(){V&&(clearTimeout(V),V=null)}function Te(P){I=P,t(9,I)}function ce(P){I=P,t(9,I)}function Ce(P){d=P,t(1,d)}function Pe(){Z=this.clientHeight,t(10,Z)}function ye(P){c=P,t(2,c)}const _e=({detail:{item:P}})=>{t(11,B=P),c.close()};function oe(P){Ie[P?"unshift":"push"](()=>{u=P,t(3,u)})}return l.$$set=P=>{"mapReady"in P&&t(0,f=P.mapReady)},l.$$.update=()=>{l.$$.dirty[0]&1&&t(12,n=!f)},[f,d,c,u,v,k,y,b,K,I,Z,B,n,a,s,g,w,L,N,ie,T,G,pe,de,Te,ce,Ce,Pe,ye,_e,oe]}class ls extends We{constructor(e){super(),$e(this,e,ts,es,Se,{mapReady:0},null,[-1,-1])}}const is=new ls({target:document.getElementById("app"),props:{mapReady:!1}});window.initMap=function(){is.$set({mapReady:!0})};
