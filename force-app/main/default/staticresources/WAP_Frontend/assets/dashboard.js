import{v as fe,S as be,i as ve,s as Ce,k as Ke,e as h,w as B,a as _,H as re,b as Y,j as d,z as ye,u as Xe,l as Qe,p as Ue,t as D,q as R,d as N,C as Ze,g as Ie,G as xe,r as F,x as H,B as M,c as Q,N as x,a3 as et,O as ee,P as Re,o as Ae,L as ke,J as pe,K as ge,a4 as me,a5 as tt,n as De,h as at,T as rt,M as je,a6 as nt,D as it}from"./Label.js";import{B as Ge,C as _e,D as he,a as le,H as lt,E as We}from"./DatePicker.js";import{M as st,B as Fe}from"./Modal.js";class oe{static async DailyClearanceCertificateChartSeries(e){return fe("WAP_Dashboard.DailyClearanceCertificateChartSeries",e.filter)}static async DetailReportByAreaChartSeries(e){return fe("WAP_Dashboard.DetailReportByAreaChartSeries",e.filter)}static async ClearanceCertificateYearChartSeries(e){return fe("WAP_Dashboard.ClearanceCertificateYearChartSeries",e.filter)}static async ExportClearanceCertificateExcel(e){return fe("WAP_Dashboard.ExportClearanceCertificateExcel",e.excelName,e.filter)}static async DashboardHRWPieChartSeries(e){return fe("WAP_Dashboard.DashboardHRWPieChartSeries",e.filter)}static async DashboardHRWChartSeries(e){return fe("WAP_Dashboard.DashboardHRWChartSeries",e.filter)}static async DashboardTopFiveChartSeries(e){return fe("WAP_Dashboard.DashboardTopFiveChartSeries",e.filter)}static async ExportHighRiskWorkExcel(e){return fe("WAP_Dashboard.ExportHighRiskWorkExcel",e.filter)}static async allAreas(){return fe("WAP_Dashboard.allAreas")}}function ot(a){let e,t;return e=new xe({props:{label:a[0]}}),{c(){F(e.$$.fragment)},m(l,n){H(e,l,n),t=!0},p(l,n){const r={};n&1&&(r.label=l[0]),e.$set(r)},i(l){t||(D(e.$$.fragment,l),t=!0)},o(l){R(e.$$.fragment,l),t=!1},d(l){M(e,l)}}}function ft(a){let e,t,l,n,r,i;const o=a[12].default,p=Ke(o,a,a[11],null),c=p||ot(a);return{c(){e=h("label"),t=h("input"),l=B(),c&&c.c(),_(t,"type","radio"),_(t,"class","radio mr-1 svelte-rlve9o"),_(t,"name",a[1]),t.__value=a[4],t.value=t.__value,t.disabled=a[3],a[14][0].push(t),re(t,"radio-form",a[2]),re(t,"radio-primary",a[6]),_(e,"class","label svelte-rlve9o"),re(e,"cursor-pointer",!a[3]),re(e,"w-full",a[5]),re(e,"justify-start",a[5])},m(s,u){Y(s,e,u),d(e,t),t.checked=t.__value===a[7],d(e,l),c&&c.m(e,null),n=!0,r||(i=[ye(t,"change",a[13]),ye(t,"change",a[8])],r=!0)},p(s,[u]){(!n||u&2)&&_(t,"name",s[1]),(!n||u&16)&&(t.__value=s[4],t.value=t.__value),(!n||u&8)&&(t.disabled=s[3]),u&128&&(t.checked=t.__value===s[7]),u&4&&re(t,"radio-form",s[2]),u&64&&re(t,"radio-primary",s[6]),p?p.p&&(!n||u&2048)&&Xe(p,o,s,s[11],n?Ue(o,s[11],u,null):Qe(s[11]),null):c&&c.p&&(!n||u&1)&&c.p(s,n?u:-1),u&8&&re(e,"cursor-pointer",!s[3]),u&32&&re(e,"w-full",s[5]),u&32&&re(e,"justify-start",s[5])},i(s){n||(D(c,s),n=!0)},o(s){R(c,s),n=!1},d(s){s&&N(e),a[14][0].splice(a[14][0].indexOf(t),1),c&&c.d(s),r=!1,Ze(i)}}}function ut(a,e,t){let l,{$$slots:n={},$$scope:r}=e,{label:i=""}=e,{name:o}=e,{isForm:p=!1}=e,{disabled:c=!1}=e,{group:s=void 0}=e,{value:u=void 0}=e,{fullWidth:f=!1}=e,{primary:g=!0}=e,{isEnumValue:m=!1}=e;const C=Ie();function b($){const L=$.currentTarget.value;m?s!=null&&s.key?t(9,s.key=L,s):t(9,s={key:L}):t(9,s=L),C("change",{value:L})}const y=[[]];function O(){l=this.__value,t(7,l),t(10,m),t(9,s)}return a.$$set=$=>{"label"in $&&t(0,i=$.label),"name"in $&&t(1,o=$.name),"isForm"in $&&t(2,p=$.isForm),"disabled"in $&&t(3,c=$.disabled),"group"in $&&t(9,s=$.group),"value"in $&&t(4,u=$.value),"fullWidth"in $&&t(5,f=$.fullWidth),"primary"in $&&t(6,g=$.primary),"isEnumValue"in $&&t(10,m=$.isEnumValue),"$$scope"in $&&t(11,r=$.$$scope)},a.$$.update=()=>{a.$$.dirty&1536&&t(7,l=m?s==null?void 0:s.key:s)},[i,o,p,c,u,f,g,l,b,s,m,r,n,O,y]}class de extends be{constructor(e){super(),ve(this,e,ut,ft,Ce,{label:0,name:1,isForm:2,disabled:3,group:9,value:4,fullWidth:5,primary:6,isEnumValue:10})}}function ct(a){let e,t,l;function n(i){a[8](i)}let r={showAll:a[1],labelKey:"name",label:dt,isHorizontal:a[2],getOptions:a[6],isForm:a[3],disabled:a[4],choiceOptions:{removeItemButton:!1,searchEnabled:!1}};return a[0]!==void 0&&(r.value=a[0]),e=new Ge({props:r}),Q.push(()=>x(e,"value",n)),e.$on("change",function(){et(a[5])&&a[5].apply(this,arguments)}),{c(){F(e.$$.fragment)},m(i,o){H(e,i,o),l=!0},p(i,[o]){a=i;const p={};o&2&&(p.showAll=a[1]),o&4&&(p.isHorizontal=a[2]),o&8&&(p.isForm=a[3]),o&16&&(p.disabled=a[4]),!t&&o&1&&(t=!0,p.value=a[0],ee(()=>t=!1)),e.$set(p)},i(i){l||(D(e.$$.fragment,i),l=!0)},o(i){R(e.$$.fragment,i),l=!1},d(i){M(e,i)}}}const dt="Area";function pt(a,e,t){let{showAll:l=!0}=e,{isHorizontal:n=!1}=e,{value:r}=e,{isForm:i=!1}=e,{disabled:o=!1}=e,{change:p=void 0}=e,{service:c}=e;function s(){return c()}function u(f){r=f,t(0,r)}return a.$$set=f=>{"showAll"in f&&t(1,l=f.showAll),"isHorizontal"in f&&t(2,n=f.isHorizontal),"value"in f&&t(0,r=f.value),"isForm"in f&&t(3,i=f.isForm),"disabled"in f&&t(4,o=f.disabled),"change"in f&&t(5,p=f.change),"service"in f&&t(7,c=f.service)},[r,l,n,i,o,p,s,c,u]}class Ve extends be{constructor(e){super(),ve(this,e,pt,ct,Ce,{showAll:1,isHorizontal:2,value:0,isForm:3,disabled:4,change:5,service:7})}}function He(a){let e,t;return e=new le({props:{series:a[2].series,categories:a[2].categories}}),{c(){F(e.$$.fragment)},m(l,n){H(e,l,n),t=!0},p(l,n){const r={};n&4&&(r.series=l[2].series),n&4&&(r.categories=l[2].categories),e.$set(r)},i(l){t||(D(e.$$.fragment,l),t=!0)},o(l){R(e.$$.fragment,l),t=!1},d(l){M(e,l)}}}function gt(a){let e,t,l,n=a[2]&&He(a);return{c(){e=h("div"),t=h("div"),n&&n.c(),_(t,"class","max-w-[1170px] mx-auto"),_(e,"class","pt-4 desktop:px-10")},m(r,i){Y(r,e,i),d(e,t),n&&n.m(t,null),l=!0},p(r,i){r[2]?n?(n.p(r,i),i&4&&D(n,1)):(n=He(r),n.c(),D(n,1),n.m(t,null)):n&&(pe(),R(n,1,1,()=>{n=null}),ge())},i(r){l||(D(n),l=!0)},o(r){R(n),l=!1},d(r){r&&N(e),n&&n.d()}}}function mt(a){let e,t,l,n,r,i,o,p,c,s,u,f,g,m,C,b,y,O,$;t=new ke({props:{isShow:a[1],isbgTransparent:!0}});function L(S){a[14](S)}let z={label:"Start Date",maxDate:a[0].dailyClearanceCertificate.endDate};a[0].dailyClearanceCertificate.startDate!==void 0&&(z.value=a[0].dailyClearanceCertificate.startDate),o=new he({props:z}),Q.push(()=>x(o,"value",L)),o.$on("change",a[10]);function j(S){a[15](S)}let J={label:"End Date",minDate:a[0].dailyClearanceCertificate.startDate};a[0].dailyClearanceCertificate.endDate!==void 0&&(J.value=a[0].dailyClearanceCertificate.endDate),u=new he({props:J}),Q.push(()=>x(u,"value",j)),u.$on("change",a[10]);function k(S){a[16](S)}let w={service:oe.allAreas,change:a[10]};return a[0].dailyClearanceCertificate.area!==void 0&&(w.value=a[0].dailyClearanceCertificate.area),C=new Ve({props:w}),Q.push(()=>x(C,"value",k)),O=new _e({props:{title:"High Risk Work and Number of Clearance",titleClass:"bg-white text-left text-size-large",$$slots:{default:[gt]},$$scope:{ctx:a}}}),{c(){e=h("div"),F(t.$$.fragment),l=B(),n=h("div"),r=h("div"),i=h("div"),F(o.$$.fragment),c=B(),s=h("div"),F(u.$$.fragment),g=B(),m=h("div"),F(C.$$.fragment),y=B(),F(O.$$.fragment),_(i,"class","flex-1"),_(s,"class","flex-1"),_(r,"class","flex gap-2 col-span-2"),_(m,"class","col-span-2 desktop:col-start-4"),_(n,"class","grid grid-cols-2 mb-3 px-1 desktop:grid-cols-8 desktop:px-0"),_(e,"class","relative bg-gray-400 p-1 pt-3 desktop:p-4 desktop:pt-3")},m(S,q){Y(S,e,q),H(t,e,null),d(e,l),d(e,n),d(n,r),d(r,i),H(o,i,null),d(r,c),d(r,s),H(u,s,null),d(n,g),d(n,m),H(C,m,null),d(e,y),H(O,e,null),$=!0},p(S,q){const T={};q&2&&(T.isShow=S[1]),t.$set(T);const I={};q&1&&(I.maxDate=S[0].dailyClearanceCertificate.endDate),!p&&q&1&&(p=!0,I.value=S[0].dailyClearanceCertificate.startDate,ee(()=>p=!1)),o.$set(I);const A={};q&1&&(A.minDate=S[0].dailyClearanceCertificate.startDate),!f&&q&1&&(f=!0,A.value=S[0].dailyClearanceCertificate.endDate,ee(()=>f=!1)),u.$set(A);const Z={};!b&&q&1&&(b=!0,Z.value=S[0].dailyClearanceCertificate.area,ee(()=>b=!1)),C.$set(Z);const ae={};q&134217732&&(ae.$$scope={dirty:q,ctx:S}),O.$set(ae)},i(S){$||(D(t.$$.fragment,S),D(o.$$.fragment,S),D(u.$$.fragment,S),D(C.$$.fragment,S),D(O.$$.fragment,S),$=!0)},o(S){R(t.$$.fragment,S),R(o.$$.fragment,S),R(u.$$.fragment,S),R(C.$$.fragment,S),R(O.$$.fragment,S),$=!1},d(S){S&&N(e),M(t),M(o),M(u),M(C),M(O)}}}function Me(a){var w,S,q,T,I,A,Z,ae;let e,t,l,n,r,i,o,p,c,s,u,f,g,m,C,b,y,O,$,L,z,j,J,k;return r=new le({props:{series:(w=a[4][0])==null?void 0:w.series,categories:(S=a[4][0])==null?void 0:S.categories}}),u=new le({props:{series:(q=a[4][1])==null?void 0:q.series,categories:(T=a[4][1])==null?void 0:T.categories,options:{chart:{type:"column",spacingBottom:me?void 0:50},legend:{enabled:!1}}}}),y=new le({props:{series:(I=a[4][2])==null?void 0:I.series,categories:(A=a[4][2])==null?void 0:A.categories,options:{chart:{type:"column",spacingBottom:me?void 0:50},legend:{enabled:!1}}}}),J=new le({props:{series:(Z=a[4][3])==null?void 0:Z.series,categories:(ae=a[4][3])==null?void 0:ae.categories,options:{chart:{type:"column",spacingBottom:me?void 0:50},legend:{enabled:!1}}}}),{c(){e=h("div"),t=h("div"),t.textContent="High Risk Work and Number of Clearance",l=B(),n=h("div"),F(r.$$.fragment),i=B(),o=h("div"),p=h("div"),p.textContent="Summary Extend from normal hours",c=B(),s=h("div"),F(u.$$.fragment),f=B(),g=h("div"),m=h("div"),m.textContent="Summary of non close CC (Number)",C=B(),b=h("div"),F(y.$$.fragment),O=B(),$=h("div"),L=h("div"),L.textContent="Summary - Stop work",z=B(),j=h("div"),F(J.$$.fragment),_(t,"class","text-size-xlarge font-weight-bold mb-3"),_(n,"class","_small-chart-wrapper svelte-1eecmw7"),_(e,"class","bg-white px-1 py-2 desktop:p-3"),_(p,"class","text-size-xlarge font-weight-bold mb-3"),_(s,"class","_small-chart-wrapper svelte-1eecmw7"),_(o,"class","bg-white px-1 py-2 desktop:p-3"),_(m,"class","text-size-xlarge font-weight-bold mb-3"),_(b,"class","_small-chart-wrapper svelte-1eecmw7"),_(g,"class","bg-white px-1 py-2 desktop:p-3"),_(L,"class","text-size-xlarge font-weight-bold mb-3"),_(j,"class","_small-chart-wrapper svelte-1eecmw7"),_($,"class","bg-white px-1 py-2 desktop:p-3")},m(v,P){Y(v,e,P),d(e,t),d(e,l),d(e,n),H(r,n,null),Y(v,i,P),Y(v,o,P),d(o,p),d(o,c),d(o,s),H(u,s,null),Y(v,f,P),Y(v,g,P),d(g,m),d(g,C),d(g,b),H(y,b,null),Y(v,O,P),Y(v,$,P),d($,L),d($,z),d($,j),H(J,j,null),k=!0},p(v,P){var ne,se,ie,V,E,K,ue,ce;const te={};P&16&&(te.series=(ne=v[4][0])==null?void 0:ne.series),P&16&&(te.categories=(se=v[4][0])==null?void 0:se.categories),r.$set(te);const G={};P&16&&(G.series=(ie=v[4][1])==null?void 0:ie.series),P&16&&(G.categories=(V=v[4][1])==null?void 0:V.categories),u.$set(G);const W={};P&16&&(W.series=(E=v[4][2])==null?void 0:E.series),P&16&&(W.categories=(K=v[4][2])==null?void 0:K.categories),y.$set(W);const X={};P&16&&(X.series=(ue=v[4][3])==null?void 0:ue.series),P&16&&(X.categories=(ce=v[4][3])==null?void 0:ce.categories),J.$set(X)},i(v){k||(D(r.$$.fragment,v),D(u.$$.fragment,v),D(y.$$.fragment,v),D(J.$$.fragment,v),k=!0)},o(v){R(r.$$.fragment,v),R(u.$$.fragment,v),R(y.$$.fragment,v),R(J.$$.fragment,v),k=!1},d(v){v&&N(e),M(r),v&&N(i),v&&N(o),M(u),v&&N(f),v&&N(g),M(y),v&&N(O),v&&N($),M(J)}}}function _t(a){let e,t,l,n,r,i,o,p,c,s,u,f,g,m,C,b,y,O,$,L,z,j,J,k,w;t=new ke({props:{isShow:a[3],isbgTransparent:!0}});function S(W){a[17](W)}let q={label:"This Month",name:"timeRange",value:U.Month,isForm:!0};a[5]!==void 0&&(q.group=a[5]),i=new de({props:q}),Q.push(()=>x(i,"group",S)),i.$on("change",a[18]);function T(W){a[19](W)}let I={label:"This Week",name:"timeRange",value:U.Week,isForm:!0};a[5]!==void 0&&(I.group=a[5]),c=new de({props:I}),Q.push(()=>x(c,"group",T)),c.$on("change",a[20]);function A(W){a[21](W)}let Z={label:"Manual Select",name:"timeRange",value:U.Manual,isForm:!0};a[5]!==void 0&&(Z.group=a[5]),f=new de({props:Z}),Q.push(()=>x(f,"group",A));function ae(W){a[22](W)}let v={label:"Start Date",maxDate:a[0].detailReportByArea.endDate,disabled:a[5]!==U.Manual};a[0].detailReportByArea.startDate!==void 0&&(v.value=a[0].detailReportByArea.startDate),y=new he({props:v}),Q.push(()=>x(y,"value",ae)),y.$on("change",a[11]);function P(W){a[23](W)}let te={label:"End Date",minDate:a[0].detailReportByArea.startDate,disabled:a[5]!==U.Manual};a[0].detailReportByArea.endDate!==void 0&&(te.value=a[0].detailReportByArea.endDate),z=new he({props:te}),Q.push(()=>x(z,"value",P)),z.$on("change",a[11]);let G=a[4]&&Me(a);return{c(){e=h("div"),F(t.$$.fragment),l=B(),n=h("div"),r=h("div"),F(i.$$.fragment),p=B(),F(c.$$.fragment),u=B(),F(f.$$.fragment),m=B(),C=h("div"),b=h("div"),F(y.$$.fragment),$=B(),L=h("div"),F(z.$$.fragment),J=B(),k=h("div"),G&&G.c(),_(r,"class","flex justify-between col-span-2 mb-2 desktop:items-end desktop:pb-1.5 desktop:mb-0"),_(b,"class","flex-1"),_(L,"class","flex-1"),_(C,"class","flex gap-2 col-span-2 desktop:col-start-4"),_(n,"class","grid grid-cols-2 mb-3 px-1 desktop:grid-cols-8 desktop:px-0"),_(k,"class","grid gap-2 desktop:grid-cols-2"),_(e,"class","relative bg-gray-400 p-1 pt-3 desktop:p-4 desktop:pt-3")},m(W,X){Y(W,e,X),H(t,e,null),d(e,l),d(e,n),d(n,r),H(i,r,null),d(r,p),H(c,r,null),d(r,u),H(f,r,null),d(n,m),d(n,C),d(C,b),H(y,b,null),d(C,$),d(C,L),H(z,L,null),d(e,J),d(e,k),G&&G.m(k,null),w=!0},p(W,X){const ne={};X&8&&(ne.isShow=W[3]),t.$set(ne);const se={};!o&&X&32&&(o=!0,se.group=W[5],ee(()=>o=!1)),i.$set(se);const ie={};!s&&X&32&&(s=!0,ie.group=W[5],ee(()=>s=!1)),c.$set(ie);const V={};!g&&X&32&&(g=!0,V.group=W[5],ee(()=>g=!1)),f.$set(V);const E={};X&1&&(E.maxDate=W[0].detailReportByArea.endDate),X&32&&(E.disabled=W[5]!==U.Manual),!O&&X&1&&(O=!0,E.value=W[0].detailReportByArea.startDate,ee(()=>O=!1)),y.$set(E);const K={};X&1&&(K.minDate=W[0].detailReportByArea.startDate),X&32&&(K.disabled=W[5]!==U.Manual),!j&&X&1&&(j=!0,K.value=W[0].detailReportByArea.endDate,ee(()=>j=!1)),z.$set(K),W[4]?G?(G.p(W,X),X&16&&D(G,1)):(G=Me(W),G.c(),D(G,1),G.m(k,null)):G&&(pe(),R(G,1,1,()=>{G=null}),ge())},i(W){w||(D(t.$$.fragment,W),D(i.$$.fragment,W),D(c.$$.fragment,W),D(f.$$.fragment,W),D(y.$$.fragment,W),D(z.$$.fragment,W),D(G),w=!0)},o(W){R(t.$$.fragment,W),R(i.$$.fragment,W),R(c.$$.fragment,W),R(f.$$.fragment,W),R(y.$$.fragment,W),R(z.$$.fragment,W),R(G),w=!1},d(W){W&&N(e),M(t),M(i),M(c),M(f),M(y),M(z),G&&G.d()}}}function Te(a){var w,S,q,T,I,A,Z,ae;let e,t,l,n,r,i,o,p,c,s,u,f,g,m,C,b,y,O,$,L,z,j,J,k;return r=new le({props:{series:(w=a[7][0])==null?void 0:w.series,categories:(S=a[7][0])==null?void 0:S.categories}}),u=new le({props:{series:(q=a[7][1])==null?void 0:q.series,categories:(T=a[7][1])==null?void 0:T.categories,options:{chart:{type:"column",spacingBottom:me?void 0:50},legend:{enabled:!1}}}}),y=new le({props:{series:(I=a[7][2])==null?void 0:I.series,categories:(A=a[7][2])==null?void 0:A.categories,options:{chart:{type:"column",spacingBottom:me?void 0:50},legend:{enabled:!1}}}}),J=new le({props:{series:(Z=a[7][3])==null?void 0:Z.series,categories:(ae=a[7][3])==null?void 0:ae.categories,options:{chart:{type:"column",spacingBottom:me?void 0:50},legend:{enabled:!1}}}}),{c(){e=h("div"),t=h("div"),t.textContent="High Risk Work and Number of Clearance",l=B(),n=h("div"),F(r.$$.fragment),i=B(),o=h("div"),p=h("div"),p.textContent="Summary Extend from normal hours",c=B(),s=h("div"),F(u.$$.fragment),f=B(),g=h("div"),m=h("div"),m.textContent="Summary of non close CC (Number)",C=B(),b=h("div"),F(y.$$.fragment),O=B(),$=h("div"),L=h("div"),L.textContent="Summary - Stop work",z=B(),j=h("div"),F(J.$$.fragment),_(t,"class","text-size-xlarge font-weight-bold mb-3"),_(n,"class","_small-chart-wrapper svelte-1eecmw7"),_(e,"class","bg-white px-1 py-2 desktop:p-3"),_(p,"class","text-size-xlarge font-weight-bold mb-3"),_(s,"class","_small-chart-wrapper svelte-1eecmw7"),_(o,"class","bg-white px-1 py-2 desktop:p-3"),_(m,"class","text-size-xlarge font-weight-bold mb-3"),_(b,"class","_small-chart-wrapper svelte-1eecmw7"),_(g,"class","bg-white px-1 py-2 desktop:p-3"),_(L,"class","text-size-xlarge font-weight-bold mb-3"),_(j,"class","_small-chart-wrapper svelte-1eecmw7"),_($,"class","bg-white px-1 py-2 desktop:p-3")},m(v,P){Y(v,e,P),d(e,t),d(e,l),d(e,n),H(r,n,null),Y(v,i,P),Y(v,o,P),d(o,p),d(o,c),d(o,s),H(u,s,null),Y(v,f,P),Y(v,g,P),d(g,m),d(g,C),d(g,b),H(y,b,null),Y(v,O,P),Y(v,$,P),d($,L),d($,z),d($,j),H(J,j,null),k=!0},p(v,P){var ne,se,ie,V,E,K,ue,ce;const te={};P&128&&(te.series=(ne=v[7][0])==null?void 0:ne.series),P&128&&(te.categories=(se=v[7][0])==null?void 0:se.categories),r.$set(te);const G={};P&128&&(G.series=(ie=v[7][1])==null?void 0:ie.series),P&128&&(G.categories=(V=v[7][1])==null?void 0:V.categories),u.$set(G);const W={};P&128&&(W.series=(E=v[7][2])==null?void 0:E.series),P&128&&(W.categories=(K=v[7][2])==null?void 0:K.categories),y.$set(W);const X={};P&128&&(X.series=(ue=v[7][3])==null?void 0:ue.series),P&128&&(X.categories=(ce=v[7][3])==null?void 0:ce.categories),J.$set(X)},i(v){k||(D(r.$$.fragment,v),D(u.$$.fragment,v),D(y.$$.fragment,v),D(J.$$.fragment,v),k=!0)},o(v){R(r.$$.fragment,v),R(u.$$.fragment,v),R(y.$$.fragment,v),R(J.$$.fragment,v),k=!1},d(v){v&&N(e),M(r),v&&N(i),v&&N(o),M(u),v&&N(f),v&&N(g),M(y),v&&N(O),v&&N($),M(J)}}}function ht(a){let e,t,l,n,r,i,o,p,c;t=new ke({props:{isShow:a[6],isbgTransparent:!0}});function s(g){a[24](g)}let u={choiceOptions:{removeItemButton:!1,searchEnabled:!1},isHorizontal:!0,items:"center",label:"Year",options:tt};a[0].clearanceCertificateYear.year!==void 0&&(u.value=a[0].clearanceCertificateYear.year),r=new Ge({props:u}),Q.push(()=>x(r,"value",s)),r.$on("change",a[12]);let f=a[7]&&Te(a);return{c(){e=h("div"),F(t.$$.fragment),l=B(),n=h("div"),F(r.$$.fragment),o=B(),p=h("div"),f&&f.c(),_(n,"class","grid grid-cols-2 mb-3 px-1 desktop:grid-cols-8 desktop:px-0"),_(p,"class","grid gap-2 desktop:grid-cols-2"),_(e,"class","relative bg-gray-400 p-1 pt-3 desktop:p-4 desktop:pt-3")},m(g,m){Y(g,e,m),H(t,e,null),d(e,l),d(e,n),H(r,n,null),d(e,o),d(e,p),f&&f.m(p,null),c=!0},p(g,m){const C={};m&64&&(C.isShow=g[6]),t.$set(C);const b={};!i&&m&1&&(i=!0,b.value=g[0].clearanceCertificateYear.year,ee(()=>i=!1)),r.$set(b),g[7]?f?(f.p(g,m),m&128&&D(f,1)):(f=Te(g),f.c(),D(f,1),f.m(p,null)):f&&(pe(),R(f,1,1,()=>{f=null}),ge())},i(g){c||(D(t.$$.fragment,g),D(r.$$.fragment,g),D(f),c=!0)},o(g){R(t.$$.fragment,g),R(r.$$.fragment,g),R(f),c=!1},d(g){g&&N(e),M(t),M(r),f&&f.d()}}}function bt(a){let e,t,l,n,r,i,o,p,c;return t=new _e({props:{title:"Daily Clearance Certificate",$$slots:{default:[mt]},$$scope:{ctx:a}}}),n=new _e({props:{title:"Detail Report by Area",$$slots:{default:[_t]},$$scope:{ctx:a}}}),p=new _e({props:{title:"Clearance Certificate Year to Date",$$slots:{default:[ht]},$$scope:{ctx:a}}}),{c(){e=h("div"),F(t.$$.fragment),l=B(),F(n.$$.fragment),r=B(),i=h("div"),o=B(),F(p.$$.fragment),_(i,"class","page-break"),_(e,"class","space-y-2")},m(s,u){Y(s,e,u),H(t,e,null),d(e,l),H(n,e,null),d(e,r),d(e,i),d(e,o),H(p,e,null),c=!0},p(s,[u]){const f={};u&134217735&&(f.$$scope={dirty:u,ctx:s}),t.$set(f);const g={};u&134217785&&(g.$$scope={dirty:u,ctx:s}),n.$set(g);const m={};u&134217921&&(m.$$scope={dirty:u,ctx:s}),p.$set(m)},i(s){c||(D(t.$$.fragment,s),D(n.$$.fragment,s),D(p.$$.fragment,s),c=!0)},o(s){R(t.$$.fragment,s),R(n.$$.fragment,s),R(p.$$.fragment,s),c=!1},d(s){s&&N(e),M(t),M(n),M(p)}}}var U;(function(a){a.Month="Month",a.Week="Week",a.Manual="Manual"})(U||(U={}));function vt(a,e,t){const l=Re.now(),n={area:"All",year:l.toFormat("yyyy"),startDate:l.startOf("month").toJSDate(),endDate:l.endOf("month").toJSDate()};let r={dailyClearanceCertificate:{...n,startDate:l.minus({day:6}).startOf("day").toJSDate(),endDate:l.toJSDate()},detailReportByArea:{...n},clearanceCertificateYear:{...n}},i=!1,o,p=!1,c,s=U.Month,u=!1,f;Ae(()=>{g()});function g(){m(),C(),b()}function m(){t(1,i=!0),oe.DailyClearanceCertificateChartSeries({filter:y(r.dailyClearanceCertificate)}).then(A=>{console.log("result",A),t(1,i=!1),t(2,o=A)}).catch(()=>{t(1,i=!1),alert("Error: something went wrong.")})}function C(){t(3,p=!0),oe.DetailReportByAreaChartSeries({filter:r.detailReportByArea}).then(A=>{t(3,p=!1),t(4,c=A)})}function b(){t(6,u=!0),oe.ClearanceCertificateYearChartSeries({filter:r.clearanceCertificateYear}).then(A=>{t(6,u=!1),t(7,f=A)})}function y(A){return{...A,area:A.area==="All"?"all":A.area,endDate:Re.fromJSDate(A.endDate).endOf("day").toJSDate()}}function O(){return{...r,dailyClearanceCertificate:y(r.dailyClearanceCertificate)}}function $(A){a.$$.not_equal(r.dailyClearanceCertificate.startDate,A)&&(r.dailyClearanceCertificate.startDate=A,t(0,r))}function L(A){a.$$.not_equal(r.dailyClearanceCertificate.endDate,A)&&(r.dailyClearanceCertificate.endDate=A,t(0,r))}function z(A){a.$$.not_equal(r.dailyClearanceCertificate.area,A)&&(r.dailyClearanceCertificate.area=A,t(0,r))}function j(A){s=A,t(5,s)}const J=()=>{t(0,r.detailReportByArea.startDate=n.startDate,r),t(0,r.detailReportByArea.endDate=n.endDate,r),C()};function k(A){s=A,t(5,s)}const w=()=>{t(0,r.detailReportByArea.startDate=l.startOf("week").toJSDate(),r),t(0,r.detailReportByArea.endDate=l.endOf("week").toJSDate(),r),C()};function S(A){s=A,t(5,s)}function q(A){a.$$.not_equal(r.detailReportByArea.startDate,A)&&(r.detailReportByArea.startDate=A,t(0,r))}function T(A){a.$$.not_equal(r.detailReportByArea.endDate,A)&&(r.detailReportByArea.endDate=A,t(0,r))}function I(A){a.$$.not_equal(r.clearanceCertificateYear.year,A)&&(r.clearanceCertificateYear.year=A,t(0,r))}return[r,i,o,p,c,s,u,f,l,n,m,C,b,O,$,L,z,j,J,k,w,S,q,T,I]}class Ct extends be{constructor(e){super(),ve(this,e,vt,bt,Ce,{getFilter:13})}get getFilter(){return this.$$.ctx[13]}}function kt(a){let e;return{c(){e=h("div")},m(t,l){Y(t,e,l),a[6](e)},p:De,i:De,o:De,d(t){t&&N(e),a[6](null)}}}function $t(a,e,t){let{series:l}=e,{options:n=void 0}=e,{title:r=void 0}=e;const i=Ie(),o=()=>i("rendered",{chart:s});let p=!1,c,s,u;Ae(()=>{t(4,p=!0),g()}),at(()=>{s&&s.destroy()});function f(){return JSON.stringify(u)!==JSON.stringify(l)}function g(){u=l,t(5,s=lt.chart(c,m())),setTimeout(()=>{o()})}function m(){return{chart:{type:"pie"},credits:{enabled:!1},title:{text:r},accessibility:{enabled:!1},legend:{labelFormat:`
        <span class="font-weight-normal">
          <span class="text-gray-600">{name}</span>
          <span> ({y})</span>
        </span>
        `},plotOptions:{pie:{dataLabels:{format:"{point.y}",style:{textOutline:"none"}},showInLegend:!0}},series:[{data:l}],...n}}function C(b){Q[b?"unshift":"push"](()=>{c=b,t(0,c)})}return a.$$set=b=>{"series"in b&&t(1,l=b.series),"options"in b&&t(2,n=b.options),"title"in b&&t(3,r=b.title)},a.$$.update=()=>{a.$$.dirty&50&&p&&f()&&(u=l,s&&s.destroy(),g())},[c,l,n,r,p,s,C]}class wt extends be{constructor(e){super(),ve(this,e,$t,kt,Ce,{series:1,options:2,title:3})}}function ze(a){let e,t,l,n,r,i,o,p,c,s,u,f;return r=new wt({props:{series:a[7]}}),r.$on("rendered",a[22]),u=new le({props:{series:[a[5]],categories:void 0,options:{legend:{enabled:!1},xAxis:{type:"category",labels:{format:'<span class="text-gray-600 text-size-small">{value}</span>'}}}}}),{c(){e=h("div"),t=h("div"),t.textContent="High Risk Work",l=B(),n=h("div"),F(r.$$.fragment),i=B(),o=h("div"),p=h("div"),p.textContent="OFFSITE - High Risk Work",c=B(),s=h("div"),F(u.$$.fragment),_(t,"class","text-size-xlarge font-weight-bold mb-3"),_(n,"class","_small-chart-wrapper svelte-1eecmw7"),_(e,"class","bg-white px-1 py-2 desktop:p-3"),_(p,"class","text-size-xlarge font-weight-bold mb-3"),_(s,"class","_small-chart-wrapper svelte-1eecmw7"),_(o,"class","bg-white px-1 py-2 desktop:p-3")},m(g,m){Y(g,e,m),d(e,t),d(e,l),d(e,n),H(r,n,null),Y(g,i,m),Y(g,o,m),d(o,p),d(o,c),d(o,s),H(u,s,null),f=!0},p(g,m){const C={};m&128&&(C.series=g[7]),r.$set(C);const b={};m&32&&(b.series=[g[5]]),u.$set(b)},i(g){f||(D(r.$$.fragment,g),D(u.$$.fragment,g),f=!0)},o(g){R(r.$$.fragment,g),R(u.$$.fragment,g),f=!1},d(g){g&&N(e),M(r),g&&N(i),g&&N(o),M(u)}}}function Dt(a){let e,t,l,n,r,i,o,p,c,s,u,f,g,m,C,b,y,O,$,L,z,j,J,k,w,S,q,T,I;t=new ke({props:{isShow:a[2],isbgTransparent:!0}});function A(E){a[14](E)}let Z={label:"This Month",name:"timeRange",value:U.Month,isForm:!0};a[1]!==void 0&&(Z.group=a[1]),i=new de({props:Z}),Q.push(()=>x(i,"group",A)),i.$on("change",a[15]);function ae(E){a[16](E)}let v={label:"This Week",name:"timeRange",value:U.Week,isForm:!0};a[1]!==void 0&&(v.group=a[1]),c=new de({props:v}),Q.push(()=>x(c,"group",ae)),c.$on("change",a[17]);function P(E){a[18](E)}let te={label:"Manual Select",name:"timeRange",value:U.Manual,isForm:!0};a[1]!==void 0&&(te.group=a[1]),f=new de({props:te}),Q.push(()=>x(f,"group",P));function G(E){a[19](E)}let W={label:"Start Date",maxDate:a[0].endDate,disabled:a[1]!==U.Manual};a[0].startDate!==void 0&&(W.value=a[0].startDate),y=new he({props:W}),Q.push(()=>x(y,"value",G)),y.$on("change",a[12]);function X(E){a[20](E)}let ne={label:"End Date",minDate:a[0].startDate,disabled:a[1]!==U.Manual};a[0].endDate!==void 0&&(ne.value=a[0].endDate),z=new he({props:ne}),Q.push(()=>x(z,"value",X)),z.$on("change",a[12]);function se(E){a[21](E)}let ie={service:oe.allAreas,change:a[12]};a[0].area!==void 0&&(ie.value=a[0].area),w=new Ve({props:ie}),Q.push(()=>x(w,"value",se));let V=a[4]&&ze(a);return{c(){e=h("div"),F(t.$$.fragment),l=B(),n=h("div"),r=h("div"),F(i.$$.fragment),p=B(),F(c.$$.fragment),u=B(),F(f.$$.fragment),m=B(),C=h("div"),b=h("div"),F(y.$$.fragment),$=B(),L=h("div"),F(z.$$.fragment),J=B(),k=h("div"),F(w.$$.fragment),q=B(),T=h("div"),V&&V.c(),_(r,"class","flex justify-between col-span-2 mb-2 desktop:items-end desktop:pb-1.5 desktop:mb-0"),_(b,"class","flex-1"),_(L,"class","flex-1"),_(C,"class","flex gap-2 col-span-2 mb-2 desktop:col-start-4 desktop:mb-0"),_(k,"class","col-span-2 desktop:col-start-7"),_(n,"class","grid grid-cols-2 mb-3 px-1 desktop:grid-cols-8 desktop:px-0"),_(T,"class","grid gap-2 desktop:grid-cols-2"),_(e,"class","relative bg-gray-400 p-1 pt-3 desktop:p-4 desktop:pt-3")},m(E,K){Y(E,e,K),H(t,e,null),d(e,l),d(e,n),d(n,r),H(i,r,null),d(r,p),H(c,r,null),d(r,u),H(f,r,null),d(n,m),d(n,C),d(C,b),H(y,b,null),d(C,$),d(C,L),H(z,L,null),d(n,J),d(n,k),H(w,k,null),d(e,q),d(e,T),V&&V.m(T,null),I=!0},p(E,K){const ue={};K&4&&(ue.isShow=E[2]),t.$set(ue);const ce={};!o&&K&2&&(o=!0,ce.group=E[1],ee(()=>o=!1)),i.$set(ce);const Se={};!s&&K&2&&(s=!0,Se.group=E[1],ee(()=>s=!1)),c.$set(Se);const Ee={};!g&&K&2&&(g=!0,Ee.group=E[1],ee(()=>g=!1)),f.$set(Ee);const $e={};K&1&&($e.maxDate=E[0].endDate),K&2&&($e.disabled=E[1]!==U.Manual),!O&&K&1&&(O=!0,$e.value=E[0].startDate,ee(()=>O=!1)),y.$set($e);const we={};K&1&&(we.minDate=E[0].startDate),K&2&&(we.disabled=E[1]!==U.Manual),!j&&K&1&&(j=!0,we.value=E[0].endDate,ee(()=>j=!1)),z.$set(we);const Be={};!S&&K&1&&(S=!0,Be.value=E[0].area,ee(()=>S=!1)),w.$set(Be),E[4]?V?(V.p(E,K),K&16&&D(V,1)):(V=ze(E),V.c(),D(V,1),V.m(T,null)):V&&(pe(),R(V,1,1,()=>{V=null}),ge())},i(E){I||(D(t.$$.fragment,E),D(i.$$.fragment,E),D(c.$$.fragment,E),D(f.$$.fragment,E),D(y.$$.fragment,E),D(z.$$.fragment,E),D(w.$$.fragment,E),D(V),I=!0)},o(E){R(t.$$.fragment,E),R(i.$$.fragment,E),R(c.$$.fragment,E),R(f.$$.fragment,E),R(y.$$.fragment,E),R(z.$$.fragment,E),R(w.$$.fragment,E),R(V),I=!1},d(E){E&&N(e),M(t),M(i),M(c),M(f),M(y),M(z),M(w),V&&V.d()}}}function Oe(a){let e,t,l,n,r;return n=new le({props:{series:a[9],categories:void 0,options:{legend:{enabled:!1},xAxis:{type:"category",labels:{format:'<span class="text-gray-600 text-size-small">{value}</span>'}}}}}),{c(){e=h("div"),e.textContent="Top 5 Applicants or Bearer",t=B(),l=h("div"),F(n.$$.fragment),_(e,"class","text-size-xlarge font-weight-bold mb-3"),_(l,"class","max-w-[1256px] mx-auto")},m(i,o){Y(i,e,o),Y(i,t,o),Y(i,l,o),H(n,l,null),r=!0},p(i,o){const p={};o&512&&(p.series=i[9]),n.$set(p)},i(i){r||(D(n.$$.fragment,i),r=!0)},o(i){R(n.$$.fragment,i),r=!1},d(i){i&&N(e),i&&N(t),i&&N(l),M(n)}}}function yt(a){let e,t,l,n,r;t=new ke({props:{isShow:a[3],isbgTransparent:!0}});let i=a[6]&&Oe(a);return{c(){e=h("div"),F(t.$$.fragment),l=B(),n=h("div"),i&&i.c(),_(n,"class","bg-white px-1 py-2 desktop:p-3"),_(e,"class","relative bg-gray-400 p-1 pt-3 desktop:p-4 desktop:pt-3")},m(o,p){Y(o,e,p),H(t,e,null),d(e,l),d(e,n),i&&i.m(n,null),r=!0},p(o,p){const c={};p&8&&(c.isShow=o[3]),t.$set(c),o[6]?i?(i.p(o,p),p&64&&D(i,1)):(i=Oe(o),i.c(),D(i,1),i.m(n,null)):i&&(pe(),R(i,1,1,()=>{i=null}),ge())},i(o){r||(D(t.$$.fragment,o),D(i),r=!0)},o(o){R(t.$$.fragment,o),R(i),r=!1},d(o){o&&N(e),M(t),i&&i.d()}}}function Rt(a){let e,t,l,n,r;return t=new _e({props:{title:"High Risk Work by Area",$$slots:{default:[Dt]},$$scope:{ctx:a}}}),n=new _e({props:{title:"Top 5 Applicants or Bearer",$$slots:{default:[yt]},$$scope:{ctx:a}}}),{c(){e=h("div"),F(t.$$.fragment),l=B(),F(n.$$.fragment),_(e,"class","space-y-2")},m(i,o){Y(i,e,o),H(t,e,null),d(e,l),H(n,e,null),r=!0},p(i,[o]){const p={};o&33554871&&(p.$$scope={dirty:o,ctx:i}),t.$set(p);const c={};o&33555016&&(c.$$scope={dirty:o,ctx:i}),n.$set(c)},i(i){r||(D(t.$$.fragment,i),D(n.$$.fragment,i),r=!0)},o(i){R(t.$$.fragment,i),R(n.$$.fragment,i),r=!1},d(i){i&&N(e),M(t),M(n)}}}function At(a){return a===0?{enabled:!1}:a===100?{enabled:!0,distance:"-100%"}:{enabled:!0,distance:"-20%"}}function Pe(a){return{...a,area:a.area==="All"?"all":a.area}}function St(a,e,t){const l=Re.now(),n={area:"All",year:l.toFormat("yyyy"),startDate:l.startOf("month").toJSDate(),endDate:l.endOf("month").toJSDate()};let r={...n},i=U.Month,o=!1,p=!1,c,s,u;Ae(()=>{f()});function f(){C(),y()}let g=[],m=0;function C(){t(2,o=!0),Promise.all([oe.DashboardHRWPieChartSeries({filter:Pe(r)}),oe.DashboardHRWChartSeries({filter:Pe(r)})]).then(T=>{t(2,o=!1),t(4,c=T[0]),t(8,m=0);for(const I of c.data)t(8,m+=I.y);t(7,g=c.data.map(I=>({...I,dataLabels:At(I.y/m*100)}))),t(5,s=T[1])})}let b=[];function y(){t(3,p=!0),oe.DashboardTopFiveChartSeries({filter:r}).then(T=>{t(3,p=!1),t(6,u=T),t(9,b=[{name:"",data:u.series.map(I=>({...I,y:I.data[0]}))}])})}function O(){return r}function $(T){i=T,t(1,i)}const L=()=>{t(0,r.startDate=n.startDate,r),t(0,r.endDate=n.endDate,r),C()};function z(T){i=T,t(1,i)}const j=()=>{t(0,r.startDate=l.startOf("week").toJSDate(),r),t(0,r.endDate=l.endOf("week").toJSDate(),r),C()};function J(T){i=T,t(1,i)}function k(T){a.$$.not_equal(r.startDate,T)&&(r.startDate=T,t(0,r))}function w(T){a.$$.not_equal(r.endDate,T)&&(r.endDate=T,t(0,r))}function S(T){a.$$.not_equal(r.area,T)&&(r.area=T,t(0,r))}return[r,i,o,p,c,s,u,g,m,b,l,n,C,O,$,L,z,j,J,k,w,S,({detail:{chart:T}})=>{T.customLabel&&T.customLabel.destroy(),T.customLabel=T.renderer.label(`Total : ${m}`,T.legend.group.translateX+6,T.legend.group.translateY-25,void 0,void 0,void 0,void 0,void 0," text-size-medium").add()}]}class Et extends be{constructor(e){super(),ve(this,e,St,Rt,Ce,{getFilter:13})}get getFilter(){return this.$$.ctx[13]}}function Ye(a,e,t){const l=a.slice();return l[22]=e[t],l}function Ne(a,e,t){const l=a.slice();return l[25]=e[t],l}function Le(a){let e;return{c(){e=h("div"),e.textContent="Generating PDF ...",_(e,"class","_g-pdf-generating")},m(t,l){Y(t,e,l)},d(t){t&&N(e)}}}function Je(a){let e,t,l,n,r,i,o=a[25].label+"",p,c,s,u;function f(){return a[14](a[25])}return{c(){e=h("div"),t=h("div"),l=h("span"),n=h("i"),r=B(),i=h("div"),p=it(o),c=B(),_(n,"class","ic "+a[25].icon+" svelte-c95ihv"),_(l,"class","icon mr-1"),_(t,"class","text-size-xlarge"),_(e,"class","_tab svelte-c95ihv"),re(e,"_active-tab",a[8]===a[25].id)},m(g,m){Y(g,e,m),d(e,t),d(t,l),d(l,n),d(e,r),d(e,i),d(i,p),d(e,c),s||(u=ye(e,"click",f),s=!0)},p(g,m){a=g,m&1280&&re(e,"_active-tab",a[8]===a[25].id)},d(g){g&&N(e),s=!1,u()}}}function Bt(a){let e,t,l={};return e=new Et({props:l}),a[16](e),{c(){F(e.$$.fragment)},m(n,r){H(e,n,r),t=!0},p(n,r){const i={};e.$set(i)},i(n){t||(D(e.$$.fragment,n),t=!0)},o(n){R(e.$$.fragment,n),t=!1},d(n){a[16](null),M(e,n)}}}function Wt(a){let e,t,l={};return e=new Ct({props:l}),a[15](e),{c(){F(e.$$.fragment)},m(n,r){H(e,n,r),t=!0},p(n,r){const i={};e.$set(i)},i(n){t||(D(e.$$.fragment,n),t=!0)},o(n){R(e.$$.fragment,n),t=!1},d(n){a[15](null),M(e,n)}}}function qe(a){let e,t,l;function n(i){a[18](i)}let r={isForm:!0,fullWidth:!0,label:a[22].label,value:a[22].value};return a[4]!==void 0&&(r.group=a[4]),e=new de({props:r}),Q.push(()=>x(e,"group",n)),{c(){F(e.$$.fragment)},m(i,o){H(e,i,o),l=!0},p(i,o){const p={};!t&&o&16&&(t=!0,p.group=i[4],ee(()=>t=!1)),e.$set(p)},i(i){l||(D(e.$$.fragment,i),l=!0)},o(i){R(e.$$.fragment,i),l=!1},d(i){M(e,i)}}}function Ft(a){let e,t,l,n,r,i,o,p,c,s,u=a[9],f=[];for(let m=0;m<u.length;m+=1)f[m]=qe(Ye(a,u,m));const g=m=>R(f[m],1,1,()=>{f[m]=null});return o=new Fe({props:{label:"Export",width:162}}),o.$on("click",a[12]),c=new Fe({props:{outline:!0,primary:!1,label:"Cancel",width:162}}),c.$on("click",a[19]),{c(){e=h("div"),t=h("div"),t.textContent="Please select Graph type to export data",l=B(),n=h("div");for(let m=0;m<f.length;m+=1)f[m].c();r=B(),i=h("div"),F(o.$$.fragment),p=B(),F(c.$$.fragment),_(t,"class","text-size-medium font-weight-bold mb-2"),_(n,"class","space-y-1 text-size-medium pl-1 mb-3"),_(i,"class","flex justify-center gap-2"),_(e,"class","p-2")},m(m,C){Y(m,e,C),d(e,t),d(e,l),d(e,n);for(let b=0;b<f.length;b+=1)f[b].m(n,null);d(e,r),d(e,i),H(o,i,null),d(i,p),H(c,i,null),s=!0},p(m,C){if(C&528){u=m[9];let b;for(b=0;b<u.length;b+=1){const y=Ye(m,u,b);f[b]?(f[b].p(y,C),D(f[b],1)):(f[b]=qe(y),f[b].c(),D(f[b],1),f[b].m(n,null))}for(pe(),b=u.length;b<f.length;b+=1)g(b);ge()}},i(m){if(!s){for(let C=0;C<u.length;C+=1)D(f[C]);D(o.$$.fragment,m),D(c.$$.fragment,m),s=!0}},o(m){f=f.filter(Boolean);for(let C=0;C<f.length;C+=1)R(f[C]);R(o.$$.fragment,m),R(c.$$.fragment,m),s=!1},d(m){m&&N(e),je(f,m),M(o),M(c)}}}function Ht(a){let e,t,l,n,r,i,o,p,c,s,u,f,g,m,C,b,y=a[6]&&Le(),O=a[10],$=[];for(let k=0;k<O.length;k+=1)$[k]=Je(Ne(a,O,k));o=new We({props:{isExportingExcel:a[5],onExportExcel:a[11],onExportPDF:a[13]}});const L=[Wt,Bt],z=[];function j(k,w){return k[8]===k[7].ClearanceCertificate?0:1}s=j(a),u=z[s]=L[s](a),g=new We({props:{isExportingExcel:a[5],onExportExcel:a[11],onExportPDF:a[13]}});let J={maxWidth:"600px",$$slots:{default:[Ft]},$$scope:{ctx:a}};return C=new st({props:J}),a[20](C),{c(){y&&y.c(),e=B(),t=h("div"),l=h("div"),l.innerHTML=`<div class="text-menu-dashboard mr-2 text-[36px]"><span class="icon"><i class="ic ic-dashboard-square"></i></span></div> 
      <div class="text-gray-700 text-size-xlarge">Work@Plot Dashboard</div>`,n=B(),r=h("div");for(let k=0;k<$.length;k+=1)$[k].c();i=B(),F(o.$$.fragment),p=B(),c=h("div"),u.c(),f=B(),F(g.$$.fragment),m=B(),F(C.$$.fragment),_(l,"class","bg-gray-100 border border-gray-500 p-2 flex items-center rounded-md"),_(r,"class","w-full flex desktop:w-[420px] desktop:mx-auto"),_(c,"id","dashboard-report"),_(t,"class","space-y-2")},m(k,w){y&&y.m(k,w),Y(k,e,w),Y(k,t,w),d(t,l),d(t,n),d(t,r);for(let S=0;S<$.length;S+=1)$[S].m(r,null);d(t,i),H(o,t,null),d(t,p),d(t,c),z[s].m(c,null),a[17](c),d(t,f),H(g,t,null),Y(k,m,w),H(C,k,w),b=!0},p(k,w){if(k[6]?y||(y=Le(),y.c(),y.m(e.parentNode,e)):y&&(y.d(1),y=null),w&1280){O=k[10];let A;for(A=0;A<O.length;A+=1){const Z=Ne(k,O,A);$[A]?$[A].p(Z,w):($[A]=Je(Z),$[A].c(),$[A].m(r,null))}for(;A<$.length;A+=1)$[A].d(1);$.length=O.length}const S={};w&32&&(S.isExportingExcel=k[5]),o.$set(S);let q=s;s=j(k),s===q?z[s].p(k,w):(pe(),R(z[q],1,1,()=>{z[q]=null}),ge(),u=z[s],u?u.p(k,w):(u=z[s]=L[s](k),u.c()),D(u,1),u.m(c,null));const T={};w&32&&(T.isExportingExcel=k[5]),g.$set(T);const I={};w&268435480&&(I.$$scope={dirty:w,ctx:k}),C.$set(I)},i(k){b||(D(o.$$.fragment,k),D(u),D(g.$$.fragment,k),D(C.$$.fragment,k),b=!0)},o(k){R(o.$$.fragment,k),R(u),R(g.$$.fragment,k),R(C.$$.fragment,k),b=!1},d(k){y&&y.d(k),k&&N(e),k&&N(t),je($,k),M(o),z[s].d(),a[17](null),M(g),k&&N(m),a[20](null),M(C,k)}}}function Mt(a){let e,t;return e=new rt({props:{$$slots:{default:[Ht]},$$scope:{ctx:a}}}),{c(){F(e.$$.fragment)},m(l,n){H(e,l,n),t=!0},p(l,[n]){const r={};n&268435967&&(r.$$scope={dirty:n,ctx:l}),e.$set(r)},i(l){t||(D(e.$$.fragment,l),t=!0)},o(l){R(e.$$.fragment,l),t=!1},d(l){M(e,l)}}}function Tt(a,e,t){let l,n,r,i,o,p=!1,c=!1;var s;(function(w){w.DailyClearanceCertificate="DailyClearanceCertificate",w.DetailReportByArea="DetailReportByArea",w.ClearanceCertificateYearToDate="ClearanceCertificateYearToDate"})(s||(s={}));const u=[{value:s.DailyClearanceCertificate,label:"Daily Clearance Certificate"},{value:s.DetailReportByArea,label:"Detail Report by Area"},{value:s.ClearanceCertificateYearToDate,label:"Clearance Certificate Year to Date"}];var f;(function(w){w.ClearanceCertificate="ClearanceCertificate",w.HighRiskWork="HighRiskWork"})(f||(f={}));let g=f.ClearanceCertificate;const m=[{id:f.ClearanceCertificate,icon:"ic-clearance-certificate",label:"Clearance Certificate"},{id:f.HighRiskWork,icon:"ic-high-risk-Work",label:"High Risk Work"}];function C(){if(g==f.ClearanceCertificate)i.open();else{t(5,p=!0);const w=r.getFilter();oe.ExportHighRiskWorkExcel({filter:w}).then(S=>{t(5,p=!1),window.open(S)})}}function b(){if(o){const S={[s.DailyClearanceCertificate]:{excelName:"daily",filterName:"dailyClearanceCertificate"},[s.DetailReportByArea]:{excelName:"detail",filterName:"detailReportByArea"},[s.ClearanceCertificateYearToDate]:{excelName:"clearance",filterName:"clearanceCertificateYear"}}[o];t(5,p=!0),t(4,o=void 0),i.close(),oe.ExportClearanceCertificateExcel({excelName:S.excelName,filter:n.getFilter()[S.filterName]}).then(q=>{t(5,p=!1),window.open(q)})}}function y(){t(6,c=!0);const w=g==f.ClearanceCertificate?"clearance-certificate-report":"high-risk-work-report";nt.export(l,{fileName:w,scale:.4}).then(()=>{t(6,c=!1)})}const O=w=>t(8,g=w.id);function $(w){Q[w?"unshift":"push"](()=>{n=w,t(1,n)})}function L(w){Q[w?"unshift":"push"](()=>{r=w,t(2,r)})}function z(w){Q[w?"unshift":"push"](()=>{l=w,t(0,l)})}function j(w){o=w,t(4,o)}const J=()=>{i.close(),t(4,o=void 0)};function k(w){Q[w?"unshift":"push"](()=>{i=w,t(3,i)})}return[l,n,r,i,o,p,c,f,g,u,m,C,b,y,O,$,L,z,j,J,k]}class zt extends be{constructor(e){super(),ve(this,e,Tt,Mt,Ce,{})}}new zt({target:document.getElementById("app")});
