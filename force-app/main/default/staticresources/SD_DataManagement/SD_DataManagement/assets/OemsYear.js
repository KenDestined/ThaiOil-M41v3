var De=Object.defineProperty,Ce=Object.defineProperties;var Se=Object.getOwnPropertyDescriptors;var fe=Object.getOwnPropertySymbols;var Ne=Object.prototype.hasOwnProperty,He=Object.prototype.propertyIsEnumerable;var ue=(a,e,t)=>e in a?De(a,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):a[e]=t,oe=(a,e)=>{for(var t in e||(e={}))Ne.call(e,t)&&ue(a,t,e[t]);if(fe)for(var t of fe(e))He.call(e,t)&&ue(a,t,e[t]);return a},re=(a,e)=>Ce(a,Se(e));import{h as de,f as pe,g as Oe,B as ie,i as Le,D as Me,L as Be,T as Ie,l as Pe}from"./formatter.js";import{S as ce,i as me,s as _e,r as $,a as k,u as x,d as V,y as ae,p as G,m as W,v as ee,h as Q,e as h,t as q,f as l,g as X,c as _,q as se,l as Ke,o as Fe,z as Je,w as le,x as ne,A as ze}from"./vendor.js";import{o as Ae,E as qe,T as Ue}from"./ExportButton.js";import{B as ge}from"./BaseInput.js";function he(a,e,t){const o=a.slice();return o[15]=e[t],o[17]=t,o}function be(a,e,t){const o=a.slice();return o[18]=e[t],o}function ve(a,e,t){const o=a.slice();return o[21]=e[t],o}function ye(a,e,t){const o=a.slice();return o[21]=e[t],o}function we(a){let e,t,o,s,f,c;function p(r){a[11](r)}let v={label:"Start Year",name:"startYear",defaultValue:a[8],options:a[6],change:a[10],width:156,isHorizontal:!0};a[0]!==void 0&&(v.value=a[0]),e=new ie({props:v}),le.push(()=>ne(e,"value",p));function E(r){a[12](r)}let Y={label:"End Year",name:"endYear",defaultValue:a[9],options:a[7],change:a[10],width:156,isHorizontal:!0};return a[1]!==void 0&&(Y.value=a[1]),s=new ie({props:Y}),le.push(()=>ne(s,"value",E)),{c(){$(e.$$.fragment),o=k(),$(s.$$.fragment)},m(r,y){x(e,r,y),V(r,o,y),x(s,r,y),c=!0},p(r,y){const b={};y&64&&(b.options=r[6]),!t&&y&1&&(t=!0,b.value=r[0],ae(()=>t=!1)),e.$set(b);const w={};y&128&&(w.options=r[7]),!f&&y&2&&(f=!0,w.value=r[1],ae(()=>f=!1)),s.$set(w)},i(r){c||(G(e.$$.fragment,r),G(s.$$.fragment,r),c=!0)},o(r){W(e.$$.fragment,r),W(s.$$.fragment,r),c=!1},d(r){ee(e,r),r&&Q(o),ee(s,r)}}}function ke(a){let e,t,o,s;return{c(){e=h("span"),t=q(a[0]),o=q(" - "),s=q(a[1])},m(f,c){V(f,e,c),l(e,t),l(e,o),l(e,s)},p(f,c){c&1&&X(t,f[0]),c&2&&X(s,f[1])},d(f){f&&Q(e)}}}function Ye(a){let e,t=a[21]+"",o,s;return{c(){e=h("th"),o=q(t),s=k(),_(e,"colspan","2"),_(e,"class","_head-col _extend _col-extend svelte-14tjkyy")},m(f,c){V(f,e,c),l(e,o),l(e,s)},p(f,c){c&32&&t!==(t=f[21]+"")&&X(o,t)},d(f){f&&Q(e)}}}function Te(a){let e,t,o;return{c(){e=h("th"),e.textContent="Target",t=k(),o=h("th"),o.textContent="Actual",_(e,"class","_head-col _target svelte-14tjkyy"),_(o,"class","_head-col _actual svelte-14tjkyy")},m(s,f){V(s,e,f),V(s,t,f),V(s,o,f)},d(s){s&&Q(e),s&&Q(t),s&&Q(o)}}}function Ee(a){let e,t=de(a[18].target)+"",o,s,f=pe(a[18].actual,2)+"",c;return{c(){e=h("td"),o=k(),s=h("td"),c=q(f),_(e,"class","svelte-14tjkyy"),_(s,"class","svelte-14tjkyy")},m(p,v){V(p,e,v),e.innerHTML=t,V(p,o,v),V(p,s,v),l(s,c)},p(p,v){v&8&&t!==(t=de(p[18].target)+"")&&(e.innerHTML=t),v&8&&f!==(f=pe(p[18].actual,2)+"")&&X(c,f)},d(p){p&&Q(e),p&&Q(o),p&&Q(s)}}}function je(a){var U,u;let e,t,o=a[17]+1+"",s,f,c,p=a[15].name+"",v,E,Y,r=a[15].unit+"",y,b,w,I=a[15].shortName+"",D,J,d,C=((U=a[15].pttKpiCode)!=null?U:"")+"",P,H,g,z=((u=a[15].djsiKpiCode)!=null?u:"")+"",B,te,Z,K=a[15].datas,N=[];for(let n=0;n<K.length;n+=1)N[n]=Ee(be(a,K,n));return{c(){e=h("tr"),t=h("td"),s=q(o),f=k(),c=h("td"),v=q(p),E=k(),Y=h("td"),y=q(r),b=k(),w=h("td"),D=q(I),J=k(),d=h("td"),P=q(C),H=k(),g=h("td"),B=q(z),te=k();for(let n=0;n<N.length;n+=1)N[n].c();Z=k(),_(t,"class","_col-no svelte-14tjkyy"),_(c,"class","_col-kpi svelte-14tjkyy"),_(Y,"class","svelte-14tjkyy"),_(w,"class","_col-short-name svelte-14tjkyy"),_(d,"class","svelte-14tjkyy"),_(g,"class","svelte-14tjkyy")},m(n,T){V(n,e,T),l(e,t),l(t,s),l(e,f),l(e,c),l(c,v),l(e,E),l(e,Y),l(Y,y),l(e,b),l(e,w),l(w,D),l(e,J),l(e,d),l(d,P),l(e,H),l(e,g),l(g,B),l(e,te);for(let M=0;M<N.length;M+=1)N[M].m(e,null);l(e,Z)},p(n,T){var M,S;if(T&8&&p!==(p=n[15].name+"")&&X(v,p),T&8&&r!==(r=n[15].unit+"")&&X(y,r),T&8&&I!==(I=n[15].shortName+"")&&X(D,I),T&8&&C!==(C=((M=n[15].pttKpiCode)!=null?M:"")+"")&&X(P,C),T&8&&z!==(z=((S=n[15].djsiKpiCode)!=null?S:"")+"")&&X(B,z),T&8){K=n[15].datas;let j;for(j=0;j<K.length;j+=1){const O=be(n,K,j);N[j]?N[j].p(O,T):(N[j]=Ee(O),N[j].c(),N[j].m(e,Z))}for(;j<N.length;j+=1)N[j].d(1);N.length=K.length}},d(n){n&&Q(e),se(N,n)}}}function Ve(a){let e,t,o,s,f,c,p,v,E,Y,r,y,b,w,I,D,J,d,C,P,H,g,z,B,te,Z,K,N,U,u,n=!a[4]&&we(a),T=a[4]&&ke(a),M=a[5],S=[];for(let i=0;i<M.length;i+=1)S[i]=Ye(ye(a,M,i));let j=a[5],O=[];for(let i=0;i<j.length;i+=1)O[i]=Te(ve(a,j,i));let A=a[3],F=[];for(let i=0;i<A.length;i+=1)F[i]=je(he(a,A,i));return{c(){e=h("div"),t=h("div"),o=h("div"),s=q(a[2]),f=q(" OEMS KPI by Year"),c=k(),p=h("div"),n&&n.c(),v=k(),T&&T.c(),E=k(),Y=h("div"),r=h("table"),y=h("thead"),b=h("tr"),w=h("th"),w.textContent="No.",I=k(),D=h("th"),D.textContent="KPI Name",J=k(),d=h("th"),d.textContent="Unit",C=k(),P=h("th"),P.textContent="KPI Short Name",H=k(),g=h("th"),g.innerHTML="PTT KPI<br/>Code",z=k(),B=h("th"),B.innerHTML="DJSI KPI<br/>Code",te=k();for(let i=0;i<S.length;i+=1)S[i].c();Z=k(),K=h("tr");for(let i=0;i<O.length;i+=1)O[i].c();N=k(),U=h("tbody");for(let i=0;i<F.length;i+=1)F[i].c();_(o,"class","_box-title push-bottom-2"),_(p,"class","is-flex"),_(t,"class","is-flex is-justify-between push-bottom-2"),_(w,"rowspan","2"),_(w,"class","_head-col _col-no svelte-14tjkyy"),_(D,"rowspan","2"),_(D,"class","_head-col _col-kpi svelte-14tjkyy"),_(d,"rowspan","2"),_(d,"class","_head-col _col-unit svelte-14tjkyy"),_(P,"rowspan","2"),_(P,"class","_head-col _col-short-name svelte-14tjkyy"),_(g,"rowspan","2"),_(g,"class","_head-col _col-ptt svelte-14tjkyy"),_(B,"rowspan","2"),_(B,"class","_head-col _col-djsi svelte-14tjkyy"),_(b,"class","svelte-14tjkyy"),_(K,"class","svelte-14tjkyy"),_(y,"class","svelte-14tjkyy"),_(U,"class","svelte-14tjkyy"),_(r,"class","text-size-small svelte-14tjkyy"),_(Y,"class","_table-container"),_(e,"class","box")},m(i,R){V(i,e,R),l(e,t),l(t,o),l(o,s),l(o,f),l(t,c),l(t,p),n&&n.m(p,null),l(p,v),T&&T.m(p,null),l(e,E),l(e,Y),l(Y,r),l(r,y),l(y,b),l(b,w),l(b,I),l(b,D),l(b,J),l(b,d),l(b,C),l(b,P),l(b,H),l(b,g),l(b,z),l(b,B),l(b,te);for(let m=0;m<S.length;m+=1)S[m].m(b,null);l(y,Z),l(y,K);for(let m=0;m<O.length;m+=1)O[m].m(K,null);l(r,N),l(r,U);for(let m=0;m<F.length;m+=1)F[m].m(U,null);u=!0},p(i,[R]){if((!u||R&4)&&X(s,i[2]),i[4]?n&&(Ke(),W(n,1,1,()=>{n=null}),Fe()):n?(n.p(i,R),R&16&&G(n,1)):(n=we(i),n.c(),G(n,1),n.m(p,v)),i[4]?T?T.p(i,R):(T=ke(i),T.c(),T.m(p,null)):T&&(T.d(1),T=null),R&32){M=i[5];let m;for(m=0;m<M.length;m+=1){const L=ye(i,M,m);S[m]?S[m].p(L,R):(S[m]=Ye(L),S[m].c(),S[m].m(b,null))}for(;m<S.length;m+=1)S[m].d(1);S.length=M.length}if(R&32){const m=j.length;j=i[5];let L;for(L=m;L<j.length;L+=1)ve(i,j,L),O[L]||(O[L]=Te(),O[L].c(),O[L].m(K,null));for(L=j.length;L<m;L+=1)O[L].d(1);O.length=j.length}if(R&8){A=i[3];let m;for(m=0;m<A.length;m+=1){const L=he(i,A,m);F[m]?F[m].p(L,R):(F[m]=je(L),F[m].c(),F[m].m(U,null))}for(;m<F.length;m+=1)F[m].d(1);F.length=A.length}},i(i){u||(G(n),u=!0)},o(i){W(n),u=!1},d(i){i&&Q(e),n&&n.d(),T&&T.d(),se(S,i),se(O,i),se(F,i)}}}function Ge(a,e,t){let{companyLabel:o}=e,{kpiTableDatas:s=[]}=e,{startYear:f}=e,{endYear:c}=e,{isHideExport:p}=e,v=[],E=Oe().map(d=>({id:d,name:d.toString(),disabled:!1}));const Y=E[E.length-1].id,r=E[0].id;let y=[...E];f=Y,c=r;const b=Je();function w(){const d=new Date;d.setFullYear(f);const C=new Date;C.setFullYear(c),t(5,v=Le(d,C,Me.Year))}w();function I(){t(6,E=E.map(d=>re(oe({},d),{disabled:d.id>c}))),t(7,y=y.map(d=>re(oe({},d),{disabled:d.id<f}))),w(),b("search")}function D(d){f=d,t(0,f)}function J(d){c=d,t(1,c)}return a.$$set=d=>{"companyLabel"in d&&t(2,o=d.companyLabel),"kpiTableDatas"in d&&t(3,s=d.kpiTableDatas),"startYear"in d&&t(0,f=d.startYear),"endYear"in d&&t(1,c=d.endYear),"isHideExport"in d&&t(4,p=d.isHideExport)},[f,c,o,s,p,v,E,y,Y,r,I,D,J]}class Qe extends ce{constructor(e){super();me(this,e,Ge,Ve,_e,{companyLabel:2,kpiTableDatas:3,startYear:0,endYear:1,isHideExport:4})}}function Re(a){let e,t,o,s,f,c,p,v,E,Y,r,y,b,w,I,D,J,d,C,P,H,g,z,B;t=new Be({props:{isShow:a[8]}}),p=new Ie({props:{activeTab:a[11],tabs:Ae,isUnsavedChanges:!1}});function te(u){a[15](u)}let Z={label:"Company Name",name:"company",options:a[2],change:a[12],width:156};a[3]!==void 0&&(Z.value=a[3]),r=new ie({props:Z}),le.push(()=>ne(r,"value",te)),w=new ge({props:{label:"Company Full Name",name:"companyFullName",value:a[5],width:400,disabled:!0}}),D=new ge({props:{label:"Company Type",name:"companyType",value:a[6],width:115,disabled:!0}}),C=new qe({props:{onExport:a[14],isExport:a[10],canEdit:!1}});function K(u){a[16](u)}function N(u){a[17](u)}let U={isHideExport:a[9],companyLabel:a[4],kpiTableDatas:a[7]};return a[0]!==void 0&&(U.startYear=a[0]),a[1]!==void 0&&(U.endYear=a[1]),H=new Qe({props:U}),le.push(()=>ne(H,"startYear",K)),le.push(()=>ne(H,"endYear",N)),H.$on("search",a[13]),{c(){e=h("main"),$(t.$$.fragment),o=k(),s=h("div"),s.textContent="OEMS",f=k(),c=h("div"),$(p.$$.fragment),v=k(),E=h("div"),Y=h("div"),$(r.$$.fragment),b=k(),$(w.$$.fragment),I=k(),$(D.$$.fragment),J=k(),d=h("div"),$(C.$$.fragment),P=k(),$(H.$$.fragment),_(s,"class","text-center text-weight-bold push-bottom-3 _title svelte-yyycco"),_(c,"class","push-bottom-3"),_(Y,"class","is-flex"),_(d,"class","is-flex is-align-end"),_(E,"class","_filter-wrapper push-bottom-3 svelte-yyycco"),_(e,"class","_data-management")},m(u,n){V(u,e,n),x(t,e,null),l(e,o),l(e,s),l(e,f),l(e,c),x(p,c,null),l(e,v),l(e,E),l(E,Y),x(r,Y,null),l(Y,b),x(w,Y,null),l(Y,I),x(D,Y,null),l(E,J),l(E,d),x(C,d,null),l(e,P),x(H,e,null),B=!0},p(u,[n]){const T={};n&256&&(T.isShow=u[8]),t.$set(T);const M={};n&4&&(M.options=u[2]),!y&&n&8&&(y=!0,M.value=u[3],ae(()=>y=!1)),r.$set(M);const S={};n&32&&(S.value=u[5]),w.$set(S);const j={};n&64&&(j.value=u[6]),D.$set(j);const O={};n&1024&&(O.isExport=u[10]),C.$set(O);const A={};n&512&&(A.isHideExport=u[9]),n&16&&(A.companyLabel=u[4]),n&128&&(A.kpiTableDatas=u[7]),!g&&n&1&&(g=!0,A.startYear=u[0],ae(()=>g=!1)),!z&&n&2&&(z=!0,A.endYear=u[1],ae(()=>z=!1)),H.$set(A)},i(u){B||(G(t.$$.fragment,u),G(p.$$.fragment,u),G(r.$$.fragment,u),G(w.$$.fragment,u),G(D.$$.fragment,u),G(C.$$.fragment,u),G(H.$$.fragment,u),B=!0)},o(u){W(t.$$.fragment,u),W(p.$$.fragment,u),W(r.$$.fragment,u),W(w.$$.fragment,u),W(D.$$.fragment,u),W(C.$$.fragment,u),W(H.$$.fragment,u),B=!1},d(u){u&&Q(e),ee(t),ee(p),ee(r),ee(w),ee(D),ee(C),ee(H)}}}function We(a,e,t){let o=Ue.Year,s,f,c,p=[],v,E,Y,r,y,b=!0,w=!1,I=!1;ze(async()=>{window.getData=()=>{const g=JSON.parse(document.getElementById("rawData").innerText);t(5,Y=g.companyFullName),t(6,r=g.companyType),t(7,y=g.kpiTableData),t(10,I=g.isExport),t(2,p=g.companyOptions.sort((z,B)=>z.order-B.order)),p.length>0&&c===void 0&&(c=p[0].id,t(3,v=c),t(4,E=p[0].name)),t(8,b=!1)},window.getData()});function D(){t(4,E=p.find(g=>g.id===v).name),J()}function J(){const g={company:v,startYear:s,endYear:f,dataManagementName:"OEMSYear"};console.log(g),console.log(JSON.stringify(g)),t(8,b=!0),window.PerformSearch(JSON.stringify(g))}function d(){t(9,w=!0),setTimeout(()=>{const g={company:v,startYear:s,endYear:f,finalData:Pe(0),dataManagementName:"OEMSYear"};t(9,w=!1),console.log("onExport",JSON.stringify(g)),window.PerformExport(JSON.stringify(g))})}function C(g){v=g,t(3,v)}function P(g){s=g,t(0,s)}function H(g){f=g,t(1,f)}return[s,f,p,v,E,Y,r,y,b,w,I,o,D,J,d,C,P,H]}class Xe extends ce{constructor(e){super();me(this,e,We,Re,_e,{})}}new Xe({target:document.getElementById("app")});
