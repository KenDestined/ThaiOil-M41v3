var en=Object.defineProperty,tn=Object.defineProperties;var nn=Object.getOwnPropertyDescriptors;var vt=Object.getOwnPropertySymbols;var Bt=Object.prototype.hasOwnProperty,Wt=Object.prototype.propertyIsEnumerable;var Kt=(e,n,t)=>n in e?en(e,n,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[n]=t,et=(e,n)=>{for(var t in n||(n={}))Bt.call(n,t)&&Kt(e,t,n[t]);if(vt)for(var t of vt(n))Wt.call(n,t)&&Kt(e,t,n[t]);return e},jt=(e,n)=>tn(e,nn(n));var Ht=(e,n)=>{var t={};for(var l in e)Bt.call(e,l)&&n.indexOf(l)<0&&(t[l]=e[l]);if(e!=null&&vt)for(var l of vt(e))n.indexOf(l)<0&&Wt.call(e,l)&&(t[l]=e[l]);return t};import{m as kt,e as Ft,B as Ge,h as Lt,f as zt,D as Ve,i as St,j as an,L as ln,T as sn,g as rn,s as on,k as At}from"./formatter.js";import{S as ot,i as ut,s as dt,e as u,t as De,a as _,b as Mt,c as s,C as Xe,k as $e,d as se,f as a,F as Oe,g as Se,n as wt,h as re,A as ft,B as lt,N as Vt,w as fe,x as pe,j as Ot,q as Ct,r as R,u as U,O as ct,y as me,p as Q,m as Y,v as X,L as yt,z as Dt,G as un,o as dn,l as fn}from"./vendor.js";import{F as Pt}from"./FilterButtons.js";import{c as Ne}from"./chartConfig.js";var Qe;(function(e){e.BarChart="BarChart",e.LineChart="LineChart"})(Qe||(Qe={}));var Ze;(function(e){e[e.KPIPerformance=1]="KPIPerformance",e[e.KPIPerformanceTrending=2]="KPIPerformanceTrending",e[e.KPIPeriodComparing=3]="KPIPeriodComparing",e[e.SSHEKPIBenchmark=4]="SSHEKPIBenchmark"})(Ze||(Ze={}));var tt;(function(e){e.Target="Target",e.Actual="Actual"})(tt||(tt={}));var Je;(function(e){e.Quarter="Quarter",e.Month="Month"})(Je||(Je={}));function pn(e){let n,t,l,i,o,r,h,v,d,p,y,b;return{c(){n=u("div"),t=u("div"),l=u("label"),i=De(e[0]),o=_(),r=u("div"),h=u("input"),v=_(),d=Mt("svg"),p=Mt("path"),s(l,"for",e[1]),s(t,"class","label-wrapper svelte-1lg7csi"),Xe(t,"width",e[4]+"px"),s(h,"type","text"),s(h,"id",e[1]),s(h,"name",e[1]),s(h,"class","svelte-1lg7csi"),s(p,"fill","#566d80"),s(p,"d","M6 12H4v-2h2zm3-3H7V7h2zm3 0h-2V7h2zm-3 3H7v-2h2zm3 0h-2v-2h2zm1-10h2c.5 0 1 .4 1 .9V15c0 .5-.4 1-.9 1H1c-.5 0-1-.4-1-.9V3c0-.5.4-1 .9-1H3V1c0-.5.4-1 .9-1H4c.5 0 1 .4 1 .9V2h6V1c0-.6.4-1 1-1s1 .4 1 1zM2 5v9h12V5z"),s(d,"xmlns","http://www.w3.org/2000/svg"),s(d,"width","16"),s(d,"height","16"),s(d,"viewBox","0 0 16 16"),s(d,"class","is-clickable svelte-1lg7csi"),s(r,"class","input-wrapper svelte-1lg7csi"),Xe(r,"width",e[3]+"px"),s(n,"class","date-picker-container svelte-1lg7csi"),Xe(n,"width",e[2]+"px"),$e(n,"is-flex",e[5]),$e(n,"is-horizontal",e[5])},m(w,k){se(w,n,k),a(n,t),a(t,l),a(l,i),a(n,o),a(n,r),a(r,h),a(r,v),a(r,d),a(d,p),y||(b=Oe(d,"click",e[6]),y=!0)},p(w,[k]){k&1&&Se(i,w[0]),k&2&&s(l,"for",w[1]),k&16&&Xe(t,"width",w[4]+"px"),k&2&&s(h,"id",w[1]),k&2&&s(h,"name",w[1]),k&8&&Xe(r,"width",w[3]+"px"),k&4&&Xe(n,"width",w[2]+"px"),k&32&&$e(n,"is-flex",w[5]),k&32&&$e(n,"is-horizontal",w[5])},i:wt,o:wt,d(w){w&&re(n),y=!1,b()}}}function mn(e,n,t){let{label:l}=n,{name:i}=n,{value:o=void 0}=n,{wrapperWidth:r=void 0}=n,{width:h=void 0}=n,{labelWidth:v=void 0}=n,{isHorizontal:d=!1}=n,{minDate:p=void 0}=n,{maxDate:y=void 0}=n,b;ft(async()=>{await lt(),w()}),Vt(async()=>{await lt(),b&&(p&&(b.destroy(),w()),y&&(b.destroy(),w()))});function w(){let m=!1;b=window.flatpickr(`#${i}`,{dateFormat:"d/m/Y",defaultDate:o,minDate:p,maxDate:y,onChange:j=>{t(7,o=j[0])},onOpen:(j,B,W)=>{if(!m){m=!0;const f=document.createElement("span");f.textContent=W.currentYear,f.className="display-year",W.yearElements[0].parentElement.parentElement.appendChild(f)}},onYearChange:(j,B,W)=>{m&&(W.calendarContainer.querySelector(".display-year").textContent=W.currentYear)},plugins:[new window.monthSelectPlugin({})]})}const k=()=>{b&&b.toggle()};return e.$$set=m=>{"label"in m&&t(0,l=m.label),"name"in m&&t(1,i=m.name),"value"in m&&t(7,o=m.value),"wrapperWidth"in m&&t(2,r=m.wrapperWidth),"width"in m&&t(3,h=m.width),"labelWidth"in m&&t(4,v=m.labelWidth),"isHorizontal"in m&&t(5,d=m.isHorizontal),"minDate"in m&&t(8,p=m.minDate),"maxDate"in m&&t(9,y=m.maxDate)},[l,i,r,h,v,d,k,o,p,y]}class gt extends ot{constructor(n){super();ut(this,n,mn,pn,dt,{label:0,name:1,value:7,wrapperWidth:2,width:3,labelWidth:4,isHorizontal:5,minDate:8,maxDate:9})}}function Qt(e,n,t){const l=e.slice();return l[27]=n[t],l}function Yt(e,n,t){const l=e.slice();return l[30]=n[t],l}function Et(e,n,t){const l=e.slice();return l[33]=n[t],l}function qt(e,n,t){const l=e.slice();return l[33]=n[t],l}function Gt(e){let n,t=e[33]+"",l,i,o;return{c(){n=u("th"),l=De(t),i=_(),s(n,"colspan",o=e[10]?2:1),s(n,"class","_head-col _extend _col-extend svelte-1jju9m0")},m(r,h){se(r,n,h),a(n,l),a(n,i)},p(r,h){h[0]&4096&&t!==(t=r[33]+"")&&Se(l,t),h[0]&1024&&o!==(o=r[10]?2:1)&&s(n,"colspan",o)},d(r){r&&re(n)}}}function Jt(e){let n;return{c(){n=u("th"),n.textContent="Target",s(n,"class","_head-col _target svelte-1jju9m0")},m(t,l){se(t,n,l)},d(t){t&&re(n)}}}function Rt(e){let n;return{c(){n=u("th"),n.textContent="Actual",s(n,"class","_head-col _actual svelte-1jju9m0")},m(t,l){se(t,n,l)},d(t){t&&re(n)}}}function Ut(e){let n,t,l=e[8]&&Jt(),i=e[9]&&Rt();return{c(){l&&l.c(),n=_(),i&&i.c(),t=Ot()},m(o,r){l&&l.m(o,r),se(o,n,r),i&&i.m(o,r),se(o,t,r)},p(o,r){o[8]?l||(l=Jt(),l.c(),l.m(n.parentNode,n)):l&&(l.d(1),l=null),o[9]?i||(i=Rt(),i.c(),i.m(t.parentNode,t)):i&&(i.d(1),i=null)},d(o){l&&l.d(o),o&&re(n),i&&i.d(o),o&&re(t)}}}function Xt(e){let n,t=Lt(e[30].target)+"";return{c(){n=u("td"),s(n,"class","svelte-1jju9m0")},m(l,i){se(l,n,i),n.innerHTML=t},p(l,i){i[0]&8&&t!==(t=Lt(l[30].target)+"")&&(n.innerHTML=t)},d(l){l&&re(n)}}}function Zt(e){let n,t=zt(e[30].actual,2)+"",l;return{c(){n=u("td"),l=De(t),s(n,"class","svelte-1jju9m0")},m(i,o){se(i,n,o),a(n,l)},p(i,o){o[0]&8&&t!==(t=zt(i[30].actual,2)+"")&&Se(l,t)},d(i){i&&re(n)}}}function xt(e){let n,t,l=e[8]&&Xt(e),i=e[9]&&Zt(e);return{c(){l&&l.c(),n=_(),i&&i.c(),t=Ot()},m(o,r){l&&l.m(o,r),se(o,n,r),i&&i.m(o,r),se(o,t,r)},p(o,r){o[8]?l?l.p(o,r):(l=Xt(o),l.c(),l.m(n.parentNode,n)):l&&(l.d(1),l=null),o[9]?i?i.p(o,r):(i=Zt(o),i.c(),i.m(t.parentNode,t)):i&&(i.d(1),i=null)},d(o){l&&l.d(o),o&&re(n),i&&i.d(o),o&&re(t)}}}function $t(e){let n,t,l=e[27].name+"",i,o,r,h=e[27].unit+"",v,d,p,y=e[27].pttKpiCode+"",b,w,k,m=e[27].djsiKpiCode+"",j,B,W,f=e[27].type+"",F,T,L,S=e[27].datas,K=[];for(let z=0;z<S.length;z+=1)K[z]=xt(Yt(e,S,z));return{c(){n=u("tr"),t=u("td"),i=De(l),o=_(),r=u("td"),v=De(h),d=_(),p=u("td"),b=De(y),w=_(),k=u("td"),j=De(m),B=_(),W=u("td"),F=De(f),T=_();for(let z=0;z<K.length;z+=1)K[z].c();L=_(),s(t,"class","_col-kpi svelte-1jju9m0"),s(r,"class","svelte-1jju9m0"),s(p,"class","svelte-1jju9m0"),s(k,"class","svelte-1jju9m0"),s(W,"class","svelte-1jju9m0")},m(z,A){se(z,n,A),a(n,t),a(t,i),a(n,o),a(n,r),a(r,v),a(n,d),a(n,p),a(p,b),a(n,w),a(n,k),a(k,j),a(n,B),a(n,W),a(W,F),a(n,T);for(let H=0;H<K.length;H+=1)K[H].m(n,null);a(n,L)},p(z,A){if(A[0]&8&&l!==(l=z[27].name+"")&&Se(i,l),A[0]&8&&h!==(h=z[27].unit+"")&&Se(v,h),A[0]&8&&y!==(y=z[27].pttKpiCode+"")&&Se(b,y),A[0]&8&&m!==(m=z[27].djsiKpiCode+"")&&Se(j,m),A[0]&8&&f!==(f=z[27].type+"")&&Se(F,f),A[0]&776){S=z[27].datas;let H;for(H=0;H<S.length;H+=1){const q=Yt(z,S,H);K[H]?K[H].p(q,A):(K[H]=xt(q),K[H].c(),K[H].m(n,L))}for(;H<K.length;H+=1)K[H].d(1);K.length=S.length}},d(z){z&&re(n),Ct(K,z)}}}function hn(e){let n,t,l,i,o,r,h,v,d,p,y,b,w,k,m,j,B,W,f,F,T,L,S,K,z,A,H,q,G,D,ae,he,Pe,Z,N,le,c,J,ue,O,M,ge,ie,we,_e,ee=e[1].displayPeriod+"",He,Be,Ie,be,je,te,ce,Fe,Le,ze,Te,qe,Ae,Re,Ce,ve,I,x,Ye,We,ye,de,Ue;function xe(g){e[18](g)}let pt={label:"Start Date Entered",name:"startDate",width:150,minDate:kt,maxDate:e[5]};e[4]!==void 0&&(pt.value=e[4]),l=new gt({props:pt}),fe.push(()=>pe(l,"value",xe));function it(g){e[19](g)}let mt={label:"End Date Entered",name:"endDate",width:150,minDate:e[4],maxDate:Ft};e[5]!==void 0&&(mt.value=e[5]),r=new gt({props:mt}),fe.push(()=>pe(r,"value",it));function st(g){e[20](g)}let ht={label:"Company",name:"company",options:e[0].company,defaultValue:e[2].company,width:156};e[6]!==void 0&&(ht.value=e[6]),d=new Ge({props:ht}),fe.push(()=>pe(d,"value",st));function rt(g){e[21](g)}let P={label:"KPI Code Type",name:"kpiCodeType",options:e[0].kpiCodeType,defaultValue:e[2].kpiCodeType,width:270};e[7]!==void 0&&(P.value=e[7]),b=new Ge({props:P}),fe.push(()=>pe(b,"value",rt));function $(g){e[22](g)}let nt={label:"Display Period",name:"displayPeriod",options:e[13],defaultValue:e[2].displayPeriod,width:114};e[11]!==void 0&&(nt.value=e[11]),m=new Ge({props:nt}),fe.push(()=>pe(m,"value",$)),M=new Pt({props:{search:e[16],clear:e[17]}});let Me=e[12],C=[];for(let g=0;g<Me.length;g+=1)C[g]=Gt(qt(e,Me,g));let E=e[12],oe=[];for(let g=0;g<E.length;g+=1)oe[g]=Ut(Et(e,E,g));let Ee=e[3],ke=[];for(let g=0;g<Ee.length;g+=1)ke[g]=$t(Qt(e,Ee,g));return{c(){n=u("div"),t=u("div"),R(l.$$.fragment),o=_(),R(r.$$.fragment),v=_(),R(d.$$.fragment),y=_(),R(b.$$.fragment),k=_(),R(m.$$.fragment),B=_(),W=u("div"),f=u("div"),f.textContent="Data Type",F=_(),T=u("div"),L=u("div"),S=u("label"),K=u("input"),z=_(),A=u("span"),A.textContent="All",H=_(),q=u("div"),G=u("label"),D=u("input"),ae=_(),he=u("span"),he.textContent="Target",Pe=_(),Z=u("div"),N=u("label"),le=u("input"),c=_(),J=u("span"),J.textContent="Actual",ue=_(),O=u("div"),R(M.$$.fragment),ge=_(),ie=u("div"),we=u("div"),_e=De("KPI Performance by "),He=De(ee),Be=_(),Ie=u("div"),be=u("table"),je=u("thead"),te=u("tr"),ce=u("th"),ce.textContent="KPI Name",Fe=_(),Le=u("th"),Le.textContent="Unit",ze=_(),Te=u("th"),Te.innerHTML="PTT KPI<br/>Code",qe=_(),Ae=u("th"),Ae.innerHTML="DJSI KPI<br/>Code",Re=_(),Ce=u("th"),Ce.textContent="Type",ve=_();for(let g=0;g<C.length;g+=1)C[g].c();I=_(),x=u("tr");for(let g=0;g<oe.length;g+=1)oe[g].c();Ye=_(),We=u("tbody");for(let g=0;g<ke.length;g+=1)ke[g].c();s(f,"class","text push-bottom-1"),s(K,"type","checkbox"),K.checked=e[10],s(S,"class","checkbox is-filled"),s(L,"class","push-right-2"),s(D,"type","checkbox"),D.checked=e[8],s(G,"class","checkbox is-filled"),s(q,"class","push-right-2"),s(le,"type","checkbox"),le.checked=e[9],s(N,"class","checkbox is-filled"),s(Z,"class","push-right-2"),s(T,"class","is-flex is-align-center"),Xe(T,"height","36px"),s(W,"class","text-size-medium"),s(t,"class","is-flex"),s(O,"class","is-flex is-align-end"),s(n,"class","is-flex is-justify-between push-bottom-3"),s(we,"class","title push-bottom-2 svelte-1jju9m0"),s(ce,"rowspan","2"),s(ce,"class","_head-col _col-kpi svelte-1jju9m0"),s(Le,"rowspan","2"),s(Le,"class","_head-col _col-unit svelte-1jju9m0"),s(Te,"rowspan","2"),s(Te,"class","_head-col _col-ptt svelte-1jju9m0"),s(Ae,"rowspan","2"),s(Ae,"class","_head-col _col-djsi svelte-1jju9m0"),s(Ce,"rowspan","2"),s(Ce,"class","_head-col _col-type svelte-1jju9m0"),s(te,"class","svelte-1jju9m0"),s(x,"class","svelte-1jju9m0"),s(je,"class","svelte-1jju9m0"),s(We,"class","svelte-1jju9m0"),s(be,"class","text-size-small svelte-1jju9m0"),s(Ie,"class","_table-wrapper svelte-1jju9m0"),s(ie,"class","box svelte-1jju9m0")},m(g,ne){se(g,n,ne),a(n,t),U(l,t,null),a(t,o),U(r,t,null),a(t,v),U(d,t,null),a(t,y),U(b,t,null),a(t,k),U(m,t,null),a(t,B),a(t,W),a(W,f),a(W,F),a(W,T),a(T,L),a(L,S),a(S,K),a(S,z),a(S,A),a(T,H),a(T,q),a(q,G),a(G,D),a(G,ae),a(G,he),a(T,Pe),a(T,Z),a(Z,N),a(N,le),a(N,c),a(N,J),a(n,ue),a(n,O),U(M,O,null),se(g,ge,ne),se(g,ie,ne),a(ie,we),a(we,_e),a(we,He),a(ie,Be),a(ie,Ie),a(Ie,be),a(be,je),a(je,te),a(te,ce),a(te,Fe),a(te,Le),a(te,ze),a(te,Te),a(te,qe),a(te,Ae),a(te,Re),a(te,Ce),a(te,ve);for(let Ke=0;Ke<C.length;Ke+=1)C[Ke].m(te,null);a(je,I),a(je,x);for(let Ke=0;Ke<oe.length;Ke+=1)oe[Ke].m(x,null);a(be,Ye),a(be,We);for(let Ke=0;Ke<ke.length;Ke+=1)ke[Ke].m(We,null);ye=!0,de||(Ue=[Oe(K,"click",ct(e[14])),Oe(D,"click",ct(e[23])),Oe(le,"click",ct(e[24]))],de=!0)},p(g,ne){const Ke={};ne[0]&32&&(Ke.maxDate=g[5]),!i&&ne[0]&16&&(i=!0,Ke.value=g[4],me(()=>i=!1)),l.$set(Ke);const Nt={};ne[0]&16&&(Nt.minDate=g[4]),!h&&ne[0]&32&&(h=!0,Nt.value=g[5],me(()=>h=!1)),r.$set(Nt);const _t={};ne[0]&1&&(_t.options=g[0].company),ne[0]&4&&(_t.defaultValue=g[2].company),!p&&ne[0]&64&&(p=!0,_t.value=g[6],me(()=>p=!1)),d.$set(_t);const bt={};ne[0]&1&&(bt.options=g[0].kpiCodeType),ne[0]&4&&(bt.defaultValue=g[2].kpiCodeType),!w&&ne[0]&128&&(w=!0,bt.value=g[7],me(()=>w=!1)),b.$set(bt);const It={};if(ne[0]&4&&(It.defaultValue=g[2].displayPeriod),!j&&ne[0]&2048&&(j=!0,It.value=g[11],me(()=>j=!1)),m.$set(It),(!ye||ne[0]&1024)&&(K.checked=g[10]),(!ye||ne[0]&256)&&(D.checked=g[8]),(!ye||ne[0]&512)&&(le.checked=g[9]),(!ye||ne[0]&2)&&ee!==(ee=g[1].displayPeriod+"")&&Se(He,ee),ne[0]&5120){Me=g[12];let V;for(V=0;V<Me.length;V+=1){const at=qt(g,Me,V);C[V]?C[V].p(at,ne):(C[V]=Gt(at),C[V].c(),C[V].m(te,null))}for(;V<C.length;V+=1)C[V].d(1);C.length=Me.length}if(ne[0]&4864){E=g[12];let V;for(V=0;V<E.length;V+=1){const at=Et(g,E,V);oe[V]?oe[V].p(at,ne):(oe[V]=Ut(at),oe[V].c(),oe[V].m(x,null))}for(;V<oe.length;V+=1)oe[V].d(1);oe.length=E.length}if(ne[0]&776){Ee=g[3];let V;for(V=0;V<Ee.length;V+=1){const at=Qt(g,Ee,V);ke[V]?ke[V].p(at,ne):(ke[V]=$t(at),ke[V].c(),ke[V].m(We,null))}for(;V<ke.length;V+=1)ke[V].d(1);ke.length=Ee.length}},i(g){ye||(Q(l.$$.fragment,g),Q(r.$$.fragment,g),Q(d.$$.fragment,g),Q(b.$$.fragment,g),Q(m.$$.fragment,g),Q(M.$$.fragment,g),ye=!0)},o(g){Y(l.$$.fragment,g),Y(r.$$.fragment,g),Y(d.$$.fragment,g),Y(b.$$.fragment,g),Y(m.$$.fragment,g),Y(M.$$.fragment,g),ye=!1},d(g){g&&re(n),X(l),X(r),X(d),X(b),X(m),X(M),g&&re(ge),g&&re(ie),Ct(C,g),Ct(oe,g),Ct(ke,g),de=!1,yt(Ue)}}}function cn(e,n,t){let{options:l}=n,{sharedFilter:i}=n,{defaultFilter:o}=n,{kpiTableDatas:r=[]}=n,h=i.startDate,v=i.endDate,d,p,y=!0,b=!0,w=!0,k=[{id:Ve.Year,name:Ve.Year},{id:Ve.Quarter,name:Ve.Quarter},{id:Ve.Month,name:Ve.Month}],m=i.displayPeriod;const j=Dt();let B=[];ft(async()=>{await lt(),t(6,d=i.company),t(7,p=i.kpiCodeType),W()});function W(){t(12,B=St(h,v,m))}function f(D){t(8,y=!0),t(9,b=!0),t(10,w=!0),setTimeout(()=>D.target.checked=w,0)}function F(D,ae){ae==="target"&&b&&(t(8,y=!y),setTimeout(()=>D.target.checked=y,0)),ae==="actual"&&y&&(t(9,b=!b),setTimeout(()=>D.target.checked=b,0)),t(10,w=y&&b)}function T(){j("search",{startDate:h,endDate:v,company:d,kpiCodeType:p,displayPeriod:m,dashboardName:"KPIPerformance"}),W()}function L(){t(4,h=o.startDate),t(5,v=o.endDate),t(6,d=o.company),t(7,p=o.kpiCodeType),t(11,m=o.displayPeriod),t(8,y=!0),t(9,b=!0)}function S(D){h=D,t(4,h)}function K(D){v=D,t(5,v)}function z(D){d=D,t(6,d)}function A(D){p=D,t(7,p)}function H(D){m=D,t(11,m)}const q=D=>F(D,"target"),G=D=>F(D,"actual");return e.$$set=D=>{"options"in D&&t(0,l=D.options),"sharedFilter"in D&&t(1,i=D.sharedFilter),"defaultFilter"in D&&t(2,o=D.defaultFilter),"kpiTableDatas"in D&&t(3,r=D.kpiTableDatas)},[l,i,o,r,h,v,d,p,y,b,w,m,B,k,f,F,T,L,S,K,z,A,H,q,G]}class gn extends ot{constructor(n){super();ut(this,n,cn,hn,dt,{options:0,sharedFilter:1,defaultFilter:2,kpiTableDatas:3},null,[-1,-1])}}function _n(e){let n,t,l,i,o,r,h,v,d,p,y,b,w,k,m,j,B,W,f,F,T,L,S,K,z,A,H,q,G,D,ae,he,Pe,Z,N,le,c,J,ue,O,M,ge,ie,we,_e,ee,He,Be,Ie,be,je,te,ce,Fe,Le,ze,Te,qe,Ae,Re,Ce,ve,I,x,Ye,We,ye,de,Ue,xe;function pt(C){e[20](C)}let it={label:"Start Date Entered",name:"startDate",width:150,minDate:kt,maxDate:e[3]};e[2]!==void 0&&(it.value=e[2]),l=new gt({props:it}),fe.push(()=>pe(l,"value",pt));function mt(C){e[21](C)}let st={label:"End Date Entered",name:"endDate",width:150,minDate:e[2],maxDate:Ft};e[3]!==void 0&&(st.value=e[3]),r=new gt({props:st}),fe.push(()=>pe(r,"value",mt));function ht(C){e[22](C)}let rt={label:"Company",name:"company",options:e[0].company,defaultValue:e[1].company,width:156};e[4]!==void 0&&(rt.value=e[4]),d=new Ge({props:rt}),fe.push(()=>pe(d,"value",ht));function P(C){e[23](C)}let $={label:"KPI Name",name:"kpiName",options:e[0].kpiName,defaultValue:e[1].kpiName,width:220};e[5]!==void 0&&($.value=e[5]),b=new Ge({props:$}),fe.push(()=>pe(b,"value",P));function nt(C){e[24](C)}let Me={label:"Graph Type",name:"graphType",options:e[11],change:e[12],width:125};return e[9]!==void 0&&(Me.value=e[9]),m=new Ge({props:Me}),fe.push(()=>pe(m,"value",nt)),M=new Pt({props:{search:e[15],clear:e[16]}}),{c(){n=u("div"),t=u("div"),R(l.$$.fragment),o=_(),R(r.$$.fragment),v=_(),R(d.$$.fragment),y=_(),R(b.$$.fragment),k=_(),R(m.$$.fragment),B=_(),W=u("div"),f=u("div"),f.textContent="Data Type",F=_(),T=u("div"),L=u("div"),S=u("label"),K=u("input"),z=_(),A=u("span"),A.textContent="All",H=_(),q=u("div"),G=u("label"),D=u("input"),ae=_(),he=u("span"),he.textContent="Target",Pe=_(),Z=u("div"),N=u("label"),le=u("input"),c=_(),J=u("span"),J.textContent="Actual",ue=_(),O=u("div"),R(M.$$.fragment),ge=_(),ie=u("div"),we=u("div"),_e=u("div"),ee=u("div"),He=De(e[10]),Be=_(),Ie=u("span"),Ie.textContent="by Year",be=_(),je=u("div"),te=_(),ce=u("div"),Fe=u("div"),Le=De(e[10]),ze=_(),Te=u("span"),Te.textContent="by Quarter",qe=_(),Ae=u("div"),Re=_(),Ce=u("div"),ve=u("div"),I=De(e[10]),x=_(),Ye=u("span"),Ye.textContent="by Month",We=_(),ye=u("div"),s(f,"class","text push-bottom-1"),s(K,"type","checkbox"),K.checked=e[8],s(S,"class","checkbox is-filled"),s(L,"class","push-right-2"),s(D,"type","checkbox"),D.checked=e[6],s(G,"class","checkbox is-filled"),s(q,"class","push-right-2"),s(le,"type","checkbox"),le.checked=e[7],s(N,"class","checkbox is-filled"),s(Z,"class","push-right-2"),s(T,"class","is-flex is-align-center"),Xe(T,"height","36px"),s(W,"class","text-size-medium"),s(t,"class","is-flex"),s(O,"class","is-flex is-align-end"),s(n,"class","is-flex is-justify-between push-bottom-3"),s(Ie,"class","period-text svelte-ttiy9a"),s(ee,"class","text-center title svelte-ttiy9a"),s(je,"id","trendingYearChart"),s(_e,"class","is-flex-1 box year-box svelte-ttiy9a"),s(Te,"class","period-text svelte-ttiy9a"),s(Fe,"class","text-center title svelte-ttiy9a"),s(Ae,"id","trendingQuarterChart"),s(ce,"class","is-flex-1 box quarter-box svelte-ttiy9a"),s(we,"class","is-flex push-bottom-2"),s(Ye,"class","period-text svelte-ttiy9a"),s(ve,"class","text-center title svelte-ttiy9a"),s(ye,"id","trendingMonthChart"),s(Ce,"class","is-flex-1 box svelte-ttiy9a")},m(C,E){se(C,n,E),a(n,t),U(l,t,null),a(t,o),U(r,t,null),a(t,v),U(d,t,null),a(t,y),U(b,t,null),a(t,k),U(m,t,null),a(t,B),a(t,W),a(W,f),a(W,F),a(W,T),a(T,L),a(L,S),a(S,K),a(S,z),a(S,A),a(T,H),a(T,q),a(q,G),a(G,D),a(G,ae),a(G,he),a(T,Pe),a(T,Z),a(Z,N),a(N,le),a(N,c),a(N,J),a(n,ue),a(n,O),U(M,O,null),se(C,ge,E),se(C,ie,E),a(ie,we),a(we,_e),a(_e,ee),a(ee,He),a(ee,Be),a(ee,Ie),a(_e,be),a(_e,je),a(we,te),a(we,ce),a(ce,Fe),a(Fe,Le),a(Fe,ze),a(Fe,Te),a(ce,qe),a(ce,Ae),a(ie,Re),a(ie,Ce),a(Ce,ve),a(ve,I),a(ve,x),a(ve,Ye),a(Ce,We),a(Ce,ye),de=!0,Ue||(xe=[Oe(K,"click",ct(e[13])),Oe(D,"click",ct(e[25])),Oe(le,"click",ct(e[26]))],Ue=!0)},p(C,E){const oe={};E[0]&8&&(oe.maxDate=C[3]),!i&&E[0]&4&&(i=!0,oe.value=C[2],me(()=>i=!1)),l.$set(oe);const Ee={};E[0]&4&&(Ee.minDate=C[2]),!h&&E[0]&8&&(h=!0,Ee.value=C[3],me(()=>h=!1)),r.$set(Ee);const ke={};E[0]&1&&(ke.options=C[0].company),E[0]&2&&(ke.defaultValue=C[1].company),!p&&E[0]&16&&(p=!0,ke.value=C[4],me(()=>p=!1)),d.$set(ke);const g={};E[0]&1&&(g.options=C[0].kpiName),E[0]&2&&(g.defaultValue=C[1].kpiName),!w&&E[0]&32&&(w=!0,g.value=C[5],me(()=>w=!1)),b.$set(g);const ne={};!j&&E[0]&512&&(j=!0,ne.value=C[9],me(()=>j=!1)),m.$set(ne),(!de||E[0]&256)&&(K.checked=C[8]),(!de||E[0]&64)&&(D.checked=C[6]),(!de||E[0]&128)&&(le.checked=C[7]),(!de||E[0]&1024)&&Se(He,C[10]),(!de||E[0]&1024)&&Se(Le,C[10]),(!de||E[0]&1024)&&Se(I,C[10])},i(C){de||(Q(l.$$.fragment,C),Q(r.$$.fragment,C),Q(d.$$.fragment,C),Q(b.$$.fragment,C),Q(m.$$.fragment,C),Q(M.$$.fragment,C),de=!0)},o(C){Y(l.$$.fragment,C),Y(r.$$.fragment,C),Y(d.$$.fragment,C),Y(b.$$.fragment,C),Y(m.$$.fragment,C),Y(M.$$.fragment,C),de=!1},d(C){C&&re(n),X(l),X(r),X(d),X(b),X(m),X(M),C&&re(ge),C&&re(ie),Ue=!1,yt(xe)}}}function bn(e,n,t){let{options:l}=n,{sharedFilter:i}=n,{defaultFilter:o}=n,{trendingChartData:r}=n;var h;(function(c){c.Year="year",c.Quarter="quarter",c.Month="month"})(h||(h={}));let v=i.startDate,d=i.endDate,p,y,b=!0,w=!0,k=!0;const m=Qe.BarChart,j=[{id:Qe.BarChart,name:"Bar Chart"},{id:Qe.LineChart,name:"Line Chart"}];let B=m,W="",f=!1;const F=Dt();ft(async()=>{await lt(),t(4,p=i.company),t(5,y=i.kpiName),t(19,f=!0),K(),S()});function T(c,J){var ge,ie;const ue={[h.Year]:622,[h.Quarter]:622,[h.Month]:1293},O={[h.Year]:9,[h.Quarter]:9,[h.Month]:20},M=Math.max((ge=J[0])==null?void 0:ge.data.length,(ie=J[1])==null?void 0:ie.data.length);return M>O[c]?{minWidth:ue[c]+(M-O[c])*45,pointWidth:15}:{minWidth:void 0,pointWidth:void 0}}function L(c){let J=[];const ue=B===Qe.BarChart?"column":void 0;w&&J.push({name:"Actual",color:"#39c8e5",data:r[c].actual}),b&&J.push({name:"Target",color:"#e11383",data:r[c].target});let O;c===h.Year?O=et({bgColor:"#eafbff",selector:"trendingYearChart",xAxis:{categories:void 0,title:"Year"},pointStart:v.getFullYear()},T(c,J)):c===h.Quarter?O=et({bgColor:"#effff4",selector:"trendingQuarterChart",xAxis:{categories:an(i.startDate,i.endDate,!0),title:"Quarter"},pointStart:void 0},T(c,J)):c===h.Month&&(O=et({bgColor:void 0,selector:"trendingMonthChart",xAxis:{categories:St(i.startDate,i.endDate,Ve.Month),title:"Month"},pointStart:void 0},T(c,J))),window.Highcharts.chart(O.selector,{chart:{backgroundColor:O.bgColor,type:ue,scrollablePlotArea:{minWidth:O.minWidth,opacity:.9},spacingRight:0},credits:{enabled:!1},title:{text:void 0},xAxis:{categories:O.xAxis.categories,title:{text:O.xAxis.title,style:Ne.textBold},labels:{style:Ne.textNormal}},yAxis:{min:0,minTickInterval:r.unit.toLocaleLowerCase()==="case"?1:void 0,title:{text:r.unit,style:Ne.textBold},lineWidth:1,gridLineWidth:1,labels:{style:Ne.textNormal}},legend:{verticalAlign:"top",itemStyle:Ne.textNormal},plotOptions:{series:{pointStart:O.pointStart},column:{pointWidth:O.pointWidth},line:{dataLabels:{enabled:!0,style:Ne.textBold}}},series:J})}function S(){L(h.Year),L(h.Quarter),L(h.Month)}function K(){t(10,W=l.kpiName.find(c=>c.id===y).name)}function z(){S()}function A(c){const J=k===!1;t(6,b=!0),t(7,w=!0),t(8,k=!0),setTimeout(()=>c.target.checked=k,0),J&&S()}function H(c,J){J==="target"&&w&&(t(6,b=!b),setTimeout(()=>c.target.checked=b,0),S()),J==="actual"&&b&&(t(7,w=!w),setTimeout(()=>c.target.checked=w,0),S()),t(8,k=b&&w)}function q(){F("search",{startDate:v,endDate:d,company:p,kpiName:y,dashboardName:"KPIPerformanceTrending"}),K()}function G(){t(4,p=o.company),t(5,y=o.kpiName),t(2,v=o.startDate),t(3,d=o.endDate),t(6,b=!0),t(6,b=!0),t(9,B=m)}function D(c){v=c,t(2,v)}function ae(c){d=c,t(3,d)}function he(c){p=c,t(4,p)}function Pe(c){y=c,t(5,y)}function Z(c){B=c,t(9,B)}const N=c=>H(c,"target"),le=c=>H(c,"actual");return e.$$set=c=>{"options"in c&&t(0,l=c.options),"sharedFilter"in c&&t(17,i=c.sharedFilter),"defaultFilter"in c&&t(1,o=c.defaultFilter),"trendingChartData"in c&&t(18,r=c.trendingChartData)},e.$$.update=()=>{e.$$.dirty[0]&786432&&f&&r&&S()},[l,o,v,d,p,y,b,w,k,B,W,j,z,A,H,q,G,i,r,f,D,ae,he,Pe,Z,N,le]}class vn extends ot{constructor(n){super();ut(this,n,bn,_n,dt,{options:0,sharedFilter:17,defaultFilter:1,trendingChartData:18},null,[-1,-1])}}function kn(e){let n,t,l,i,o,r,h,v;return{c(){n=u("div"),t=u("div"),l=u("label"),i=De(e[0]),o=_(),r=u("select"),s(l,"for",e[1]),s(t,"class","label-wrapper svelte-1ferj0z"),s(r,"id",e[1]),s(r,"name",e[1]),r.disabled=e[3],r.multiple=!0,Xe(n,"width",e[5]+"px"),s(n,"class","dropdown-container svelte-1ferj0z"),$e(n,"is-flex",e[2]),$e(n,"is-horizontal",e[2]),$e(n,"is-fullwidth",e[6])},m(d,p){se(d,n,p),a(n,t),a(t,l),a(l,i),a(n,o),a(n,r),h||(v=Oe(r,"change",function(){un(e[4])&&e[4].apply(this,arguments)}),h=!0)},p(d,[p]){e=d,p&1&&Se(i,e[0]),p&2&&s(l,"for",e[1]),p&2&&s(r,"id",e[1]),p&2&&s(r,"name",e[1]),p&8&&(r.disabled=e[3]),p&32&&Xe(n,"width",e[5]+"px"),p&4&&$e(n,"is-flex",e[2]),p&4&&$e(n,"is-horizontal",e[2]),p&64&&$e(n,"is-fullwidth",e[6])},i:wt,o:wt,d(d){d&&re(n),h=!1,v()}}}function wn(e,n,t){let{options:l=[]}=n,{label:i}=n,{name:o}=n,{value:r=[]}=n,{isHorizontal:h=!1}=n,{disabled:v=!1}=n,{change:d=void 0}=n,{isPrimitive:p=!1}=n,{width:y=void 0}=n,{fullWidth:b=!1}=n,{sortItems:w="asc"}=n,{containerInner:k=void 0}=n,m,j;const B=(f=r)=>p?f.map(F=>({value:F+"",label:F+""})):f.map(F=>({value:F.id+"",label:F.name+""})),W=f=>p?f+"":f.id+"";return ft(async()=>{await lt(),j=new window.Choices(`#${o}`,{position:"bottom",itemSelectText:"",renderSelectedChoices:"always",removeItems:!1,shouldSortItems:!0,sorter(f,F){return w==="asc"?f.choiceId?f.choiceId-F.choiceId:f.value-F.value:F.value-f.value},callbackOnCreateTemplates(f){return{item:(F,T)=>f(`<span class="selected-item">${T.label} </span>`),choice:({classNames:F},T)=>f(`
            <div class="${F.item} ${F.itemChoice} ${T.disabled?F.itemDisabled:F.itemSelectable}" data-select-text="${this.config.itemSelectText}" data-choice ${T.disabled?'data-choice-disabled aria-disabled="true"':"data-choice-selectable"} data-id="${T.id}" data-value="${T.value}" ${T.groupId>0?'role="treeitem"':'role="option"'}>
              <label class="checkbox is-filled">
                <input
                  type="checkbox"
                  ${T.selected?"checked":""}
                />
                <span>${T.label}</span>
              </label>
            </div>
          `)}},choices:B(l),classNames:{containerInner:k?`${k} choices__inner`:"choices__inner"}}),j&&j.passedElement.element.addEventListener("choice",function(f){var T;const F=f.detail.choice.value;if(f.detail.choice.selected)t(7,r=r.filter(L=>W(L)!==F)),setTimeout(()=>{j.removeActiveItemsByValue(F)});else{if(p)t(7,r=[...r,Number(F)]);else{const L=l.find(S=>W(S)===F);t(7,r=[...r,L])}r.length&&((T=r[0])==null?void 0:T.id)?t(7,r=l.filter(L=>!!r.find(S=>S.id===L.id))):t(7,r=r.sort()),j.setChoiceByValue(F)}m=r},!1),r.length&&j.setChoiceByValue(B().map(f=>f.value)),m=r}),Vt(async()=>{await lt(),j&&(JSON.stringify(m)!==JSON.stringify(r)&&j.setChoiceByValue(B().map(f=>f.value)),v?j.disable():j.enable()),m=r}),e.$$set=f=>{"options"in f&&t(8,l=f.options),"label"in f&&t(0,i=f.label),"name"in f&&t(1,o=f.name),"value"in f&&t(7,r=f.value),"isHorizontal"in f&&t(2,h=f.isHorizontal),"disabled"in f&&t(3,v=f.disabled),"change"in f&&t(4,d=f.change),"isPrimitive"in f&&t(9,p=f.isPrimitive),"width"in f&&t(5,y=f.width),"fullWidth"in f&&t(6,b=f.fullWidth),"sortItems"in f&&t(10,w=f.sortItems),"containerInner"in f&&t(11,k=f.containerInner)},[i,o,h,v,d,y,b,r,l,p,w,k]}class Tt extends ot{constructor(n){super();ut(this,n,wn,kn,dt,{options:8,label:0,name:1,value:7,isHorizontal:2,disabled:3,change:4,isPrimitive:9,width:5,fullWidth:6,sortItems:10,containerInner:11})}}function Cn(e){let n,t,l,i,o,r,h,v,d,p,y,b,w,k,m,j,B,W,f,F,T,L,S,K,z,A,H,q,G,D,ae,he,Pe,Z,N,le,c,J,ue,O,M,ge,ie,we,_e,ee,He,Be,Ie,be,je,te,ce,Fe,Le,ze,Te=e[1].comparePeriod+"",qe,Ae,Re,Ce,ve,I,x;function Ye(P){e[18](P)}let We={label:"Year",name:"year",options:e[0].year,width:519,sortItems:"desc",isHorizontal:!0,isPrimitive:!0};e[6]!==void 0&&(We.value=e[6]),i=new Tt({props:We}),fe.push(()=>pe(i,"value",Ye));function ye(P){e[21](P)}let de={label:"",name:"quarter",options:e[0].quarter,width:636,isHorizontal:!0,disabled:e[5]===Je.Month};e[7]!==void 0&&(de.value=e[7]),k=new Tt({props:de}),fe.push(()=>pe(k,"value",ye));function Ue(P){e[23](P)}let xe={label:"",name:"month",options:e[0].month,width:636,isHorizontal:!0,disabled:e[5]===Je.Quarter};e[8]!==void 0&&(xe.value=e[8]),S=new Tt({props:xe}),fe.push(()=>pe(S,"value",Ue));function pt(P){e[24](P)}let it={label:"Company",name:"company",options:e[0].company,defaultValue:e[2].company,isHorizontal:!0,width:156};e[3]!==void 0&&(it.value=e[3]),q=new Ge({props:it}),fe.push(()=>pe(q,"value",pt));function mt(P){e[25](P)}let st={label:"KPI Name",name:"kpiName",options:e[0].kpiName,defaultValue:e[2].kpiName,isHorizontal:!0,labelWidth:76,width:300};e[4]!==void 0&&(st.value=e[4]),ae=new Ge({props:st}),fe.push(()=>pe(ae,"value",mt));function ht(P){e[26](P)}let rt={label:"Graph Type",name:"graphType",options:e[12],change:e[13],isHorizontal:!0,labelWidth:85};return e[10]!==void 0&&(rt.value=e[10]),Z=new Ge({props:rt}),fe.push(()=>pe(Z,"value",ht)),be=new Pt({props:{search:e[14],clear:e[15]}}),{c(){n=u("div"),t=u("div"),l=u("div"),R(i.$$.fragment),r=_(),h=u("div"),v=u("div"),d=u("label"),p=u("input"),y=_(),b=u("span"),b.textContent="Quarter",w=_(),R(k.$$.fragment),j=_(),B=u("div"),W=u("label"),f=u("input"),F=_(),T=u("span"),T.textContent="Month",L=_(),R(S.$$.fragment),z=_(),A=u("div"),H=u("div"),R(q.$$.fragment),D=_(),R(ae.$$.fragment),Pe=_(),R(Z.$$.fragment),le=_(),c=u("div"),J=u("span"),J.textContent="Data Type :",ue=_(),O=u("label"),M=u("input"),ge=_(),ie=u("span"),ie.textContent="Target",we=_(),_e=u("label"),ee=u("input"),He=_(),Be=u("span"),Be.textContent="Actual",Ie=_(),R(be.$$.fragment),je=_(),te=u("div"),ce=u("div"),Fe=De(e[11]),Le=_(),ze=u("span"),qe=De(Te),Ae=De(" Comparing"),Re=_(),Ce=u("div"),s(l,"class","is-flex-1"),s(p,"type","radio"),s(p,"name","comparePeriod"),p.__value=Je.Quarter,p.value=p.__value,e[20][0].push(p),s(d,"class","radio text-size-medium"),s(v,"class","is-flex is-justify-between is-align-center push-bottom-1"),Xe(v,"width","719px"),s(f,"type","radio"),s(f,"name","comparePeriod"),f.__value=Je.Month,f.value=f.__value,e[20][0].push(f),s(W,"class","radio text-size-medium"),s(B,"class","is-flex is-justify-between is-align-center"),s(h,"class","is-flex-1"),s(t,"class","is-flex push-bottom-3"),s(J,"class","text"),s(M,"type","radio"),s(M,"name","dataType"),M.__value=tt.Target,M.value=M.__value,e[20][1].push(M),s(O,"class","radio"),s(ee,"type","radio"),s(ee,"name","dataType"),ee.__value=tt.Actual,ee.value=ee.__value,e[20][1].push(ee),s(_e,"class","radio"),s(c,"class","text-size-medium"),s(H,"class","is-flex is-align-center"),s(A,"class","is-flex is-justify-between"),s(n,"class","push-bottom-3"),s(ze,"class","period-text svelte-1aupo76"),s(ce,"class","text-center title svelte-1aupo76"),s(Ce,"id","periodComparingChart"),s(te,"class","box svelte-1aupo76")},m(P,$){se(P,n,$),a(n,t),a(t,l),U(i,l,null),a(t,r),a(t,h),a(h,v),a(v,d),a(d,p),p.checked=p.__value===e[5],a(d,y),a(d,b),a(v,w),U(k,v,null),a(h,j),a(h,B),a(B,W),a(W,f),f.checked=f.__value===e[5],a(W,F),a(W,T),a(B,L),U(S,B,null),a(n,z),a(n,A),a(A,H),U(q,H,null),a(H,D),U(ae,H,null),a(H,Pe),U(Z,H,null),a(H,le),a(H,c),a(c,J),a(c,ue),a(c,O),a(O,M),M.checked=M.__value===e[9],a(O,ge),a(O,ie),a(c,we),a(c,_e),a(_e,ee),ee.checked=ee.__value===e[9],a(_e,He),a(_e,Be),a(A,Ie),U(be,A,null),se(P,je,$),se(P,te,$),a(te,ce),a(ce,Fe),a(ce,Le),a(ce,ze),a(ze,qe),a(ze,Ae),a(te,Re),a(te,Ce),ve=!0,I||(x=[Oe(p,"change",e[19]),Oe(f,"change",e[22]),Oe(M,"change",e[27]),Oe(ee,"change",e[28])],I=!0)},p(P,$){const nt={};$[0]&1&&(nt.options=P[0].year),!o&&$[0]&64&&(o=!0,nt.value=P[6],me(()=>o=!1)),i.$set(nt),$[0]&32&&(p.checked=p.__value===P[5]);const Me={};$[0]&1&&(Me.options=P[0].quarter),$[0]&32&&(Me.disabled=P[5]===Je.Month),!m&&$[0]&128&&(m=!0,Me.value=P[7],me(()=>m=!1)),k.$set(Me),$[0]&32&&(f.checked=f.__value===P[5]);const C={};$[0]&1&&(C.options=P[0].month),$[0]&32&&(C.disabled=P[5]===Je.Quarter),!K&&$[0]&256&&(K=!0,C.value=P[8],me(()=>K=!1)),S.$set(C);const E={};$[0]&1&&(E.options=P[0].company),$[0]&4&&(E.defaultValue=P[2].company),!G&&$[0]&8&&(G=!0,E.value=P[3],me(()=>G=!1)),q.$set(E);const oe={};$[0]&1&&(oe.options=P[0].kpiName),$[0]&4&&(oe.defaultValue=P[2].kpiName),!he&&$[0]&16&&(he=!0,oe.value=P[4],me(()=>he=!1)),ae.$set(oe);const Ee={};!N&&$[0]&1024&&(N=!0,Ee.value=P[10],me(()=>N=!1)),Z.$set(Ee),$[0]&512&&(M.checked=M.__value===P[9]),$[0]&512&&(ee.checked=ee.__value===P[9]),(!ve||$[0]&2048)&&Se(Fe,P[11]),(!ve||$[0]&2)&&Te!==(Te=P[1].comparePeriod+"")&&Se(qe,Te)},i(P){ve||(Q(i.$$.fragment,P),Q(k.$$.fragment,P),Q(S.$$.fragment,P),Q(q.$$.fragment,P),Q(ae.$$.fragment,P),Q(Z.$$.fragment,P),Q(be.$$.fragment,P),ve=!0)},o(P){Y(i.$$.fragment,P),Y(k.$$.fragment,P),Y(S.$$.fragment,P),Y(q.$$.fragment,P),Y(ae.$$.fragment,P),Y(Z.$$.fragment,P),Y(be.$$.fragment,P),ve=!1},d(P){P&&re(n),X(i),e[20][0].splice(e[20][0].indexOf(p),1),X(k),e[20][0].splice(e[20][0].indexOf(f),1),X(S),X(q),X(ae),X(Z),e[20][1].splice(e[20][1].indexOf(M),1),e[20][1].splice(e[20][1].indexOf(ee),1),X(be),P&&re(je),P&&re(te),I=!1,yt(x)}}}function yn(e){const n=e.reduce((l,i)=>l<i.data.length?i.data.length:l,0),t=e.length*n;return t>40?{minWidth:1293+(t-40)*40,pointWidth:15}:{minWidth:void 0,pointWidth:void 0}}function Dn(e,n,t){let{options:l}=n,{sharedFilter:i}=n,{defaultFilter:o}=n,{periodComparingChartData:r}=n,h,v,d=i.comparePeriod,p=i.year,y=i.quarter,b=i.month;const w=tt.Target;let k=w;const m=Qe.BarChart,j=[{id:Qe.BarChart,name:"Bar Chart"},{id:Qe.LineChart,name:"Line Chart"}];let B=m,W="",f=!1;const F=Dt();ft(async()=>{await lt(),t(3,h=i.company),t(4,v=i.kpiName),t(17,f=!0),L(),T()});function T(){const c=B===Qe.BarChart?"column":void 0,J=(i.comparePeriod===Je.Quarter?y:b).map(O=>O.name),ue=yn(r.series);window.Highcharts.chart("periodComparingChart",{chart:{type:c,scrollablePlotArea:{minWidth:ue.minWidth,opacity:.9},spacingRight:0},credits:{enabled:!1},title:{text:void 0},xAxis:{title:{text:i.comparePeriod,style:Ne.textBold},categories:J,labels:{style:Ne.textNormal}},yAxis:{min:0,minTickInterval:r.unit.toLocaleLowerCase()==="case"?1:void 0,title:{text:r.unit,style:Ne.textBold},lineWidth:1,gridLineWidth:1,labels:{style:Ne.textNormal}},legend:{verticalAlign:"top",itemStyle:Ne.textNormal,title:{text:"year",style:jt(et({},Ne.textBold),{transform:"translate(-30px, 23px)",textTransform:"capitalize"})}},plotOptions:{column:{pointWidth:ue.pointWidth}},series:r.series})}function L(){t(11,W=l.kpiName.find(c=>c.id===v).name)}function S(){T()}function K(){F("search",{year:p,quarter:y,month:b,company:h,kpiName:v,dataType:k,comparePeriod:d,dashboardName:"KPIPeriodComparing"}),L()}function z(){t(3,h=o.company),t(4,v=o.kpiName),t(6,p=o.year),t(7,y=o.quarter),t(8,b=o.month),t(9,k=w),t(10,B=m),t(5,d=o.comparePeriod)}const A=[[],[]];function H(c){p=c,t(6,p)}function q(){d=this.__value,t(5,d)}function G(c){y=c,t(7,y)}function D(){d=this.__value,t(5,d)}function ae(c){b=c,t(8,b)}function he(c){h=c,t(3,h)}function Pe(c){v=c,t(4,v)}function Z(c){B=c,t(10,B)}function N(){k=this.__value,t(9,k)}function le(){k=this.__value,t(9,k)}return e.$$set=c=>{"options"in c&&t(0,l=c.options),"sharedFilter"in c&&t(1,i=c.sharedFilter),"defaultFilter"in c&&t(2,o=c.defaultFilter),"periodComparingChartData"in c&&t(16,r=c.periodComparingChartData)},e.$$.update=()=>{e.$$.dirty[0]&196608&&f&&r&&T()},[l,i,o,h,v,d,p,y,b,k,B,W,j,S,K,z,r,f,H,q,A,G,D,ae,he,Pe,Z,N,le]}class Pn extends ot{constructor(n){super();ut(this,n,Dn,Cn,dt,{options:0,sharedFilter:1,defaultFilter:2,periodComparingChartData:16},null,[-1,-1])}}function Tn(e){let n,t,l,i,o,r,h,v,d,p,y,b,w,k,m,j,B,W,f,F,T,L,S,K,z,A,H,q,G,D,ae,he,Pe,Z,N,le,c,J,ue,O,M,ge,ie,we,_e,ee,He,Be,Ie,be;function je(I){e[18](I)}let te={label:"Start Date",name:"startDate",minDate:kt,maxDate:e[3],isHorizontal:!0,wrapperWidth:232,width:144};e[2]!==void 0&&(te.value=e[2]),i=new gt({props:te}),fe.push(()=>pe(i,"value",je));function ce(I){e[19](I)}let Fe={label:"End Date",name:"endDate",minDate:e[2],maxDate:Ft,isHorizontal:!0,wrapperWidth:232,width:144};e[3]!==void 0&&(Fe.value=e[3]),v=new gt({props:Fe}),fe.push(()=>pe(v,"value",ce));function Le(I){e[20](I)}let ze={label:"Company",name:"companyList",options:e[0].company,containerInner:"_g-SSHEKPIBenchmark-multiple-company",isHorizontal:!0,fullWidth:!0};e[4]!==void 0&&(ze.value=e[4]),b=new Tt({props:ze}),fe.push(()=>pe(b,"value",Le));function Te(I){e[21](I)}let qe={label:"KPI Name",name:"kpiName",options:e[0].kpiName,defaultValue:e[1].kpiName,isHorizontal:!0,labelWidth:76,width:310};e[5]!==void 0&&(qe.value=e[5]),B=new Ge({props:qe}),fe.push(()=>pe(B,"value",Te));function Ae(I){e[22](I)}let Re={label:"Display Period",name:"displayPeriod",options:e[10],isHorizontal:!0,labelWidth:106,width:105};e[7]!==void 0&&(Re.value=e[7]),F=new Ge({props:Re}),fe.push(()=>pe(F,"value",Ae));function Ce(I){e[23](I)}let ve={label:"Graph Type",name:"graphType",options:e[11],change:e[12],isHorizontal:!0};return e[8]!==void 0&&(ve.value=e[8]),S=new Ge({props:ve}),fe.push(()=>pe(S,"value",Ce)),ue=new Pt({props:{search:e[13],clear:e[14]}}),{c(){n=u("div"),t=u("div"),l=u("div"),R(i.$$.fragment),r=_(),h=u("div"),R(v.$$.fragment),p=_(),y=u("div"),R(b.$$.fragment),k=_(),m=u("div"),j=u("div"),R(B.$$.fragment),f=_(),R(F.$$.fragment),L=_(),R(S.$$.fragment),z=_(),A=u("div"),H=u("span"),H.textContent="Data Type :",q=_(),G=u("label"),D=u("input"),ae=_(),he=u("span"),he.textContent="Target",Pe=_(),Z=u("label"),N=u("input"),le=_(),c=u("span"),c.textContent="Actual",J=_(),R(ue.$$.fragment),O=_(),M=u("div"),ge=u("div"),ie=De(e[9]),we=_(),_e=u("span"),_e.textContent="Benchmark",ee=_(),He=u("div"),s(y,"class","_conpany-wrpper svelte-1pclr60"),s(t,"class","is-flex is-justify-between push-bottom-2"),s(H,"class","text"),s(D,"type","radio"),s(D,"name","dataType"),D.__value=tt.Target,D.value=D.__value,e[25][0].push(D),s(G,"class","radio"),s(N,"type","radio"),s(N,"name","dataType"),N.__value=tt.Actual,N.value=N.__value,e[25][0].push(N),s(Z,"class","radio"),s(A,"class","text-size-medium"),s(j,"class","is-flex is-align-center"),s(m,"class","is-flex is-justify-between"),s(n,"class","push-bottom-3"),s(ge,"class","text-center title svelte-1pclr60"),s(He,"id","benchmarkChart"),s(M,"class","box svelte-1pclr60")},m(I,x){se(I,n,x),a(n,t),a(t,l),U(i,l,null),a(t,r),a(t,h),U(v,h,null),a(t,p),a(t,y),U(b,y,null),a(n,k),a(n,m),a(m,j),U(B,j,null),a(j,f),U(F,j,null),a(j,L),U(S,j,null),a(j,z),a(j,A),a(A,H),a(A,q),a(A,G),a(G,D),D.checked=D.__value===e[6],a(G,ae),a(G,he),a(A,Pe),a(A,Z),a(Z,N),N.checked=N.__value===e[6],a(Z,le),a(Z,c),a(m,J),U(ue,m,null),se(I,O,x),se(I,M,x),a(M,ge),a(ge,ie),a(ge,we),a(ge,_e),a(M,ee),a(M,He),Be=!0,Ie||(be=[Oe(D,"change",e[24]),Oe(N,"change",e[26])],Ie=!0)},p(I,x){const Ye={};x[0]&8&&(Ye.maxDate=I[3]),!o&&x[0]&4&&(o=!0,Ye.value=I[2],me(()=>o=!1)),i.$set(Ye);const We={};x[0]&4&&(We.minDate=I[2]),!d&&x[0]&8&&(d=!0,We.value=I[3],me(()=>d=!1)),v.$set(We);const ye={};x[0]&1&&(ye.options=I[0].company),!w&&x[0]&16&&(w=!0,ye.value=I[4],me(()=>w=!1)),b.$set(ye);const de={};x[0]&1&&(de.options=I[0].kpiName),x[0]&2&&(de.defaultValue=I[1].kpiName),!W&&x[0]&32&&(W=!0,de.value=I[5],me(()=>W=!1)),B.$set(de);const Ue={};!T&&x[0]&128&&(T=!0,Ue.value=I[7],me(()=>T=!1)),F.$set(Ue);const xe={};!K&&x[0]&256&&(K=!0,xe.value=I[8],me(()=>K=!1)),S.$set(xe),x[0]&64&&(D.checked=D.__value===I[6]),x[0]&64&&(N.checked=N.__value===I[6]),(!Be||x[0]&512)&&Se(ie,I[9])},i(I){Be||(Q(i.$$.fragment,I),Q(v.$$.fragment,I),Q(b.$$.fragment,I),Q(B.$$.fragment,I),Q(F.$$.fragment,I),Q(S.$$.fragment,I),Q(ue.$$.fragment,I),Be=!0)},o(I){Y(i.$$.fragment,I),Y(v.$$.fragment,I),Y(b.$$.fragment,I),Y(B.$$.fragment,I),Y(F.$$.fragment,I),Y(S.$$.fragment,I),Y(ue.$$.fragment,I),Be=!1},d(I){I&&re(n),X(i),X(v),X(b),X(B),X(F),X(S),e[25][0].splice(e[25][0].indexOf(D),1),e[25][0].splice(e[25][0].indexOf(N),1),X(ue),I&&re(O),I&&re(M),Ie=!1,yt(be)}}}function Nn(e){const n=e.reduce((l,i)=>l<i.data.length?i.data.length:l,0),t=e.length*n;return t>40?{minWidth:1293+(t-40)*40,pointWidth:15}:{minWidth:void 0,pointWidth:void 0}}function In(e,n,t){let{options:l}=n,{sharedFilter:i}=n,{defaultFilter:o}=n,{benchmarkChartData:r}=n,h=i.startDate,v=i.endDate,d,p;const y=tt.Target;let b=y,w=[{id:Ve.Year,name:Ve.Year},{id:Ve.Quarter,name:Ve.Quarter},{id:Ve.Month,name:Ve.Month}],k=i.displayPeriod;const m=Qe.BarChart,j=[{id:Qe.BarChart,name:"Bar Chart"},{id:Qe.LineChart,name:"Line Chart"}];let B=m,W="",f=!1;const F=Dt();ft(async()=>{await lt(),t(4,d=i.companyList),t(5,p=i.kpiName),L(),t(17,f=!0),T()});function T(){const N=B===Qe.BarChart?"column":void 0,le=St(h,v,k),c=Nn(r.series);window.Highcharts.chart("benchmarkChart",{chart:{type:N,scrollablePlotArea:{minWidth:c.minWidth,opacity:.9},spacingRight:0},credits:{enabled:!1},title:{text:void 0},xAxis:{title:{text:k,style:Ne.textBold},categories:le,labels:{style:Ne.textNormal}},yAxis:{min:0,minTickInterval:r.unit.toLocaleLowerCase()==="case"?1:void 0,title:{text:r.unit,style:Ne.textBold},lineWidth:1,gridLineWidth:1,labels:{style:Ne.textNormal}},legend:{verticalAlign:"top",itemStyle:Ne.textNormal},plotOptions:{line:{dataLabels:{enabled:!0}},column:{pointWidth:c.pointWidth}},series:r.series})}function L(){t(9,W=l.kpiName.find(N=>N.id===p).name)}function S(){T()}function K(){F("search",{startDate:h,endDate:v,companyList:d,kpiName:p,dataType:b,displayPeriod:k,dashboardName:"SSHEKPIBenchmark"}),L()}function z(){t(2,h=o.startDate),t(3,v=o.endDate),t(4,d=o.companyList),t(5,p=o.kpiName),t(6,b=y),t(8,B=m),t(7,k=o.displayPeriod)}const A=[[]];function H(N){h=N,t(2,h)}function q(N){v=N,t(3,v)}function G(N){d=N,t(4,d)}function D(N){p=N,t(5,p)}function ae(N){k=N,t(7,k)}function he(N){B=N,t(8,B)}function Pe(){b=this.__value,t(6,b)}function Z(){b=this.__value,t(6,b)}return e.$$set=N=>{"options"in N&&t(0,l=N.options),"sharedFilter"in N&&t(15,i=N.sharedFilter),"defaultFilter"in N&&t(1,o=N.defaultFilter),"benchmarkChartData"in N&&t(16,r=N.benchmarkChartData)},e.$$.update=()=>{e.$$.dirty[0]&196608&&f&&r&&T()},[l,o,h,v,d,p,b,k,B,W,w,j,S,K,z,i,r,f,H,q,G,D,ae,he,Pe,A,Z]}class jn extends ot{constructor(n){super();ut(this,n,In,Tn,dt,{options:0,sharedFilter:15,defaultFilter:1,benchmarkChartData:16},null,[-1,-1])}}function Fn(e){let n,t;return n=new jn({props:{options:e[0],defaultFilter:e[1],sharedFilter:e[2],benchmarkChartData:e[7]}}),n.$on("search",e[11]),{c(){R(n.$$.fragment)},m(l,i){U(n,l,i),t=!0},p(l,i){const o={};i&1&&(o.options=l[0]),i&2&&(o.defaultFilter=l[1]),i&4&&(o.sharedFilter=l[2]),i&128&&(o.benchmarkChartData=l[7]),n.$set(o)},i(l){t||(Q(n.$$.fragment,l),t=!0)},o(l){Y(n.$$.fragment,l),t=!1},d(l){X(n,l)}}}function Sn(e){let n,t;return n=new Pn({props:{options:e[0],defaultFilter:e[1],sharedFilter:e[2],periodComparingChartData:e[6]}}),n.$on("search",e[11]),{c(){R(n.$$.fragment)},m(l,i){U(n,l,i),t=!0},p(l,i){const o={};i&1&&(o.options=l[0]),i&2&&(o.defaultFilter=l[1]),i&4&&(o.sharedFilter=l[2]),i&64&&(o.periodComparingChartData=l[6]),n.$set(o)},i(l){t||(Q(n.$$.fragment,l),t=!0)},o(l){Y(n.$$.fragment,l),t=!1},d(l){X(n,l)}}}function Bn(e){let n,t;return n=new vn({props:{options:e[0],defaultFilter:e[1],sharedFilter:e[2],trendingChartData:e[5]}}),n.$on("search",e[11]),{c(){R(n.$$.fragment)},m(l,i){U(n,l,i),t=!0},p(l,i){const o={};i&1&&(o.options=l[0]),i&2&&(o.defaultFilter=l[1]),i&4&&(o.sharedFilter=l[2]),i&32&&(o.trendingChartData=l[5]),n.$set(o)},i(l){t||(Q(n.$$.fragment,l),t=!0)},o(l){Y(n.$$.fragment,l),t=!1},d(l){X(n,l)}}}function Wn(e){let n,t;return n=new gn({props:{options:e[0],defaultFilter:e[1],sharedFilter:e[2],kpiTableDatas:e[4]}}),n.$on("search",e[11]),{c(){R(n.$$.fragment)},m(l,i){U(n,l,i),t=!0},p(l,i){const o={};i&1&&(o.options=l[0]),i&2&&(o.defaultFilter=l[1]),i&4&&(o.sharedFilter=l[2]),i&16&&(o.kpiTableDatas=l[4]),n.$set(o)},i(l){t||(Q(n.$$.fragment,l),t=!0)},o(l){Y(n.$$.fragment,l),t=!1},d(l){X(n,l)}}}function Kn(e){let n,t,l,i,o,r,h,v,d,p,y;t=new ln({props:{isShow:e[8]}}),h=new sn({props:{tabs:e[9],activeTab:e[3],isUnsavedChanges:!1}}),h.$on("tabChange",e[10]);const b=[Wn,Bn,Sn,Fn],w=[];function k(m,j){return m[3]===Ze.KPIPerformance?0:m[3]===Ze.KPIPerformanceTrending?1:m[3]===Ze.KPIPeriodComparing?2:m[3]===Ze.SSHEKPIBenchmark?3:-1}return~(d=k(e))&&(p=w[d]=b[d](e)),{c(){n=u("main"),R(t.$$.fragment),l=_(),i=u("div"),i.textContent="OEMS Dashboard",o=_(),r=u("div"),R(h.$$.fragment),v=_(),p&&p.c(),s(i,"class","text-center text-weight-bold push-bottom-3 title svelte-1fx9wsu"),s(r,"class","push-bottom-3")},m(m,j){se(m,n,j),U(t,n,null),a(n,l),a(n,i),a(n,o),a(n,r),U(h,r,null),a(n,v),~d&&w[d].m(n,null),y=!0},p(m,[j]){const B={};j&256&&(B.isShow=m[8]),t.$set(B);const W={};j&8&&(W.activeTab=m[3]),h.$set(W);let f=d;d=k(m),d===f?~d&&w[d].p(m,j):(p&&(fn(),Y(w[f],1,1,()=>{w[f]=null}),dn()),~d?(p=w[d],p?p.p(m,j):(p=w[d]=b[d](m),p.c()),Q(p,1),p.m(n,null)):p=null)},i(m){y||(Q(t.$$.fragment,m),Q(h.$$.fragment,m),Q(p),y=!0)},o(m){Y(t.$$.fragment,m),Y(h.$$.fragment,m),Y(p),y=!1},d(m){m&&re(n),X(t),X(h),~d&&w[d].d()}}}function Hn(e,n,t){const l=new Date,i=kt,o=new Date(l.setHours(0,0,0));let r={company:[],kpiCodeType:[],kpiName:[],year:rn(),quarter:[{id:1,name:"Quarter 1"},{id:2,name:"Quarter 2"},{id:3,name:"Quarter 3"},{id:4,name:"Quarter 4"}],month:on.map((f,F)=>({id:F+1,name:f}))},h=!1,v={startDate:i,endDate:o,kpiCodeType:void 0,displayPeriod:Ve.Year,company:void 0,kpiName:void 0,dataType:tt.Target,comparePeriod:Je.Quarter,companyList:[],year:[...r.year],quarter:[...r.quarter],month:[...r.month]},d=et({},v);const p=[{id:Ze.KPIPerformance,name:"KPI Performance"},{id:Ze.KPIPerformanceTrending,name:"KPI Performance Trending"},{id:Ze.KPIPeriodComparing,name:"KPI Period Comparing"},{id:Ze.SSHEKPIBenchmark,name:"SSHE KPI Benchmark"}];let y=Ze.KPIPerformance,b=[],w,k,m,j=!0;ft(async()=>{window.getData=()=>{const f=JSON.parse(document.getElementById("rawData").innerText);t(0,r.company=f.companyOptions.sort((F,T)=>F.order-T.order),r),t(0,r.kpiCodeType=f.kpiCodeTypeOptions,r),t(0,r.kpiName=f.kpiNameOptions,r),h===!1&&(h=!0,t(1,v.company=r.company[0].id,v),t(2,d.company=v.company,d),t(1,v.companyList=r.company,v),t(2,d.companyList=v.companyList,d),t(1,v.kpiCodeType=r.kpiCodeType[0].id,v),t(2,d.kpiCodeType=v.kpiCodeType,d),t(1,v.kpiName=r.kpiName[0].id,v),t(2,d.kpiName=v.kpiName,d)),t(4,b=f.kpiTableData),t(5,w=f.trendingChartData),t(6,k=f.periodComparingChartData),t(7,m=f.benchmarkChartData),t(8,j=!1)},window.getData()});function B(f){t(3,y=f.detail)}function W(f){const S=f.detail,{dashboardName:F}=S,T=Ht(S,["dashboardName"]);t(2,d=et(et({},d),T));const L=jt(et({},d),{dashboardName:F,companyList:d.companyList.map(K=>K.id),quarter:d.comparePeriod===Je.Quarter?d.quarter.map(K=>K.id):void 0,month:d.comparePeriod===Je.Month?d.month.map(K=>K.id):void 0});console.log(L),console.log(JSON.stringify(L,At)),t(8,j=!0),window.PerformSearch(JSON.stringify(L,At))}return[r,v,d,y,b,w,k,m,j,p,B,W]}class Ln extends ot{constructor(n){super();ut(this,n,Hn,Kn,dt,{})}}new Ln({target:document.getElementById("app")});
