import{a as De,f as E,L as On,T as Fn,B as $e,g as En,l as ge}from"./formatter.js";import{S as Be,i as Ge,s as Je,e as v,t as F,a as M,j as q,c as T,d,f as h,g as I,h as p,D as ee,E as _e,l as de,P as ce,o as pe,p as te,m as ie,k as Pe,n as ke,w as ye,x as ve,r as Ce,u as Ne,y as he,v as Me,F as xe,A as Rn}from"./vendor.js";import{G as In,i as jn,a as Un,E as Zn,I as Ae,T as Ln}from"./ExportButton.js";import{B as Ee}from"./BaseInputNumber.js";import{S as qn}from"./SecondaryTabs.js";function el(i,e,l){const t=i.slice();return t[24]=e[l],t[25]=e,t[26]=l,t}function ll(i,e,l){const t=i.slice();return t[27]=e[l],t[29]=l,t}function tl(i,e,l){const t=i.slice();return t[30]=e[l],t[32]=l,t}function il(i,e,l){const t=i.slice();return t[30]=e[l],t[32]=l,t}function nl(i,e,l){const t=i.slice();return t[34]=e[l],t[35]=e,t[29]=l,t}function sl(i,e,l){const t=i.slice();return t[30]=e[l],t[32]=l,t}function fl(i,e,l){const t=i.slice();return t[30]=e[l],t[37]=e,t[32]=l,t}function ol(i,e,l){const t=i.slice();return t[30]=e[l],t[39]=l,t}function _l(i,e,l){const t=i.slice();return t[30]=e[l],t[29]=l,t}function ul(i,e,l){const t=i.slice();return t[30]=e[l],t[29]=l,t}function al(i,e,l){const t=i.slice();return t[24]=e[l],t[42]=e,t[26]=l,t}function rl(i,e,l){const t=i.slice();return t[27]=e[l],t[44]=l,t}function ml(i,e,l){const t=i.slice();return t[45]=e[l],t[47]=l,t}function dl(i,e,l){const t=i.slice();return t[48]=e[l],t[50]=l,t}function pl(i,e,l){const t=i.slice();return t[45]=e[l],t[47]=l,t}function bl(i,e,l){const t=i.slice();return t[48]=e[l],t[50]=l,t}function kl(i,e,l){const t=i.slice();return t[34]=e[l],t[53]=e,t[54]=l,t}function cl(i,e,l){const t=i.slice();return t[45]=e[l],t[47]=l,t}function yl(i,e,l){const t=i.slice();return t[48]=e[l],t[50]=l,t}function vl(i,e,l){const t=i.slice();return t[45]=e[l],t[47]=l,t}function hl(i,e,l){const t=i.slice();return t[48]=e[l],t[58]=e,t[50]=l,t}function Hl(i,e,l){const t=i.slice();return t[45]=e[l],t[47]=l,t}function wl(i,e,l){const t=i.slice();return t[48]=e[l],t[50]=l,t}function Tl(i,e,l){const t=i.slice();return t[45]=e[l],t}function Cl(i,e,l){const t=i.slice();return t[48]=e[l],t[29]=l,t}function Nl(i,e,l){const t=i.slice();return t[45]=e[l],t}function Ml(i,e,l){const t=i.slice();return t[48]=e[l],t[29]=l,t}function Dl(i,e,l){const t=i.slice();return t[45]=e[l],t[47]=l,t}function Sl(i){let e,l,t,o,r,f,n,s,_;return{c(){e=v("th"),e.textContent="TOP",l=M(),t=v("th"),t.textContent="TES",o=M(),r=v("th"),r.textContent="Male",f=M(),n=v("th"),n.textContent="Female",s=M(),_=v("th"),_.textContent="Grand Total",T(e,"class","_head-col _top"),T(e,"rowspan",3),T(t,"class","_head-col _tes"),T(t,"rowspan",3),T(r,"class","_head-col _male"),T(r,"rowspan",3),T(n,"class","_head-col _female"),T(n,"rowspan",3),T(_,"class","_head-col _total"),T(_,"rowspan",3)},m(a,m){d(a,e,m),d(a,l,m),d(a,t,m),d(a,o,m),d(a,r,m),d(a,f,m),d(a,n,m),d(a,s,m),d(a,_,m)},d(a){a&&p(e),a&&p(l),a&&p(t),a&&p(o),a&&p(r),a&&p(f),a&&p(n),a&&p(s),a&&p(_)}}}function Pl(i,e){let l,t=e[45].company.name+"",o,r,f,n,s=e[0].length-1===e[47]&&e[2]&&Sl();return{key:i,first:null,c(){l=v("th"),o=F(t),f=M(),s&&s.c(),n=q(),T(l,"class","_head-col _extend"),T(l,"colspan",r=e[2]?(e[45].companyPlants.length+1)*3:e[45].companyPlants.length*2),this.first=l},m(_,a){d(_,l,a),h(l,o),d(_,f,a),s&&s.m(_,a),d(_,n,a)},p(_,a){e=_,a[0]&1&&t!==(t=e[45].company.name+"")&&I(o,t),a[0]&5&&r!==(r=e[2]?(e[45].companyPlants.length+1)*3:e[45].companyPlants.length*2)&&T(l,"colspan",r),e[0].length-1===e[47]&&e[2]?s||(s=Sl(),s.c(),s.m(n.parentNode,n)):s&&(s.d(1),s=null)},d(_){_&&p(l),_&&p(f),s&&s.d(_),_&&p(n)}}}function Ol(i){let e,l;return{c(){e=v("th"),e.textContent="Total",T(e,"class","_head-col _plant-total"),T(e,"colspan",l=3)},m(t,o){d(t,e,o)},d(t){t&&p(e)}}}function Fl(i,e){let l,t=e[48].name+"",o,r,f,n,s,_=e[45].companyPlants.length-1===e[29]&&e[2]&&Ol();return{key:i,first:null,c(){l=v("th"),o=F(t),n=M(),_&&_.c(),s=q(),T(l,"class",r="_head-col "+(e[29]===0?"_top":"_tes")),T(l,"colspan",f=e[2]?3:2),this.first=l},m(a,m){d(a,l,m),h(l,o),d(a,n,m),_&&_.m(a,m),d(a,s,m)},p(a,m){e=a,m[0]&1&&t!==(t=e[48].name+"")&&I(o,t),m[0]&1&&r!==(r="_head-col "+(e[29]===0?"_top":"_tes"))&&T(l,"class",r),m[0]&4&&f!==(f=e[2]?3:2)&&T(l,"colspan",f),e[45].companyPlants.length-1===e[29]&&e[2]?_||(_=Ol(),_.c(),_.m(s.parentNode,s)):_&&(_.d(1),_=null)},d(a){a&&p(l),a&&p(n),_&&_.d(a),a&&p(s)}}}function El(i,e){let l,t=[],o=new Map,r,f=e[45].companyPlants;const n=s=>s[48].id;for(let s=0;s<f.length;s+=1){let _=Ml(e,f,s),a=n(_);o.set(a,t[s]=Fl(a,_))}return{key:i,first:null,c(){l=q();for(let s=0;s<t.length;s+=1)t[s].c();r=q(),this.first=l},m(s,_){d(s,l,_);for(let a=0;a<t.length;a+=1)t[a].m(s,_);d(s,r,_)},p(s,_){e=s,_[0]&5&&(f=e[45].companyPlants,t=ee(t,_,n,1,e,f,o,r.parentNode,_e,Fl,r,Ml))},d(s){s&&p(l);for(let _=0;_<t.length;_+=1)t[_].d(s);s&&p(r)}}}function Rl(i){let e;return{c(){e=v("th"),e.textContent="Total",T(e,"class","_head-col _total")},m(l,t){d(l,e,t)},d(l){l&&p(e)}}}function Il(i){let e,l,t,o,r;return{c(){e=v("th"),e.textContent="Male",l=M(),t=v("th"),t.textContent="Female",o=M(),r=v("th"),r.textContent="Total",T(e,"class","_head-col _grand-male"),T(t,"class","_head-col _grand-female"),T(r,"class","_head-col _grand-total")},m(f,n){d(f,e,n),d(f,l,n),d(f,t,n),d(f,o,n),d(f,r,n)},d(f){f&&p(e),f&&p(l),f&&p(t),f&&p(o),f&&p(r)}}}function jl(i,e){let l,t,o,r,f,n,s=e[2]&&Rl(),_=e[45].companyPlants.length-1===e[29]&&e[2]&&Il();return{key:i,first:null,c(){l=v("th"),l.textContent="Male",t=M(),o=v("th"),o.textContent="Female",r=M(),s&&s.c(),f=M(),_&&_.c(),n=q(),T(l,"class","_head-col _male"),T(o,"class","_head-col _female"),this.first=l},m(a,m){d(a,l,m),d(a,t,m),d(a,o,m),d(a,r,m),s&&s.m(a,m),d(a,f,m),_&&_.m(a,m),d(a,n,m)},p(a,m){e=a,e[2]?s||(s=Rl(),s.c(),s.m(f.parentNode,f)):s&&(s.d(1),s=null),e[45].companyPlants.length-1===e[29]&&e[2]?_||(_=Il(),_.c(),_.m(n.parentNode,n)):_&&(_.d(1),_=null)},d(a){a&&p(l),a&&p(t),a&&p(o),a&&p(r),s&&s.d(a),a&&p(f),_&&_.d(a),a&&p(n)}}}function Ul(i,e){let l,t=[],o=new Map,r,f=e[45].companyPlants;const n=s=>s[48].id;for(let s=0;s<f.length;s+=1){let _=Cl(e,f,s),a=n(_);o.set(a,t[s]=jl(a,_))}return{key:i,first:null,c(){l=q();for(let s=0;s<t.length;s+=1)t[s].c();r=q(),this.first=l},m(s,_){d(s,l,_);for(let a=0;a<t.length;a+=1)t[a].m(s,_);d(s,r,_)},p(s,_){e=s,_[0]&5&&(f=e[45].companyPlants,t=ee(t,_,n,1,e,f,o,r.parentNode,_e,jl,r,Cl))},d(s){s&&p(l);for(let _=0;_<t.length;_+=1)t[_].d(s);s&&p(r)}}}function Zl(i){let e;return{c(){e=v("tr"),e.innerHTML='<td class="_col _space"></td>'},m(l,t){d(l,e,t)},d(l){l&&p(e)}}}function Ll(i){let e,l=i[14](i[26],i[48],i[16].Total)+"",t;return{c(){e=v("td"),t=F(l),T(e,"class","_col _indicator-total")},m(o,r){d(o,e,r),h(e,t)},p(o,r){r[0]&16417&&l!==(l=o[14](o[26],o[48],o[16].Total)+"")&&I(t,l)},d(o){o&&p(e)}}}function ql(i){let e,l=i[13](i[26],i[45].companyPlants,i[16].Male)+"",t,o,r,f=i[13](i[26],i[45].companyPlants,i[16].Female)+"",n,s,_,a=i[13](i[26],i[45].companyPlants,i[16].Total)+"",m;return{c(){e=v("td"),t=F(l),o=M(),r=v("td"),n=F(f),s=M(),_=v("td"),m=F(a),T(e,"class","_col _indicator-total"),T(r,"class","_col _indicator-total"),T(_,"class","_col _indicator-total")},m(u,k){d(u,e,k),h(e,t),d(u,o,k),d(u,r,k),h(r,n),d(u,s,k),d(u,_,k),h(_,m)},p(u,k){k[0]&8225&&l!==(l=u[13](u[26],u[45].companyPlants,u[16].Male)+"")&&I(t,l),k[0]&8225&&f!==(f=u[13](u[26],u[45].companyPlants,u[16].Female)+"")&&I(n,f),k[0]&8225&&a!==(a=u[13](u[26],u[45].companyPlants,u[16].Total)+"")&&I(m,a)},d(u){u&&p(e),u&&p(o),u&&p(r),u&&p(s),u&&p(_)}}}function Bl(i,e){let l,t=e[14](e[26],e[48],e[16].Male)+"",o,r,f,n=e[14](e[26],e[48],e[16].Female)+"",s,_,a,m,u=e[2]&&Ll(e),k=e[45].companyPlants.length-1===e[50]&&e[2]&&ql(e);return{key:i,first:null,c(){l=v("td"),o=F(t),r=M(),f=v("td"),s=F(n),_=M(),u&&u.c(),a=M(),k&&k.c(),m=q(),T(l,"class","_col _indicator-total"),T(f,"class","_col _indicator-total"),this.first=l},m(N,C){d(N,l,C),h(l,o),d(N,r,C),d(N,f,C),h(f,s),d(N,_,C),u&&u.m(N,C),d(N,a,C),k&&k.m(N,C),d(N,m,C)},p(N,C){e=N,C[0]&16417&&t!==(t=e[14](e[26],e[48],e[16].Male)+"")&&I(o,t),C[0]&16417&&n!==(n=e[14](e[26],e[48],e[16].Female)+"")&&I(s,n),e[2]?u?u.p(e,C):(u=Ll(e),u.c(),u.m(a.parentNode,a)):u&&(u.d(1),u=null),e[45].companyPlants.length-1===e[50]&&e[2]?k?k.p(e,C):(k=ql(e),k.c(),k.m(m.parentNode,m)):k&&(k.d(1),k=null)},d(N){N&&p(l),N&&p(r),N&&p(f),N&&p(_),u&&u.d(N),N&&p(a),k&&k.d(N),N&&p(m)}}}function Gl(i){let e,l=E(i[11](i[26]).top)+"",t,o,r,f=E(i[11](i[26]).tes)+"",n,s,_,a=E(i[11](i[26]).male)+"",m,u,k,N=E(i[11](i[26]).female)+"",C,y,H,w=E(i[11](i[26]).total)+"",P;return{c(){e=v("td"),t=F(l),o=M(),r=v("td"),n=F(f),s=M(),_=v("td"),m=F(a),u=M(),k=v("td"),C=F(N),y=M(),H=v("td"),P=F(w),T(e,"class","_col _indicator-total"),T(r,"class","_col _indicator-total"),T(_,"class","_col _indicator-total"),T(k,"class","_col _indicator-total"),T(H,"class","_col _indicator-total")},m(c,b){d(c,e,b),h(e,t),d(c,o,b),d(c,r,b),h(r,n),d(c,s,b),d(c,_,b),h(_,m),d(c,u,b),d(c,k,b),h(k,C),d(c,y,b),d(c,H,b),h(H,P)},p(c,b){b[0]&2080&&l!==(l=E(c[11](c[26]).top)+"")&&I(t,l),b[0]&2080&&f!==(f=E(c[11](c[26]).tes)+"")&&I(n,f),b[0]&2080&&a!==(a=E(c[11](c[26]).male)+"")&&I(m,a),b[0]&2080&&N!==(N=E(c[11](c[26]).female)+"")&&I(C,N),b[0]&2080&&w!==(w=E(c[11](c[26]).total)+"")&&I(P,w)},d(c){c&&p(e),c&&p(o),c&&p(r),c&&p(s),c&&p(_),c&&p(u),c&&p(k),c&&p(y),c&&p(H)}}}function Jl(i,e){let l,t=[],o=new Map,r,f,n=e[45].companyPlants;const s=a=>`${a[48].id}_${a[47]}`;for(let a=0;a<n.length;a+=1){let m=wl(e,n,a),u=s(m);o.set(u,t[a]=Bl(u,m))}let _=e[0].length-1===e[47]&&e[2]&&Gl(e);return{key:i,first:null,c(){l=q();for(let a=0;a<t.length;a+=1)t[a].c();r=M(),_&&_.c(),f=q(),this.first=l},m(a,m){d(a,l,m);for(let u=0;u<t.length;u+=1)t[u].m(a,m);d(a,r,m),_&&_.m(a,m),d(a,f,m)},p(a,m){e=a,m[0]&90149&&(n=e[45].companyPlants,t=ee(t,m,s,1,e,n,o,r.parentNode,_e,Bl,r,wl)),e[0].length-1===e[47]&&e[2]?_?_.p(e,m):(_=Gl(e),_.c(),_.m(f.parentNode,f)):_&&(_.d(1),_=null)},d(a){a&&p(l);for(let m=0;m<t.length;m+=1)t[m].d(a);a&&p(r),_&&_.d(a),a&&p(f)}}}function Bn(i){let e,l,t,o,r,f=i[2]&&Al();return{c(){e=v("td"),e.textContent="0",l=M(),t=v("td"),t.textContent="0",o=M(),f&&f.c(),r=q()},m(n,s){d(n,e,s),d(n,l,s),d(n,t,s),d(n,o,s),f&&f.m(n,s),d(n,r,s)},p(n,s){n[2]?f||(f=Al(),f.c(),f.m(r.parentNode,r)):f&&(f.d(1),f=null)},i:ke,o:ke,d(n){n&&p(e),n&&p(l),n&&p(t),n&&p(o),f&&f.d(n),n&&p(r)}}}function Gn(i){let e,l,t,o,r,f,n,s,_,a;function m(y){i[20](y,i[48],i[26],i[54])}let u={name:"male",input:i[17],disabled:i[4]};i[48].incidents[i[26]].manHours[i[54]].male.hours!==void 0&&(u.value=i[48].incidents[i[26]].manHours[i[54]].male.hours),l=new Ee({props:u}),ye.push(()=>ve(l,"value",m));function k(y){i[21](y,i[48],i[26],i[54])}let N={name:"female",input:i[17],disabled:i[4]};i[48].incidents[i[26]].manHours[i[54]].female.hours!==void 0&&(N.value=i[48].incidents[i[26]].manHours[i[54]].female.hours),f=new Ee({props:N}),ye.push(()=>ve(f,"value",k));let C=i[2]&&Kl(i);return{c(){e=v("td"),Ce(l.$$.fragment),o=M(),r=v("td"),Ce(f.$$.fragment),s=M(),C&&C.c(),_=q()},m(y,H){d(y,e,H),Ne(l,e,null),d(y,o,H),d(y,r,H),Ne(f,r,null),d(y,s,H),C&&C.m(y,H),d(y,_,H),a=!0},p(y,H){i=y;const w={};H[0]&16&&(w.disabled=i[4]),!t&&H[0]&33&&(t=!0,w.value=i[48].incidents[i[26]].manHours[i[54]].male.hours,he(()=>t=!1)),l.$set(w);const P={};H[0]&16&&(P.disabled=i[4]),!n&&H[0]&33&&(n=!0,P.value=i[48].incidents[i[26]].manHours[i[54]].female.hours,he(()=>n=!1)),f.$set(P),i[2]?C?C.p(i,H):(C=Kl(i),C.c(),C.m(_.parentNode,_)):C&&(C.d(1),C=null)},i(y){a||(te(l.$$.fragment,y),te(f.$$.fragment,y),a=!0)},o(y){ie(l.$$.fragment,y),ie(f.$$.fragment,y),a=!1},d(y){y&&p(e),Me(l),y&&p(o),y&&p(r),Me(f),y&&p(s),C&&C.d(y),y&&p(_)}}}function Al(i){let e;return{c(){e=v("td"),e.textContent="0",T(e,"class","_col _total")},m(l,t){d(l,e,t)},d(l){l&&p(e)}}}function Kl(i){let e,l=E((i[48].incidents[i[26]].manHours[i[54]].male.hours||0)+(i[48].incidents[i[26]].manHours[i[54]].female.hours||0))+"",t;return{c(){e=v("td"),t=F(l),T(e,"class","_col _total")},m(o,r){d(o,e,r),h(e,t)},p(o,r){r[0]&33&&l!==(l=E((o[48].incidents[o[26]].manHours[o[54]].male.hours||0)+(o[48].incidents[o[26]].manHours[o[54]].female.hours||0))+"")&&I(t,l)},d(o){o&&p(e)}}}function Yl(i){let e,l=i[15](i[26],i[45].companyPlants,i[54],i[16].Male)+"",t,o,r,f=i[15](i[26],i[45].companyPlants,i[54],i[16].Female)+"",n,s,_,a=i[15](i[26],i[45].companyPlants,i[54],i[16].Total)+"",m;return{c(){e=v("td"),t=F(l),o=M(),r=v("td"),n=F(f),s=M(),_=v("td"),m=F(a),T(e,"class","_col _grand-male"),T(r,"class","_col _grand-female"),T(_,"class","_col _grand-total")},m(u,k){d(u,e,k),h(e,t),d(u,o,k),d(u,r,k),h(r,n),d(u,s,k),d(u,_,k),h(_,m)},p(u,k){k[0]&32801&&l!==(l=u[15](u[26],u[45].companyPlants,u[54],u[16].Male)+"")&&I(t,l),k[0]&32801&&f!==(f=u[15](u[26],u[45].companyPlants,u[54],u[16].Female)+"")&&I(n,f),k[0]&32801&&a!==(a=u[15](u[26],u[45].companyPlants,u[54],u[16].Total)+"")&&I(m,a)},d(u){u&&p(e),u&&p(o),u&&p(r),u&&p(s),u&&p(_)}}}function zl(i,e){let l,t,o,r,f,n;const s=[Gn,Bn],_=[];function a(u,k){return u[48].incidents[u[26]].manHours[u[54]]?0:1}t=a(e),o=_[t]=s[t](e);let m=e[45].companyPlants.length-1===e[50]&&e[2]&&Yl(e);return{key:i,first:null,c(){l=q(),o.c(),r=M(),m&&m.c(),f=q(),this.first=l},m(u,k){d(u,l,k),_[t].m(u,k),d(u,r,k),m&&m.m(u,k),d(u,f,k),n=!0},p(u,k){e=u;let N=t;t=a(e),t===N?_[t].p(e,k):(de(),ie(_[N],1,1,()=>{_[N]=null}),pe(),o=_[t],o?o.p(e,k):(o=_[t]=s[t](e),o.c()),te(o,1),o.m(r.parentNode,r)),e[45].companyPlants.length-1===e[50]&&e[2]?m?m.p(e,k):(m=Yl(e),m.c(),m.m(f.parentNode,f)):m&&(m.d(1),m=null)},i(u){n||(te(o),n=!0)},o(u){ie(o),n=!1},d(u){u&&p(l),_[t].d(u),u&&p(r),m&&m.d(u),u&&p(f)}}}function Vl(i){let e,l=E(i[10](i[26],i[54]).top)+"",t,o,r,f=E(i[10](i[26],i[54]).tes)+"",n,s,_,a=E(i[10](i[26],i[54]).male)+"",m,u,k,N=E(i[10](i[26],i[54]).female)+"",C,y,H,w=E(i[10](i[26],i[54]).total)+"",P;return{c(){e=v("td"),t=F(l),o=M(),r=v("td"),n=F(f),s=M(),_=v("td"),m=F(a),u=M(),k=v("td"),C=F(N),y=M(),H=v("td"),P=F(w),T(H,"class","_col _total")},m(c,b){d(c,e,b),h(e,t),d(c,o,b),d(c,r,b),h(r,n),d(c,s,b),d(c,_,b),h(_,m),d(c,u,b),d(c,k,b),h(k,C),d(c,y,b),d(c,H,b),h(H,P)},p(c,b){b[0]&1056&&l!==(l=E(c[10](c[26],c[54]).top)+"")&&I(t,l),b[0]&1056&&f!==(f=E(c[10](c[26],c[54]).tes)+"")&&I(n,f),b[0]&1056&&a!==(a=E(c[10](c[26],c[54]).male)+"")&&I(m,a),b[0]&1056&&N!==(N=E(c[10](c[26],c[54]).female)+"")&&I(C,N),b[0]&1056&&w!==(w=E(c[10](c[26],c[54]).total)+"")&&I(P,w)},d(c){c&&p(e),c&&p(o),c&&p(r),c&&p(s),c&&p(_),c&&p(u),c&&p(k),c&&p(y),c&&p(H)}}}function Ql(i,e){let l,t=[],o=new Map,r,f,n,s=e[45].companyPlants;const _=m=>`${m[48].id}_${m[54]}`;for(let m=0;m<s.length;m+=1){let u=hl(e,s,m),k=_(u);o.set(k,t[m]=zl(k,u))}let a=e[0].length-1===e[47]&&e[2]&&Vl(e);return{key:i,first:null,c(){l=q();for(let m=0;m<t.length;m+=1)t[m].c();r=M(),a&&a.c(),f=q(),this.first=l},m(m,u){d(m,l,u);for(let k=0;k<t.length;k+=1)t[k].m(m,u);d(m,r,u),a&&a.m(m,u),d(m,f,u),n=!0},p(m,u){e=m,u[0]&229429&&(s=e[45].companyPlants,de(),t=ee(t,u,_,1,e,s,o,r.parentNode,ce,zl,r,hl),pe()),e[0].length-1===e[47]&&e[2]?a?a.p(e,u):(a=Vl(e),a.c(),a.m(f.parentNode,f)):a&&(a.d(1),a=null)},i(m){if(!n){for(let u=0;u<s.length;u+=1)te(t[u]);n=!0}},o(m){for(let u=0;u<t.length;u+=1)ie(t[u]);n=!1},d(m){m&&p(l);for(let u=0;u<t.length;u+=1)t[u].d(m);m&&p(r),a&&a.d(m),m&&p(f)}}}function Wl(i){let e=[],l=new Map,t,o=i[0];const r=f=>f[45].id;for(let f=0;f<o.length;f+=1){let n=cl(i,o,f),s=r(n);l.set(s,e[f]=lt(s,n))}return{c(){for(let f=0;f<e.length;f+=1)e[f].c();t=q()},m(f,n){for(let s=0;s<e.length;s+=1)e[s].m(f,n);d(f,t,n)},p(f,n){n[0]&99365&&(o=f[0],e=ee(e,n,r,1,f,o,l,t.parentNode,_e,lt,t,cl))},d(f){for(let n=0;n<e.length;n+=1)e[n].d(f);f&&p(t)}}}function Jn(i){let e,l,t,o,r,f=i[2]&&Xl();return{c(){e=v("td"),e.textContent="0",l=M(),t=v("td"),t.textContent="0",o=M(),f&&f.c(),r=q()},m(n,s){d(n,e,s),d(n,l,s),d(n,t,s),d(n,o,s),f&&f.m(n,s),d(n,r,s)},p(n,s){n[2]?f||(f=Xl(),f.c(),f.m(r.parentNode,r)):f&&(f.d(1),f=null)},d(n){n&&p(e),n&&p(l),n&&p(t),n&&p(o),f&&f.d(n),n&&p(r)}}}function An(i){let e,l=E(i[48].incidents[i[26]].manHours[i[54]].male.systemHours)+"",t,o,r,f=E(i[48].incidents[i[26]].manHours[i[54]].female.systemHours)+"",n,s,_,a=i[2]&&$l(i);return{c(){e=v("td"),t=F(l),o=M(),r=v("td"),n=F(f),s=M(),a&&a.c(),_=q()},m(m,u){d(m,e,u),h(e,t),d(m,o,u),d(m,r,u),h(r,n),d(m,s,u),a&&a.m(m,u),d(m,_,u)},p(m,u){u[0]&33&&l!==(l=E(m[48].incidents[m[26]].manHours[m[54]].male.systemHours)+"")&&I(t,l),u[0]&33&&f!==(f=E(m[48].incidents[m[26]].manHours[m[54]].female.systemHours)+"")&&I(n,f),m[2]?a?a.p(m,u):(a=$l(m),a.c(),a.m(_.parentNode,_)):a&&(a.d(1),a=null)},d(m){m&&p(e),m&&p(o),m&&p(r),m&&p(s),a&&a.d(m),m&&p(_)}}}function Xl(i){let e;return{c(){e=v("td"),e.textContent="0",T(e,"class","_col _total")},m(l,t){d(l,e,t)},d(l){l&&p(e)}}}function $l(i){let e,l=E(i[48].incidents[i[26]].manHours[i[54]].total.systemHours)+"",t;return{c(){e=v("td"),t=F(l),T(e,"class","_col _total")},m(o,r){d(o,e,r),h(e,t)},p(o,r){r[0]&33&&l!==(l=E(o[48].incidents[o[26]].manHours[o[54]].total.systemHours)+"")&&I(t,l)},d(o){o&&p(e)}}}function gl(i){let e,l=i[15](i[26],i[45].companyPlants,i[54],i[16].Male,!0)+"",t,o,r,f=i[15](i[26],i[45].companyPlants,i[54],i[16].Female,!0)+"",n,s,_,a=i[15](i[26],i[45].companyPlants,i[54],i[16].Total,!0)+"",m;return{c(){e=v("td"),t=F(l),o=M(),r=v("td"),n=F(f),s=M(),_=v("td"),m=F(a),T(e,"class","_col _grand-male"),T(r,"class","_col _grand-female"),T(_,"class","_col _grand-total")},m(u,k){d(u,e,k),h(e,t),d(u,o,k),d(u,r,k),h(r,n),d(u,s,k),d(u,_,k),h(_,m)},p(u,k){k[0]&32801&&l!==(l=u[15](u[26],u[45].companyPlants,u[54],u[16].Male,!0)+"")&&I(t,l),k[0]&32801&&f!==(f=u[15](u[26],u[45].companyPlants,u[54],u[16].Female,!0)+"")&&I(n,f),k[0]&32801&&a!==(a=u[15](u[26],u[45].companyPlants,u[54],u[16].Total,!0)+"")&&I(m,a)},d(u){u&&p(e),u&&p(o),u&&p(r),u&&p(s),u&&p(_)}}}function xl(i,e){let l,t,o;function r(_,a){return _[48].incidents[_[26]].manHours[_[54]]?An:Jn}let f=r(e),n=f(e),s=e[45].companyPlants.length-1===e[50]&&e[2]&&gl(e);return{key:i,first:null,c(){l=q(),n.c(),t=M(),s&&s.c(),o=q(),this.first=l},m(_,a){d(_,l,a),n.m(_,a),d(_,t,a),s&&s.m(_,a),d(_,o,a)},p(_,a){e=_,f===(f=r(e))&&n?n.p(e,a):(n.d(1),n=f(e),n&&(n.c(),n.m(t.parentNode,t))),e[45].companyPlants.length-1===e[50]&&e[2]?s?s.p(e,a):(s=gl(e),s.c(),s.m(o.parentNode,o)):s&&(s.d(1),s=null)},d(_){_&&p(l),n.d(_),_&&p(t),s&&s.d(_),_&&p(o)}}}function et(i){let e,l=E(i[10](i[26],i[54],!0).top)+"",t,o,r,f=E(i[10](i[26],i[54],!0).tes)+"",n,s,_,a=E(i[10](i[26],i[54],!0).male)+"",m,u,k,N=E(i[10](i[26],i[54],!0).female)+"",C,y,H,w=E(i[10](i[26],i[54],!0).total)+"",P;return{c(){e=v("td"),t=F(l),o=M(),r=v("td"),n=F(f),s=M(),_=v("td"),m=F(a),u=M(),k=v("td"),C=F(N),y=M(),H=v("td"),P=F(w),T(H,"class","_col _total")},m(c,b){d(c,e,b),h(e,t),d(c,o,b),d(c,r,b),h(r,n),d(c,s,b),d(c,_,b),h(_,m),d(c,u,b),d(c,k,b),h(k,C),d(c,y,b),d(c,H,b),h(H,P)},p(c,b){b[0]&1056&&l!==(l=E(c[10](c[26],c[54],!0).top)+"")&&I(t,l),b[0]&1056&&f!==(f=E(c[10](c[26],c[54],!0).tes)+"")&&I(n,f),b[0]&1056&&a!==(a=E(c[10](c[26],c[54],!0).male)+"")&&I(m,a),b[0]&1056&&N!==(N=E(c[10](c[26],c[54],!0).female)+"")&&I(C,N),b[0]&1056&&w!==(w=E(c[10](c[26],c[54],!0).total)+"")&&I(P,w)},d(c){c&&p(e),c&&p(o),c&&p(r),c&&p(s),c&&p(_),c&&p(u),c&&p(k),c&&p(y),c&&p(H)}}}function lt(i,e){let l,t=[],o=new Map,r,f,n=e[45].companyPlants;const s=a=>`${a[48].id}_${a[54]}`;for(let a=0;a<n.length;a+=1){let m=yl(e,n,a),u=s(m);o.set(u,t[a]=xl(u,m))}let _=e[0].length-1===e[47]&&e[2]&&et(e);return{key:i,first:null,c(){l=q();for(let a=0;a<t.length;a+=1)t[a].c();r=M(),_&&_.c(),f=q(),this.first=l},m(a,m){d(a,l,m);for(let u=0;u<t.length;u+=1)t[u].m(a,m);d(a,r,m),_&&_.m(a,m),d(a,f,m)},p(a,m){e=a,m[0]&98341&&(n=e[45].companyPlants,t=ee(t,m,s,1,e,n,o,r.parentNode,_e,xl,r,yl)),e[0].length-1===e[47]&&e[2]?_?_.p(e,m):(_=et(e),_.c(),_.m(f.parentNode,f)):_&&(_.d(1),_=null)},d(a){a&&p(l);for(let m=0;m<t.length;m+=1)t[m].d(a);a&&p(r),_&&_.d(a),a&&p(f)}}}function tt(i,e){let l,t,o=e[34].name+"",r,f,n,s=[],_=new Map,a,m,u,k,N=e[0];const C=H=>H[45].id;for(let H=0;H<N.length;H+=1){let w=vl(e,N,H),P=C(w);_.set(P,s[H]=Ql(P,w))}let y=e[3]&&Wl(e);return{key:i,first:null,c(){l=v("tr"),t=v("td"),r=F(o),n=M();for(let H=0;H<s.length;H+=1)s[H].c();a=M(),m=v("tr"),y&&y.c(),u=M(),T(t,"class","text-left _is-sticky"),T(t,"rowspan",f=e[3]?2:1),T(m,"class","_row _system-cell"),this.first=l},m(H,w){d(H,l,w),h(l,t),h(t,r),h(l,n);for(let P=0;P<s.length;P+=1)s[P].m(l,null);d(H,a,w),d(H,m,w),y&&y.m(m,null),h(m,u),k=!0},p(H,w){e=H,(!k||w[0]&32)&&o!==(o=e[34].name+"")&&I(r,o),(!k||w[0]&8&&f!==(f=e[3]?2:1))&&T(t,"rowspan",f),w[0]&230453&&(N=e[0],de(),s=ee(s,w,C,1,e,N,_,l,ce,Ql,null,vl),pe()),e[3]?y?y.p(e,w):(y=Wl(e),y.c(),y.m(m,u)):y&&(y.d(1),y=null)},i(H){if(!k){for(let w=0;w<N.length;w+=1)te(s[w]);k=!0}},o(H){for(let w=0;w<s.length;w+=1)ie(s[w]);k=!1},d(H){H&&p(l);for(let w=0;w<s.length;w+=1)s[w].d();H&&p(a),H&&p(m),y&&y.d()}}}function Kn(i){let e,l,t,o,r,f=i[2]&&it();return{c(){e=v("td"),e.textContent="0",l=M(),t=v("td"),t.textContent="0",o=M(),f&&f.c(),r=q(),T(e,"class","_col _kpi-total"),T(t,"class","_col _kpi-total")},m(n,s){d(n,e,s),d(n,l,s),d(n,t,s),d(n,o,s),f&&f.m(n,s),d(n,r,s)},p(n,s){n[2]?f||(f=it(),f.c(),f.m(r.parentNode,r)):f&&(f.d(1),f=null)},d(n){n&&p(e),n&&p(l),n&&p(t),n&&p(o),f&&f.d(n),n&&p(r)}}}function Yn(i){let e,l=i[12](i[26],i[48],i[16].Male,i[27].name)+"",t,o,r,f=i[12](i[26],i[48],i[16].Female,i[27].name)+"",n,s,_,a=i[2]&&nt(i);return{c(){e=v("td"),t=F(l),o=M(),r=v("td"),n=F(f),s=M(),a&&a.c(),_=q(),T(e,"class","_col _kpi-total"),T(r,"class","_col _kpi-total")},m(m,u){d(m,e,u),h(e,t),d(m,o,u),d(m,r,u),h(r,n),d(m,s,u),a&&a.m(m,u),d(m,_,u)},p(m,u){u[0]&4129&&l!==(l=m[12](m[26],m[48],m[16].Male,m[27].name)+"")&&I(t,l),u[0]&4129&&f!==(f=m[12](m[26],m[48],m[16].Female,m[27].name)+"")&&I(n,f),m[2]?a?a.p(m,u):(a=nt(m),a.c(),a.m(_.parentNode,_)):a&&(a.d(1),a=null)},d(m){m&&p(e),m&&p(o),m&&p(r),m&&p(s),a&&a.d(m),m&&p(_)}}}function it(i){let e;return{c(){e=v("td"),e.textContent="0",T(e,"class","_col _kpi-total")},m(l,t){d(l,e,t)},d(l){l&&p(e)}}}function nt(i){let e,l=i[12](i[26],i[48],i[16].Total,i[27].name)+"",t;return{c(){e=v("td"),t=F(l),T(e,"class","_col _kpi-total")},m(o,r){d(o,e,r),h(e,t)},p(o,r){r[0]&4129&&l!==(l=o[12](o[26],o[48],o[16].Total,o[27].name)+"")&&I(t,l)},d(o){o&&p(e)}}}function st(i){let e,l=i[15](i[26],i[45].companyPlants,i[44],i[16].Male,!1,i[27].name)+"",t,o,r,f=i[15](i[26],i[45].companyPlants,i[44],i[16].Female,!1,i[27].name)+"",n,s,_,a=i[15](i[26],i[45].companyPlants,i[44],i[16].Total,!1,i[27].name)+"",m;return{c(){e=v("td"),t=F(l),o=M(),r=v("td"),n=F(f),s=M(),_=v("td"),m=F(a),T(e,"class","_col _kpi-total"),T(r,"class","_col _kpi-total"),T(_,"class","_col _kpi-total")},m(u,k){d(u,e,k),h(e,t),d(u,o,k),d(u,r,k),h(r,n),d(u,s,k),d(u,_,k),h(_,m)},p(u,k){k[0]&32801&&l!==(l=u[15](u[26],u[45].companyPlants,u[44],u[16].Male,!1,u[27].name)+"")&&I(t,l),k[0]&32801&&f!==(f=u[15](u[26],u[45].companyPlants,u[44],u[16].Female,!1,u[27].name)+"")&&I(n,f),k[0]&32801&&a!==(a=u[15](u[26],u[45].companyPlants,u[44],u[16].Total,!1,u[27].name)+"")&&I(m,a)},d(u){u&&p(e),u&&p(o),u&&p(r),u&&p(s),u&&p(_)}}}function ft(i,e){let l,t,o;function r(_,a){return _[48].incidents[_[26]].manHours[_[44]]?Yn:Kn}let f=r(e),n=f(e),s=e[45].companyPlants.length-1===e[50]&&e[2]&&st(e);return{key:i,first:null,c(){l=q(),n.c(),t=M(),s&&s.c(),o=q(),this.first=l},m(_,a){d(_,l,a),n.m(_,a),d(_,t,a),s&&s.m(_,a),d(_,o,a)},p(_,a){e=_,f===(f=r(e))&&n?n.p(e,a):(n.d(1),n=f(e),n&&(n.c(),n.m(t.parentNode,t))),e[45].companyPlants.length-1===e[50]&&e[2]?s?s.p(e,a):(s=st(e),s.c(),s.m(o.parentNode,o)):s&&(s.d(1),s=null)},d(_){_&&p(l),n.d(_),_&&p(t),s&&s.d(_),_&&p(o)}}}function ot(i){let e,l=E(i[10](i[26],i[44],!1,i[27].name).top)+"",t,o,r,f=E(i[10](i[26],i[44],!1,i[27].name).tes)+"",n,s,_,a=E(i[10](i[26],i[44],!1,i[27].name).male)+"",m,u,k,N=E(i[10](i[26],i[44],!1,i[27].name).female)+"",C,y,H,w=E(i[10](i[26],i[44],!1,i[27].name).total)+"",P;return{c(){e=v("td"),t=F(l),o=M(),r=v("td"),n=F(f),s=M(),_=v("td"),m=F(a),u=M(),k=v("td"),C=F(N),y=M(),H=v("td"),P=F(w),T(e,"class","_col _kpi-total"),T(r,"class","_col _kpi-total"),T(_,"class","_col _kpi-total"),T(k,"class","_col _kpi-total"),T(H,"class","_col _kpi-total")},m(c,b){d(c,e,b),h(e,t),d(c,o,b),d(c,r,b),h(r,n),d(c,s,b),d(c,_,b),h(_,m),d(c,u,b),d(c,k,b),h(k,C),d(c,y,b),d(c,H,b),h(H,P)},p(c,b){b[0]&1056&&l!==(l=E(c[10](c[26],c[44],!1,c[27].name).top)+"")&&I(t,l),b[0]&1056&&f!==(f=E(c[10](c[26],c[44],!1,c[27].name).tes)+"")&&I(n,f),b[0]&1056&&a!==(a=E(c[10](c[26],c[44],!1,c[27].name).male)+"")&&I(m,a),b[0]&1056&&N!==(N=E(c[10](c[26],c[44],!1,c[27].name).female)+"")&&I(C,N),b[0]&1056&&w!==(w=E(c[10](c[26],c[44],!1,c[27].name).total)+"")&&I(P,w)},d(c){c&&p(e),c&&p(o),c&&p(r),c&&p(s),c&&p(_),c&&p(u),c&&p(k),c&&p(y),c&&p(H)}}}function _t(i,e){let l,t=[],o=new Map,r,f,n=e[45].companyPlants;const s=a=>`${a[48].id}_${a[44]}`;for(let a=0;a<n.length;a+=1){let m=bl(e,n,a),u=s(m);o.set(u,t[a]=ft(u,m))}let _=e[0].length-1===e[47]&&e[2]&&ot(e);return{key:i,first:null,c(){l=q();for(let a=0;a<t.length;a+=1)t[a].c();r=M(),_&&_.c(),f=q(),this.first=l},m(a,m){d(a,l,m);for(let u=0;u<t.length;u+=1)t[u].m(a,m);d(a,r,m),_&&_.m(a,m),d(a,f,m)},p(a,m){e=a,m[0]&102437&&(n=e[45].companyPlants,t=ee(t,m,s,1,e,n,o,r.parentNode,_e,ft,r,bl)),e[0].length-1===e[47]&&e[2]?_?_.p(e,m):(_=ot(e),_.c(),_.m(f.parentNode,f)):_&&(_.d(1),_=null)},d(a){a&&p(l);for(let m=0;m<t.length;m+=1)t[m].d(a);a&&p(r),_&&_.d(a),a&&p(f)}}}function ut(i){let e=[],l=new Map,t,o=i[0];const r=f=>f[45].id;for(let f=0;f<o.length;f+=1){let n=ml(i,o,f),s=r(n);l.set(s,e[f]=bt(s,n))}return{c(){for(let f=0;f<e.length;f+=1)e[f].c();t=q()},m(f,n){for(let s=0;s<e.length;s+=1)e[s].m(f,n);d(f,t,n)},p(f,n){n[0]&99365&&(o=f[0],e=ee(e,n,r,1,f,o,l,t.parentNode,_e,bt,t,ml))},d(f){for(let n=0;n<e.length;n+=1)e[n].d(f);f&&p(t)}}}function zn(i){let e,l,t,o,r,f=i[2]&&at();return{c(){e=v("td"),e.textContent="0",l=M(),t=v("td"),t.textContent="0",o=M(),f&&f.c(),r=q(),T(e,"class","_col _kpi-total"),T(t,"class","_col _kpi-total")},m(n,s){d(n,e,s),d(n,l,s),d(n,t,s),d(n,o,s),f&&f.m(n,s),d(n,r,s)},p(n,s){n[2]?f||(f=at(),f.c(),f.m(r.parentNode,r)):f&&(f.d(1),f=null)},d(n){n&&p(e),n&&p(l),n&&p(t),n&&p(o),f&&f.d(n),n&&p(r)}}}function Vn(i){let e,l=E(i[48].incidents[i[26]].totalManHours[i[44]].male.systemHours)+"",t,o,r,f=E(i[48].incidents[i[26]].totalManHours[i[44]].female.systemHours)+"",n,s,_,a=i[2]&&rt(i);return{c(){e=v("td"),t=F(l),o=M(),r=v("td"),n=F(f),s=M(),a&&a.c(),_=q(),T(e,"class","_col _kpi-total"),T(r,"class","_col _kpi-total")},m(m,u){d(m,e,u),h(e,t),d(m,o,u),d(m,r,u),h(r,n),d(m,s,u),a&&a.m(m,u),d(m,_,u)},p(m,u){u[0]&33&&l!==(l=E(m[48].incidents[m[26]].totalManHours[m[44]].male.systemHours)+"")&&I(t,l),u[0]&33&&f!==(f=E(m[48].incidents[m[26]].totalManHours[m[44]].female.systemHours)+"")&&I(n,f),m[2]?a?a.p(m,u):(a=rt(m),a.c(),a.m(_.parentNode,_)):a&&(a.d(1),a=null)},d(m){m&&p(e),m&&p(o),m&&p(r),m&&p(s),a&&a.d(m),m&&p(_)}}}function at(i){let e;return{c(){e=v("td"),e.textContent="0",T(e,"class","_col _kpi-total")},m(l,t){d(l,e,t)},d(l){l&&p(e)}}}function rt(i){let e,l=E(i[48].incidents[i[26]].totalManHours[i[44]].total.systemHours)+"",t;return{c(){e=v("td"),t=F(l),T(e,"class","_col _kpi-total")},m(o,r){d(o,e,r),h(e,t)},p(o,r){r[0]&33&&l!==(l=E(o[48].incidents[o[26]].totalManHours[o[44]].total.systemHours)+"")&&I(t,l)},d(o){o&&p(e)}}}function mt(i){let e,l=i[15](i[26],i[45].companyPlants,i[44],i[16].Male,!0,i[27].name)+"",t,o,r,f=i[15](i[26],i[45].companyPlants,i[44],i[16].Female,!0,i[27].name)+"",n,s,_,a=i[15](i[26],i[45].companyPlants,i[44],i[16].Total,!0,i[27].name)+"",m;return{c(){e=v("td"),t=F(l),o=M(),r=v("td"),n=F(f),s=M(),_=v("td"),m=F(a),T(e,"class","_col _kpi-total"),T(r,"class","_col _kpi-total"),T(_,"class","_col _kpi-total")},m(u,k){d(u,e,k),h(e,t),d(u,o,k),d(u,r,k),h(r,n),d(u,s,k),d(u,_,k),h(_,m)},p(u,k){k[0]&32801&&l!==(l=u[15](u[26],u[45].companyPlants,u[44],u[16].Male,!0,u[27].name)+"")&&I(t,l),k[0]&32801&&f!==(f=u[15](u[26],u[45].companyPlants,u[44],u[16].Female,!0,u[27].name)+"")&&I(n,f),k[0]&32801&&a!==(a=u[15](u[26],u[45].companyPlants,u[44],u[16].Total,!0,u[27].name)+"")&&I(m,a)},d(u){u&&p(e),u&&p(o),u&&p(r),u&&p(s),u&&p(_)}}}function dt(i,e){let l,t,o;function r(_,a){return _[48].incidents[_[26]].totalManHours[_[44]]?Vn:zn}let f=r(e),n=f(e),s=e[45].companyPlants.length-1===e[50]&&e[2]&&mt(e);return{key:i,first:null,c(){l=q(),n.c(),t=M(),s&&s.c(),o=q(),this.first=l},m(_,a){d(_,l,a),n.m(_,a),d(_,t,a),s&&s.m(_,a),d(_,o,a)},p(_,a){e=_,f===(f=r(e))&&n?n.p(e,a):(n.d(1),n=f(e),n&&(n.c(),n.m(t.parentNode,t))),e[45].companyPlants.length-1===e[50]&&e[2]?s?s.p(e,a):(s=mt(e),s.c(),s.m(o.parentNode,o)):s&&(s.d(1),s=null)},d(_){_&&p(l),n.d(_),_&&p(t),s&&s.d(_),_&&p(o)}}}function pt(i){let e,l=E(i[10](i[26],i[44],!0,i[27].name).top)+"",t,o,r,f=E(i[10](i[26],i[44],!0,i[27].name).tes)+"",n,s,_,a=E(i[10](i[26],i[44],!0,i[27].name).male)+"",m,u,k,N=E(i[10](i[26],i[44],!0,i[27].name).female)+"",C,y,H,w=E(i[10](i[26],i[44],!0,i[27].name).total)+"",P;return{c(){e=v("td"),t=F(l),o=M(),r=v("td"),n=F(f),s=M(),_=v("td"),m=F(a),u=M(),k=v("td"),C=F(N),y=M(),H=v("td"),P=F(w),T(e,"class","_col _kpi-total"),T(r,"class","_col _kpi-total"),T(_,"class","_col _kpi-total"),T(k,"class","_col _kpi-total"),T(H,"class","_col _kpi-total")},m(c,b){d(c,e,b),h(e,t),d(c,o,b),d(c,r,b),h(r,n),d(c,s,b),d(c,_,b),h(_,m),d(c,u,b),d(c,k,b),h(k,C),d(c,y,b),d(c,H,b),h(H,P)},p(c,b){b[0]&1056&&l!==(l=E(c[10](c[26],c[44],!0,c[27].name).top)+"")&&I(t,l),b[0]&1056&&f!==(f=E(c[10](c[26],c[44],!0,c[27].name).tes)+"")&&I(n,f),b[0]&1056&&a!==(a=E(c[10](c[26],c[44],!0,c[27].name).male)+"")&&I(m,a),b[0]&1056&&N!==(N=E(c[10](c[26],c[44],!0,c[27].name).female)+"")&&I(C,N),b[0]&1056&&w!==(w=E(c[10](c[26],c[44],!0,c[27].name).total)+"")&&I(P,w)},d(c){c&&p(e),c&&p(o),c&&p(r),c&&p(s),c&&p(_),c&&p(u),c&&p(k),c&&p(y),c&&p(H)}}}function bt(i,e){let l,t=[],o=new Map,r,f,n=e[45].companyPlants;const s=a=>`${a[48].id}_${a[44]}`;for(let a=0;a<n.length;a+=1){let m=dl(e,n,a),u=s(m);o.set(u,t[a]=dt(u,m))}let _=e[0].length-1===e[47]&&e[2]&&pt(e);return{key:i,first:null,c(){l=q();for(let a=0;a<t.length;a+=1)t[a].c();r=M(),_&&_.c(),f=q(),this.first=l},m(a,m){d(a,l,m);for(let u=0;u<t.length;u+=1)t[u].m(a,m);d(a,r,m),_&&_.m(a,m),d(a,f,m)},p(a,m){e=a,m[0]&98341&&(n=e[45].companyPlants,t=ee(t,m,s,1,e,n,o,r.parentNode,_e,dt,r,dl)),e[0].length-1===e[47]&&e[2]?_?_.p(e,m):(_=pt(e),_.c(),_.m(f.parentNode,f)):_&&(_.d(1),_=null)},d(a){a&&p(l);for(let m=0;m<t.length;m+=1)t[m].d(a);a&&p(r),_&&_.d(a),a&&p(f)}}}function kt(i,e){let l,t,o=e[27].name+"",r,f,n,s=[],_=new Map,a,m,u,k=e[0];const N=y=>y[45].id;for(let y=0;y<k.length;y+=1){let H=pl(e,k,y),w=N(H);_.set(w,s[y]=_t(w,H))}let C=e[3]&&ut(e);return{key:i,first:null,c(){l=v("tr"),t=v("td"),r=F(o),n=M();for(let y=0;y<s.length;y+=1)s[y].c();a=M(),m=v("tr"),C&&C.c(),u=M(),T(t,"class","_col _kpi-total text-left _is-sticky"),T(t,"rowspan",f=e[3]?2:1),T(m,"class","_row _system-cell"),this.first=l},m(y,H){d(y,l,H),h(l,t),h(t,r),h(l,n);for(let w=0;w<s.length;w+=1)s[w].m(l,null);d(y,a,H),d(y,m,H),C&&C.m(m,null),h(m,u)},p(y,H){e=y,H[0]&32&&o!==(o=e[27].name+"")&&I(r,o),H[0]&8&&f!==(f=e[3]?2:1)&&T(t,"rowspan",f),H[0]&103461&&(k=e[0],s=ee(s,H,N,1,e,k,_,l,_e,_t,null,pl)),e[3]?C?C.p(e,H):(C=ut(e),C.c(),C.m(m,u)):C&&(C.d(1),C=null)},d(y){y&&p(l);for(let H=0;H<s.length;H+=1)s[H].d();y&&p(a),y&&p(m),C&&C.d()}}}function ct(i,e){let l,t,o,r,f=e[24].name+"",n,s,_=[],a=new Map,m,u=[],k=new Map,N,C=[],y=new Map,H,w,P=e[26]>0&&Zl(),c=e[0];const b=O=>O[45].id;for(let O=0;O<c.length;O+=1){let S=Hl(e,c,O),Z=b(S);a.set(Z,_[O]=Jl(Z,S))}let D=e[24].incidentCases;const U=O=>O[34].id;for(let O=0;O<D.length;O+=1){let S=kl(e,D,O),Z=U(S);k.set(Z,u[O]=tt(Z,S))}let z=e[24].totalIncidentCases;const V=O=>O[27].id;for(let O=0;O<z.length;O+=1){let S=rl(e,z,O),Z=V(S);y.set(Z,C[O]=kt(Z,S))}return{key:i,first:null,c(){l=q(),P&&P.c(),t=M(),o=v("tr"),r=v("td"),n=F(f),s=M();for(let O=0;O<_.length;O+=1)_[O].c();m=M();for(let O=0;O<u.length;O+=1)u[O].c();N=M();for(let O=0;O<C.length;O+=1)C[O].c();H=q(),T(r,"class","_col _indicator-total text-left _is-sticky"),this.first=l},m(O,S){d(O,l,S),P&&P.m(O,S),d(O,t,S),d(O,o,S),h(o,r),h(r,n),h(o,s);for(let Z=0;Z<_.length;Z+=1)_[Z].m(o,null);d(O,m,S);for(let Z=0;Z<u.length;Z+=1)u[Z].m(O,S);d(O,N,S);for(let Z=0;Z<C.length;Z+=1)C[Z].m(O,S);d(O,H,S),w=!0},p(O,S){e=O,e[26]>0?P||(P=Zl(),P.c(),P.m(t.parentNode,t)):P&&(P.d(1),P=null),(!w||S[0]&32)&&f!==(f=e[24].name+"")&&I(n,f),S[0]&92197&&(c=e[0],_=ee(_,S,b,1,e,c,a,o,_e,Jl,null,Hl)),S[0]&230461&&(D=e[24].incidentCases,de(),u=ee(u,S,U,1,e,D,k,N.parentNode,ce,tt,N,kl),pe()),S[0]&103469&&(z=e[24].totalIncidentCases,C=ee(C,S,V,1,e,z,y,H.parentNode,_e,kt,H,rl))},i(O){if(!w){for(let S=0;S<D.length;S+=1)te(u[S]);w=!0}},o(O){for(let S=0;S<u.length;S+=1)ie(u[S]);w=!1},d(O){O&&p(l),P&&P.d(O),O&&p(t),O&&p(o);for(let S=0;S<_.length;S+=1)_[S].d();O&&p(m);for(let S=0;S<u.length;S+=1)u[S].d(O);O&&p(N);for(let S=0;S<C.length;S+=1)C[S].d(O);O&&p(H)}}}function yt(i){let e;return{c(){e=v("th"),e.textContent="Grand Total",T(e,"class","_head-col _plant-total"),T(e,"colspan",3)},m(l,t){d(l,e,t)},d(l){l&&p(e)}}}function vt(i,e){let l,t=e[30].company.name+"",o,r,f,n,s=e[1].length-1===e[29]&&e[2]&&yt();return{key:i,first:null,c(){l=v("th"),o=F(t),f=M(),s&&s.c(),n=q(),T(l,"class","_head-col _extend"),T(l,"colspan",r=e[2]?3:2),this.first=l},m(_,a){d(_,l,a),h(l,o),d(_,f,a),s&&s.m(_,a),d(_,n,a)},p(_,a){e=_,a[0]&2&&t!==(t=e[30].company.name+"")&&I(o,t),a[0]&4&&r!==(r=e[2]?3:2)&&T(l,"colspan",r),e[1].length-1===e[29]&&e[2]?s||(s=yt(),s.c(),s.m(n.parentNode,n)):s&&(s.d(1),s=null)},d(_){_&&p(l),_&&p(f),s&&s.d(_),_&&p(n)}}}function ht(i){let e;return{c(){e=v("th"),e.textContent="Total",T(e,"class","_head-col _total")},m(l,t){d(l,e,t)},d(l){l&&p(e)}}}function Ht(i){let e,l,t,o,r;return{c(){e=v("th"),e.textContent="Male",l=M(),t=v("th"),t.textContent="Female",o=M(),r=v("th"),r.textContent="Total",T(e,"class","_head-col _grand-male"),T(t,"class","_head-col _grand-female"),T(r,"class","_head-col _grand-total")},m(f,n){d(f,e,n),d(f,l,n),d(f,t,n),d(f,o,n),d(f,r,n)},d(f){f&&p(e),f&&p(l),f&&p(t),f&&p(o),f&&p(r)}}}function wt(i,e){let l,t,o,r,f,n,s=e[2]&&ht(),_=e[1].length-1===e[29]&&e[2]&&Ht();return{key:i,first:null,c(){l=v("th"),l.textContent="Male",t=M(),o=v("th"),o.textContent="Female",r=M(),s&&s.c(),f=M(),_&&_.c(),n=q(),T(l,"class","_head-col _male"),T(o,"class","_head-col _female"),this.first=l},m(a,m){d(a,l,m),d(a,t,m),d(a,o,m),d(a,r,m),s&&s.m(a,m),d(a,f,m),_&&_.m(a,m),d(a,n,m)},p(a,m){e=a,e[2]?s||(s=ht(),s.c(),s.m(f.parentNode,f)):s&&(s.d(1),s=null),e[1].length-1===e[29]&&e[2]?_||(_=Ht(),_.c(),_.m(n.parentNode,n)):_&&(_.d(1),_=null)},d(a){a&&p(l),a&&p(t),a&&p(o),a&&p(r),s&&s.d(a),a&&p(f),_&&_.d(a),a&&p(n)}}}function Tt(i){let e;return{c(){e=v("tr"),e.innerHTML='<td class="_col _space"></td>'},m(l,t){d(l,e,t)},d(l){l&&p(e)}}}function Ct(i){let e,l=i[14](i[26],i[30],i[16].Total)+"",t;return{c(){e=v("td"),t=F(l),T(e,"class","_col _indicator-total")},m(o,r){d(o,e,r),h(e,t)},p(o,r){r[0]&16418&&l!==(l=o[14](o[26],o[30],o[16].Total)+"")&&I(t,l)},d(o){o&&p(e)}}}function Nt(i){let e,l=E(i[9](i[26]).male)+"",t,o,r,f=E(i[9](i[26]).female)+"",n,s,_,a=E(i[9](i[26]).total)+"",m;return{c(){e=v("td"),t=F(l),o=M(),r=v("td"),n=F(f),s=M(),_=v("td"),m=F(a),T(e,"class","_col _indicator-total"),T(r,"class","_col _indicator-total"),T(_,"class","_col _indicator-total")},m(u,k){d(u,e,k),h(e,t),d(u,o,k),d(u,r,k),h(r,n),d(u,s,k),d(u,_,k),h(_,m)},p(u,k){k[0]&544&&l!==(l=E(u[9](u[26]).male)+"")&&I(t,l),k[0]&544&&f!==(f=E(u[9](u[26]).female)+"")&&I(n,f),k[0]&544&&a!==(a=E(u[9](u[26]).total)+"")&&I(m,a)},d(u){u&&p(e),u&&p(o),u&&p(r),u&&p(s),u&&p(_)}}}function Mt(i,e){let l,t=e[14](e[26],e[30],e[16].Male)+"",o,r,f,n=e[14](e[26],e[30],e[16].Female)+"",s,_,a,m,u=e[2]&&Ct(e),k=e[1].length-1===e[39]&&e[2]&&Nt(e);return{key:i,first:null,c(){l=v("td"),o=F(t),r=M(),f=v("td"),s=F(n),_=M(),u&&u.c(),a=M(),k&&k.c(),m=q(),T(l,"class","_col _indicator-total"),T(f,"class","_col _indicator-total"),this.first=l},m(N,C){d(N,l,C),h(l,o),d(N,r,C),d(N,f,C),h(f,s),d(N,_,C),u&&u.m(N,C),d(N,a,C),k&&k.m(N,C),d(N,m,C)},p(N,C){e=N,C[0]&16418&&t!==(t=e[14](e[26],e[30],e[16].Male)+"")&&I(o,t),C[0]&16418&&n!==(n=e[14](e[26],e[30],e[16].Female)+"")&&I(s,n),e[2]?u?u.p(e,C):(u=Ct(e),u.c(),u.m(a.parentNode,a)):u&&(u.d(1),u=null),e[1].length-1===e[39]&&e[2]?k?k.p(e,C):(k=Nt(e),k.c(),k.m(m.parentNode,m)):k&&(k.d(1),k=null)},d(N){N&&p(l),N&&p(r),N&&p(f),N&&p(_),u&&u.d(N),N&&p(a),k&&k.d(N),N&&p(m)}}}function Qn(i){let e,l,t,o,r,f=i[2]&&Dt();return{c(){e=v("td"),e.textContent="0",l=M(),t=v("td"),t.textContent="0",o=M(),f&&f.c(),r=q()},m(n,s){d(n,e,s),d(n,l,s),d(n,t,s),d(n,o,s),f&&f.m(n,s),d(n,r,s)},p(n,s){n[2]?f||(f=Dt(),f.c(),f.m(r.parentNode,r)):f&&(f.d(1),f=null)},i:ke,o:ke,d(n){n&&p(e),n&&p(l),n&&p(t),n&&p(o),f&&f.d(n),n&&p(r)}}}function Wn(i){let e,l,t,o,r,f,n,s,_,a;function m(y){i[22](y,i[30],i[26],i[29])}let u={name:"male",input:i[17],disabled:i[4]};i[30].incidents[i[26]].manHours[i[29]].male.hours!==void 0&&(u.value=i[30].incidents[i[26]].manHours[i[29]].male.hours),l=new Ee({props:u}),ye.push(()=>ve(l,"value",m));function k(y){i[23](y,i[30],i[26],i[29])}let N={name:"female",input:i[17],disabled:i[4]};i[30].incidents[i[26]].manHours[i[29]].female.hours!==void 0&&(N.value=i[30].incidents[i[26]].manHours[i[29]].female.hours),f=new Ee({props:N}),ye.push(()=>ve(f,"value",k));let C=i[2]&&St(i);return{c(){e=v("td"),Ce(l.$$.fragment),o=M(),r=v("td"),Ce(f.$$.fragment),s=M(),C&&C.c(),_=q()},m(y,H){d(y,e,H),Ne(l,e,null),d(y,o,H),d(y,r,H),Ne(f,r,null),d(y,s,H),C&&C.m(y,H),d(y,_,H),a=!0},p(y,H){i=y;const w={};H[0]&16&&(w.disabled=i[4]),!t&&H[0]&34&&(t=!0,w.value=i[30].incidents[i[26]].manHours[i[29]].male.hours,he(()=>t=!1)),l.$set(w);const P={};H[0]&16&&(P.disabled=i[4]),!n&&H[0]&34&&(n=!0,P.value=i[30].incidents[i[26]].manHours[i[29]].female.hours,he(()=>n=!1)),f.$set(P),i[2]?C?C.p(i,H):(C=St(i),C.c(),C.m(_.parentNode,_)):C&&(C.d(1),C=null)},i(y){a||(te(l.$$.fragment,y),te(f.$$.fragment,y),a=!0)},o(y){ie(l.$$.fragment,y),ie(f.$$.fragment,y),a=!1},d(y){y&&p(e),Me(l),y&&p(o),y&&p(r),Me(f),y&&p(s),C&&C.d(y),y&&p(_)}}}function Dt(i){let e;return{c(){e=v("td"),e.textContent="0",T(e,"class","_col _total")},m(l,t){d(l,e,t)},d(l){l&&p(e)}}}function St(i){let e,l=E((i[30].incidents[i[26]].manHours[i[29]].male.hours||0)+(i[30].incidents[i[26]].manHours[i[29]].female.hours||0))+"",t;return{c(){e=v("td"),t=F(l),T(e,"class","_col _total")},m(o,r){d(o,e,r),h(e,t)},p(o,r){r[0]&34&&l!==(l=E((o[30].incidents[o[26]].manHours[o[29]].male.hours||0)+(o[30].incidents[o[26]].manHours[o[29]].female.hours||0))+"")&&I(t,l)},d(o){o&&p(e)}}}function Pt(i){let e,l=E(i[8](i[26],i[29]).male)+"",t,o,r,f=E(i[8](i[26],i[29]).female)+"",n,s,_,a=E(i[8](i[26],i[29]).total)+"",m,u;return{c(){e=v("td"),t=F(l),o=M(),r=v("td"),n=F(f),s=M(),_=v("td"),m=F(a),u=M(),T(e,"class","_col _grand-male"),T(r,"class","_col _grand-female"),T(_,"class","_col _grand-total")},m(k,N){d(k,e,N),h(e,t),d(k,o,N),d(k,r,N),h(r,n),d(k,s,N),d(k,_,N),h(_,m),h(_,u)},p(k,N){N[0]&288&&l!==(l=E(k[8](k[26],k[29]).male)+"")&&I(t,l),N[0]&288&&f!==(f=E(k[8](k[26],k[29]).female)+"")&&I(n,f),N[0]&288&&a!==(a=E(k[8](k[26],k[29]).total)+"")&&I(m,a)},d(k){k&&p(e),k&&p(o),k&&p(r),k&&p(s),k&&p(_)}}}function Ot(i,e){let l,t,o,r,f,n;const s=[Wn,Qn],_=[];function a(u,k){return u[30].incidents[u[26]].manHours[u[29]]?0:1}t=a(e),o=_[t]=s[t](e);let m=e[1].length-1===e[32]&&e[2]&&Pt(e);return{key:i,first:null,c(){l=q(),o.c(),r=M(),m&&m.c(),f=q(),this.first=l},m(u,k){d(u,l,k),_[t].m(u,k),d(u,r,k),m&&m.m(u,k),d(u,f,k),n=!0},p(u,k){e=u;let N=t;t=a(e),t===N?_[t].p(e,k):(de(),ie(_[N],1,1,()=>{_[N]=null}),pe(),o=_[t],o?o.p(e,k):(o=_[t]=s[t](e),o.c()),te(o,1),o.m(r.parentNode,r)),e[1].length-1===e[32]&&e[2]?m?m.p(e,k):(m=Pt(e),m.c(),m.m(f.parentNode,f)):m&&(m.d(1),m=null)},i(u){n||(te(o),n=!0)},o(u){ie(o),n=!1},d(u){u&&p(l),_[t].d(u),u&&p(r),m&&m.d(u),u&&p(f)}}}function Ft(i){let e=[],l=new Map,t,o=i[1];const r=f=>`${f[30].id}_${f[29]}`;for(let f=0;f<o.length;f+=1){let n=sl(i,o,f),s=r(n);l.set(s,e[f]=jt(s,n))}return{c(){for(let f=0;f<e.length;f+=1)e[f].c();t=q()},m(f,n){for(let s=0;s<e.length;s+=1)e[s].m(f,n);d(f,t,n)},p(f,n){n[0]&294&&(o=f[1],e=ee(e,n,r,1,f,o,l,t.parentNode,_e,jt,t,sl))},d(f){for(let n=0;n<e.length;n+=1)e[n].d(f);f&&p(t)}}}function Xn(i){let e,l,t,o,r,f=i[2]&&Et();return{c(){e=v("td"),e.textContent="0",l=M(),t=v("td"),t.textContent="0",o=M(),f&&f.c(),r=q()},m(n,s){d(n,e,s),d(n,l,s),d(n,t,s),d(n,o,s),f&&f.m(n,s),d(n,r,s)},p(n,s){n[2]?f||(f=Et(),f.c(),f.m(r.parentNode,r)):f&&(f.d(1),f=null)},d(n){n&&p(e),n&&p(l),n&&p(t),n&&p(o),f&&f.d(n),n&&p(r)}}}function $n(i){let e,l=E(i[30].incidents[i[26]].manHours[i[29]].male.systemHours)+"",t,o,r,f=E(i[30].incidents[i[26]].manHours[i[29]].female.systemHours)+"",n,s,_,a=i[2]&&Rt(i);return{c(){e=v("td"),t=F(l),o=M(),r=v("td"),n=F(f),s=M(),a&&a.c(),_=q()},m(m,u){d(m,e,u),h(e,t),d(m,o,u),d(m,r,u),h(r,n),d(m,s,u),a&&a.m(m,u),d(m,_,u)},p(m,u){u[0]&34&&l!==(l=E(m[30].incidents[m[26]].manHours[m[29]].male.systemHours)+"")&&I(t,l),u[0]&34&&f!==(f=E(m[30].incidents[m[26]].manHours[m[29]].female.systemHours)+"")&&I(n,f),m[2]?a?a.p(m,u):(a=Rt(m),a.c(),a.m(_.parentNode,_)):a&&(a.d(1),a=null)},d(m){m&&p(e),m&&p(o),m&&p(r),m&&p(s),a&&a.d(m),m&&p(_)}}}function Et(i){let e;return{c(){e=v("td"),e.textContent="0"},m(l,t){d(l,e,t)},d(l){l&&p(e)}}}function Rt(i){let e,l=E(i[30].incidents[i[26]].manHours[i[29]].total.systemHours)+"",t;return{c(){e=v("td"),t=F(l),T(e,"class","_col _total")},m(o,r){d(o,e,r),h(e,t)},p(o,r){r[0]&34&&l!==(l=E(o[30].incidents[o[26]].manHours[o[29]].total.systemHours)+"")&&I(t,l)},d(o){o&&p(e)}}}function It(i){let e,l=E(i[8](i[26],i[29],!0).male)+"",t,o,r,f=E(i[8](i[26],i[29],!0).female)+"",n,s,_,a=E(i[8](i[26],i[29],!0).total)+"",m;return{c(){e=v("td"),t=F(l),o=M(),r=v("td"),n=F(f),s=M(),_=v("td"),m=F(a),T(e,"class","_col _grand-male"),T(r,"class","_col _grand-female"),T(_,"class","_col _grand-total")},m(u,k){d(u,e,k),h(e,t),d(u,o,k),d(u,r,k),h(r,n),d(u,s,k),d(u,_,k),h(_,m)},p(u,k){k[0]&288&&l!==(l=E(u[8](u[26],u[29],!0).male)+"")&&I(t,l),k[0]&288&&f!==(f=E(u[8](u[26],u[29],!0).female)+"")&&I(n,f),k[0]&288&&a!==(a=E(u[8](u[26],u[29],!0).total)+"")&&I(m,a)},d(u){u&&p(e),u&&p(o),u&&p(r),u&&p(s),u&&p(_)}}}function jt(i,e){let l,t,o;function r(_,a){return _[30].incidents[_[26]].manHours[_[29]]?$n:Xn}let f=r(e),n=f(e),s=e[1].length-1===e[32]&&e[2]&&It(e);return{key:i,first:null,c(){l=q(),n.c(),t=M(),s&&s.c(),o=q(),this.first=l},m(_,a){d(_,l,a),n.m(_,a),d(_,t,a),s&&s.m(_,a),d(_,o,a)},p(_,a){e=_,f===(f=r(e))&&n?n.p(e,a):(n.d(1),n=f(e),n&&(n.c(),n.m(t.parentNode,t))),e[1].length-1===e[32]&&e[2]?s?s.p(e,a):(s=It(e),s.c(),s.m(o.parentNode,o)):s&&(s.d(1),s=null)},d(_){_&&p(l),n.d(_),_&&p(t),s&&s.d(_),_&&p(o)}}}function Ut(i,e){let l,t,o=e[34].name+"",r,f,n,s=[],_=new Map,a,m,u,k,N=e[1];const C=H=>`${H[30].id}_${H[29]}`;for(let H=0;H<N.length;H+=1){let w=fl(e,N,H),P=C(w);_.set(P,s[H]=Ot(P,w))}let y=e[3]&&Ft(e);return{key:i,first:null,c(){l=v("tr"),t=v("td"),r=F(o),n=M();for(let H=0;H<s.length;H+=1)s[H].c();a=M(),m=v("tr"),y&&y.c(),u=M(),T(t,"class","text-left _is-sticky"),T(t,"rowspan",f=e[3]?2:1),T(m,"class","_row _system-cell"),this.first=l},m(H,w){d(H,l,w),h(l,t),h(t,r),h(l,n);for(let P=0;P<s.length;P+=1)s[P].m(l,null);d(H,a,w),d(H,m,w),y&&y.m(m,null),h(m,u),k=!0},p(H,w){e=H,(!k||w[0]&32)&&o!==(o=e[34].name+"")&&I(r,o),(!k||w[0]&8&&f!==(f=e[3]?2:1))&&T(t,"rowspan",f),w[0]&131382&&(N=e[1],de(),s=ee(s,w,C,1,e,N,_,l,ce,Ot,null,fl),pe()),e[3]?y?y.p(e,w):(y=Ft(e),y.c(),y.m(m,u)):y&&(y.d(1),y=null)},i(H){if(!k){for(let w=0;w<N.length;w+=1)te(s[w]);k=!0}},o(H){for(let w=0;w<s.length;w+=1)ie(s[w]);k=!1},d(H){H&&p(l);for(let w=0;w<s.length;w+=1)s[w].d();H&&p(a),H&&p(m),y&&y.d()}}}function gn(i){let e,l,t,o,r,f=i[2]&&Zt();return{c(){e=v("td"),e.textContent="0",l=M(),t=v("td"),t.textContent="0",o=M(),f&&f.c(),r=q(),T(e,"class","_col _kpi-total"),T(t,"class","_col _kpi-total")},m(n,s){d(n,e,s),d(n,l,s),d(n,t,s),d(n,o,s),f&&f.m(n,s),d(n,r,s)},p(n,s){n[2]?f||(f=Zt(),f.c(),f.m(r.parentNode,r)):f&&(f.d(1),f=null)},d(n){n&&p(e),n&&p(l),n&&p(t),n&&p(o),f&&f.d(n),n&&p(r)}}}function xn(i){let e,l=i[12](i[26],i[30],i[16].Male,i[27].name)+"",t,o,r,f=i[12](i[26],i[30],i[16].Female,i[27].name)+"",n,s,_,a=i[2]&&Lt(i);return{c(){e=v("td"),t=F(l),o=M(),r=v("td"),n=F(f),s=M(),a&&a.c(),_=q(),T(e,"class","_col _kpi-total"),T(r,"class","_col _kpi-total")},m(m,u){d(m,e,u),h(e,t),d(m,o,u),d(m,r,u),h(r,n),d(m,s,u),a&&a.m(m,u),d(m,_,u)},p(m,u){u[0]&4130&&l!==(l=m[12](m[26],m[30],m[16].Male,m[27].name)+"")&&I(t,l),u[0]&4130&&f!==(f=m[12](m[26],m[30],m[16].Female,m[27].name)+"")&&I(n,f),m[2]?a?a.p(m,u):(a=Lt(m),a.c(),a.m(_.parentNode,_)):a&&(a.d(1),a=null)},d(m){m&&p(e),m&&p(o),m&&p(r),m&&p(s),a&&a.d(m),m&&p(_)}}}function Zt(i){let e;return{c(){e=v("td"),e.textContent="0",T(e,"class","_col _kpi-total")},m(l,t){d(l,e,t)},d(l){l&&p(e)}}}function Lt(i){let e,l=i[12](i[26],i[30],i[16].Total,i[27].name)+"",t;return{c(){e=v("td"),t=F(l),T(e,"class","_col _kpi-total")},m(o,r){d(o,e,r),h(e,t)},p(o,r){r[0]&4130&&l!==(l=o[12](o[26],o[30],o[16].Total,o[27].name)+"")&&I(t,l)},d(o){o&&p(e)}}}function qt(i){let e,l=E(i[8](i[26],i[29],!1,i[27].name).male)+"",t,o,r,f=E(i[8](i[26],i[29],!1,i[27].name).female)+"",n,s,_,a=E(i[8](i[26],i[29],!1,i[27].name).total)+"",m;return{c(){e=v("td"),t=F(l),o=M(),r=v("td"),n=F(f),s=M(),_=v("td"),m=F(a),T(e,"class","_col _kpi-total"),T(r,"class","_col _kpi-total"),T(_,"class","_col _kpi-total")},m(u,k){d(u,e,k),h(e,t),d(u,o,k),d(u,r,k),h(r,n),d(u,s,k),d(u,_,k),h(_,m)},p(u,k){k[0]&288&&l!==(l=E(u[8](u[26],u[29],!1,u[27].name).male)+"")&&I(t,l),k[0]&288&&f!==(f=E(u[8](u[26],u[29],!1,u[27].name).female)+"")&&I(n,f),k[0]&288&&a!==(a=E(u[8](u[26],u[29],!1,u[27].name).total)+"")&&I(m,a)},d(u){u&&p(e),u&&p(o),u&&p(r),u&&p(s),u&&p(_)}}}function Bt(i,e){let l,t,o;function r(_,a){return _[30].incidents[_[26]].manHours[_[29]]?xn:gn}let f=r(e),n=f(e),s=e[1].length-1===e[32]&&e[2]&&qt(e);return{key:i,first:null,c(){l=q(),n.c(),t=M(),s&&s.c(),o=q(),this.first=l},m(_,a){d(_,l,a),n.m(_,a),d(_,t,a),s&&s.m(_,a),d(_,o,a)},p(_,a){e=_,f===(f=r(e))&&n?n.p(e,a):(n.d(1),n=f(e),n&&(n.c(),n.m(t.parentNode,t))),e[1].length-1===e[32]&&e[2]?s?s.p(e,a):(s=qt(e),s.c(),s.m(o.parentNode,o)):s&&(s.d(1),s=null)},d(_){_&&p(l),n.d(_),_&&p(t),s&&s.d(_),_&&p(o)}}}function Gt(i){let e=[],l=new Map,t,o=i[1];const r=f=>`${f[30].id}_${f[29]}`;for(let f=0;f<o.length;f+=1){let n=tl(i,o,f),s=r(n);l.set(s,e[f]=Yt(s,n))}return{c(){for(let f=0;f<e.length;f+=1)e[f].c();t=q()},m(f,n){for(let s=0;s<e.length;s+=1)e[s].m(f,n);d(f,t,n)},p(f,n){n[0]&294&&(o=f[1],e=ee(e,n,r,1,f,o,l,t.parentNode,_e,Yt,t,tl))},d(f){for(let n=0;n<e.length;n+=1)e[n].d(f);f&&p(t)}}}function es(i){let e,l,t,o,r,f=i[2]&&Jt();return{c(){e=v("td"),e.textContent="0",l=M(),t=v("td"),t.textContent="0",o=M(),f&&f.c(),r=q(),T(e,"class","_col _kpi-total"),T(t,"class","_col _kpi-total")},m(n,s){d(n,e,s),d(n,l,s),d(n,t,s),d(n,o,s),f&&f.m(n,s),d(n,r,s)},p(n,s){n[2]?f||(f=Jt(),f.c(),f.m(r.parentNode,r)):f&&(f.d(1),f=null)},d(n){n&&p(e),n&&p(l),n&&p(t),n&&p(o),f&&f.d(n),n&&p(r)}}}function ls(i){let e,l=E(i[30].incidents[i[26]].totalManHours[i[29]].male.systemHours)+"",t,o,r,f=E(i[30].incidents[i[26]].totalManHours[i[29]].female.systemHours)+"",n,s,_,a=i[2]&&At(i);return{c(){e=v("td"),t=F(l),o=M(),r=v("td"),n=F(f),s=M(),a&&a.c(),_=q(),T(e,"class","_col _kpi-total"),T(r,"class","_col _kpi-total")},m(m,u){d(m,e,u),h(e,t),d(m,o,u),d(m,r,u),h(r,n),d(m,s,u),a&&a.m(m,u),d(m,_,u)},p(m,u){u[0]&34&&l!==(l=E(m[30].incidents[m[26]].totalManHours[m[29]].male.systemHours)+"")&&I(t,l),u[0]&34&&f!==(f=E(m[30].incidents[m[26]].totalManHours[m[29]].female.systemHours)+"")&&I(n,f),m[2]?a?a.p(m,u):(a=At(m),a.c(),a.m(_.parentNode,_)):a&&(a.d(1),a=null)},d(m){m&&p(e),m&&p(o),m&&p(r),m&&p(s),a&&a.d(m),m&&p(_)}}}function Jt(i){let e;return{c(){e=v("td"),e.textContent="0",T(e,"class","_col _kpi-total")},m(l,t){d(l,e,t)},d(l){l&&p(e)}}}function At(i){let e,l=E(i[30].incidents[i[26]].totalManHours[i[29]].total.systemHours)+"",t;return{c(){e=v("td"),t=F(l),T(e,"class","_col _kpi-total")},m(o,r){d(o,e,r),h(e,t)},p(o,r){r[0]&34&&l!==(l=E(o[30].incidents[o[26]].totalManHours[o[29]].total.systemHours)+"")&&I(t,l)},d(o){o&&p(e)}}}function Kt(i){let e,l=E(i[8](i[26],i[29],!0,i[27].name).male)+"",t,o,r,f=E(i[8](i[26],i[29],!0,i[27].name).female)+"",n,s,_,a=E(i[8](i[26],i[29],!0,i[27].name).total)+"",m;return{c(){e=v("td"),t=F(l),o=M(),r=v("td"),n=F(f),s=M(),_=v("td"),m=F(a),T(e,"class","_col _kpi-total"),T(r,"class","_col _kpi-total"),T(_,"class","_col _kpi-total")},m(u,k){d(u,e,k),h(e,t),d(u,o,k),d(u,r,k),h(r,n),d(u,s,k),d(u,_,k),h(_,m)},p(u,k){k[0]&288&&l!==(l=E(u[8](u[26],u[29],!0,u[27].name).male)+"")&&I(t,l),k[0]&288&&f!==(f=E(u[8](u[26],u[29],!0,u[27].name).female)+"")&&I(n,f),k[0]&288&&a!==(a=E(u[8](u[26],u[29],!0,u[27].name).total)+"")&&I(m,a)},d(u){u&&p(e),u&&p(o),u&&p(r),u&&p(s),u&&p(_)}}}function Yt(i,e){let l,t,o;function r(_,a){return _[30].incidents[_[26]].totalManHours[_[29]]?ls:es}let f=r(e),n=f(e),s=e[1].length-1===e[32]&&e[2]&&Kt(e);return{key:i,first:null,c(){l=q(),n.c(),t=M(),s&&s.c(),o=q(),this.first=l},m(_,a){d(_,l,a),n.m(_,a),d(_,t,a),s&&s.m(_,a),d(_,o,a)},p(_,a){e=_,f===(f=r(e))&&n?n.p(e,a):(n.d(1),n=f(e),n&&(n.c(),n.m(t.parentNode,t))),e[1].length-1===e[32]&&e[2]?s?s.p(e,a):(s=Kt(e),s.c(),s.m(o.parentNode,o)):s&&(s.d(1),s=null)},d(_){_&&p(l),n.d(_),_&&p(t),s&&s.d(_),_&&p(o)}}}function zt(i,e){let l,t,o=e[27].name+"",r,f,n,s=[],_=new Map,a,m,u,k=e[1];const N=y=>`${y[30].id}_${y[29]}`;for(let y=0;y<k.length;y+=1){let H=il(e,k,y),w=N(H);_.set(w,s[y]=Bt(w,H))}let C=e[3]&&Gt(e);return{key:i,first:null,c(){l=v("tr"),t=v("td"),r=F(o),n=M();for(let y=0;y<s.length;y+=1)s[y].c();a=M(),m=v("tr"),C&&C.c(),u=M(),T(t,"class","_col _kpi-total text-left _is-sticky"),T(t,"rowspan",f=e[3]?2:1),T(m,"class","_row _system-cell"),this.first=l},m(y,H){d(y,l,H),h(l,t),h(t,r),h(l,n);for(let w=0;w<s.length;w+=1)s[w].m(l,null);d(y,a,H),d(y,m,H),C&&C.m(m,null),h(m,u)},p(y,H){e=y,H[0]&32&&o!==(o=e[27].name+"")&&I(r,o),H[0]&8&&f!==(f=e[3]?2:1)&&T(t,"rowspan",f),H[0]&69926&&(k=e[1],s=ee(s,H,N,1,e,k,_,l,_e,Bt,null,il)),e[3]?C?C.p(e,H):(C=Gt(e),C.c(),C.m(m,u)):C&&(C.d(1),C=null)},d(y){y&&p(l);for(let H=0;H<s.length;H+=1)s[H].d();y&&p(a),y&&p(m),C&&C.d()}}}function Vt(i,e){let l,t,o,r,f=e[24].name+"",n,s,_=[],a=new Map,m,u=[],k=new Map,N,C=[],y=new Map,H,w,P=e[26]>0&&Tt(),c=e[1];const b=O=>`${O[30].id}_${O[26]}`;for(let O=0;O<c.length;O+=1){let S=ol(e,c,O),Z=b(S);a.set(Z,_[O]=Mt(Z,S))}let D=e[24].incidentCases;const U=O=>O[34].id;for(let O=0;O<D.length;O+=1){let S=nl(e,D,O),Z=U(S);k.set(Z,u[O]=Ut(Z,S))}let z=e[24].totalIncidentCases;const V=O=>O[27].id;for(let O=0;O<z.length;O+=1){let S=ll(e,z,O),Z=V(S);y.set(Z,C[O]=zt(Z,S))}return{key:i,first:null,c(){l=q(),P&&P.c(),t=M(),o=v("tr"),r=v("td"),n=F(f),s=M();for(let O=0;O<_.length;O+=1)_[O].c();m=M();for(let O=0;O<u.length;O+=1)u[O].c();N=M();for(let O=0;O<C.length;O+=1)C[O].c();H=q(),T(r,"class","_col _indicator-total text-left _is-sticky"),this.first=l},m(O,S){d(O,l,S),P&&P.m(O,S),d(O,t,S),d(O,o,S),h(o,r),h(r,n),h(o,s);for(let Z=0;Z<_.length;Z+=1)_[Z].m(o,null);d(O,m,S);for(let Z=0;Z<u.length;Z+=1)u[Z].m(O,S);d(O,N,S);for(let Z=0;Z<C.length;Z+=1)C[Z].m(O,S);d(O,H,S),w=!0},p(O,S){e=O,e[26]>0?P||(P=Tt(),P.c(),P.m(t.parentNode,t)):P&&(P.d(1),P=null),(!w||S[0]&32)&&f!==(f=e[24].name+"")&&I(n,f),S[0]&82470&&(c=e[1],_=ee(_,S,b,1,e,c,a,o,_e,Mt,null,ol)),S[0]&131390&&(D=e[24].incidentCases,de(),u=ee(u,S,U,1,e,D,k,N.parentNode,ce,Ut,N,nl),pe()),S[0]&69934&&(z=e[24].totalIncidentCases,C=ee(C,S,V,1,e,z,y,H.parentNode,_e,zt,H,ll))},i(O){if(!w){for(let S=0;S<D.length;S+=1)te(u[S]);w=!0}},o(O){for(let S=0;S<u.length;S+=1)ie(u[S]);w=!1},d(O){O&&p(l),P&&P.d(O),O&&p(t),O&&p(o);for(let S=0;S<_.length;S+=1)_[S].d();O&&p(m);for(let S=0;S<u.length;S+=1)u[S].d(O);O&&p(N);for(let S=0;S<C.length;S+=1)C[S].d(O);O&&p(H)}}}function ts(i){let e,l,t,o,r=De[i[6]]+"",f,n,s,_,a,m,u,k,N,C,y=[],H=new Map,w,P,c=[],b=new Map,D,U,z=[],V=new Map,O,S,Z=[],J=new Map,Q,Y,K,G,le,W=De[i[6]]+"",se,ae,oe,re,A,X,fe,me,ue,$,x=[],be=new Map,Oe,Te,He=[],we=new Map,Se,R,j=[],g=new Map,Fe,je=i[0];const Ke=L=>L[45].id;for(let L=0;L<je.length;L+=1){let B=Dl(i,je,L),ne=Ke(B);H.set(ne,y[L]=Pl(ne,B))}let Ue=i[0];const Ye=L=>L[45].id;for(let L=0;L<Ue.length;L+=1){let B=Nl(i,Ue,L),ne=Ye(B);b.set(ne,c[L]=El(ne,B))}let Ze=i[0];const ze=L=>L[45].id;for(let L=0;L<Ze.length;L+=1){let B=Tl(i,Ze,L),ne=ze(B);V.set(ne,z[L]=Ul(ne,B))}let Re=i[5];const Ve=L=>L[24].id;for(let L=0;L<Re.length;L+=1){let B=al(i,Re,L),ne=Ve(B);J.set(ne,Z[L]=ct(ne,B))}let Le=i[1];const Qe=L=>L[30].id;for(let L=0;L<Le.length;L+=1){let B=ul(i,Le,L),ne=Qe(B);be.set(ne,x[L]=vt(ne,B))}let qe=i[1];const We=L=>L[30].id;for(let L=0;L<qe.length;L+=1){let B=_l(i,qe,L),ne=We(B);we.set(ne,He[L]=wt(ne,B))}let Ie=i[5];const Xe=L=>L[24].id;for(let L=0;L<Ie.length;L+=1){let B=el(i,Ie,L),ne=Xe(B);g.set(ne,j[L]=Vt(ne,B))}return{c(){e=v("div"),l=v("div"),t=v("div"),o=F("Staff Incident "),f=F(r),n=M(),s=F(i[7]),_=M(),a=v("div"),m=v("table"),u=v("thead"),k=v("tr"),N=v("th"),N.textContent="Incident",C=M();for(let L=0;L<y.length;L+=1)y[L].c();w=M(),P=v("tr");for(let L=0;L<c.length;L+=1)c[L].c();D=M(),U=v("tr");for(let L=0;L<z.length;L+=1)z[L].c();O=M(),S=v("tbody");for(let L=0;L<Z.length;L+=1)Z[L].c();Q=M(),Y=v("div"),K=v("div"),G=v("div"),le=F("Contractor Incident "),se=F(W),ae=M(),oe=F(i[7]),re=M(),A=v("div"),X=v("table"),fe=v("thead"),me=v("tr"),ue=v("th"),ue.textContent="Incident",$=M();for(let L=0;L<x.length;L+=1)x[L].c();Oe=M(),Te=v("tr");for(let L=0;L<He.length;L+=1)He[L].c();Se=M(),R=v("tbody");for(let L=0;L<j.length;L+=1)j[L].c();T(t,"class","_box-title push-bottom-2"),T(N,"class","_head-col _head-incident"),T(N,"rowspan",3),T(S,"class","_incident"),Pe(S,"_is-display-from-system",i[3]),T(a,"class","_table-container"),T(l,"class","box"),T(G,"class","_box-title push-bottom-2 push-top-2"),T(ue,"class","_head-col _head-incident"),T(ue,"rowspan",2),T(R,"class","_incident"),Pe(R,"_is-display-from-system",i[3]),T(A,"class","_table-container"),T(K,"class","box push-top-2")},m(L,B){d(L,e,B),h(e,l),h(l,t),h(t,o),h(t,f),h(t,n),h(t,s),h(l,_),h(l,a),h(a,m),h(m,u),h(u,k),h(k,N),h(k,C);for(let ne=0;ne<y.length;ne+=1)y[ne].m(k,null);h(u,w),h(u,P);for(let ne=0;ne<c.length;ne+=1)c[ne].m(P,null);h(u,D),h(u,U);for(let ne=0;ne<z.length;ne+=1)z[ne].m(U,null);h(m,O),h(m,S);for(let ne=0;ne<Z.length;ne+=1)Z[ne].m(S,null);d(L,Q,B),d(L,Y,B),h(Y,K),h(K,G),h(G,le),h(G,se),h(G,ae),h(G,oe),h(K,re),h(K,A),h(A,X),h(X,fe),h(fe,me),h(me,ue),h(me,$);for(let ne=0;ne<x.length;ne+=1)x[ne].m(me,null);h(fe,Oe),h(fe,Te);for(let ne=0;ne<He.length;ne+=1)He[ne].m(Te,null);h(X,Se),h(X,R);for(let ne=0;ne<j.length;ne+=1)j[ne].m(R,null);Fe=!0},p(L,B){(!Fe||B[0]&64)&&r!==(r=De[L[6]]+"")&&I(f,r),(!Fe||B[0]&128)&&I(s,L[7]),B[0]&5&&(je=L[0],y=ee(y,B,Ke,1,L,je,H,k,_e,Pl,null,Dl)),B[0]&5&&(Ue=L[0],c=ee(c,B,Ye,1,L,Ue,b,P,_e,El,null,Nl)),B[0]&5&&(Ze=L[0],z=ee(z,B,ze,1,L,Ze,V,U,_e,Ul,null,Tl)),B[0]&261181&&(Re=L[5],de(),Z=ee(Z,B,Ve,1,L,Re,J,S,ce,ct,null,al),pe()),B[0]&8&&Pe(S,"_is-display-from-system",L[3]),(!Fe||B[0]&64)&&W!==(W=De[L[6]]+"")&&I(se,W),(!Fe||B[0]&128)&&I(oe,L[7]),B[0]&6&&(Le=L[1],x=ee(x,B,Qe,1,L,Le,be,me,_e,vt,null,ul)),B[0]&6&&(qe=L[1],He=ee(He,B,We,1,L,qe,we,Te,_e,wt,null,_l)),B[0]&217918&&(Ie=L[5],de(),j=ee(j,B,Xe,1,L,Ie,g,R,ce,Vt,null,el),pe()),B[0]&8&&Pe(R,"_is-display-from-system",L[3])},i(L){if(!Fe){for(let B=0;B<Re.length;B+=1)te(Z[B]);for(let B=0;B<Ie.length;B+=1)te(j[B]);Fe=!0}},o(L){for(let B=0;B<Z.length;B+=1)ie(Z[B]);for(let B=0;B<j.length;B+=1)ie(j[B]);Fe=!1},d(L){L&&p(e);for(let B=0;B<y.length;B+=1)y[B].d();for(let B=0;B<c.length;B+=1)c[B].d();for(let B=0;B<z.length;B+=1)z[B].d();for(let B=0;B<Z.length;B+=1)Z[B].d();L&&p(Q),L&&p(Y);for(let B=0;B<x.length;B+=1)x[B].d();for(let B=0;B<He.length;B+=1)He[B].d();for(let B=0;B<j.length;B+=1)j[B].d()}}}function is(i,e,l){let t,o,r,f,n,s,_,a,{isDisplaySubTotal:m}=e,{isDisplayFromSystem:u}=e,{isUnsavedChanges:k}=e,{readOnly:N}=e,{staff:C=[]}=e,{contractors:y=[]}=e,{incidents:H=[]}=e,{month:w}=e,{year:P}=e,c=In;var b;(function(S){S.TRC="TRC",S.LTI="LTI",S.TROI="TROI"})(b||(b={}));function D(){l(18,k=!0)}function U(S,Z,J,Q){i.$$.not_equal(Z.incidents[J].manHours[Q].male.hours,S)&&(Z.incidents[J].manHours[Q].male.hours=S,l(0,C))}function z(S,Z,J,Q){i.$$.not_equal(Z.incidents[J].manHours[Q].female.hours,S)&&(Z.incidents[J].manHours[Q].female.hours=S,l(0,C))}function V(S,Z,J,Q){i.$$.not_equal(Z.incidents[J].manHours[Q].male.hours,S)&&(Z.incidents[J].manHours[Q].male.hours=S,l(1,y))}function O(S,Z,J,Q){i.$$.not_equal(Z.incidents[J].manHours[Q].female.hours,S)&&(Z.incidents[J].manHours[Q].female.hours=S,l(1,y))}return i.$$set=S=>{"isDisplaySubTotal"in S&&l(2,m=S.isDisplaySubTotal),"isDisplayFromSystem"in S&&l(3,u=S.isDisplayFromSystem),"isUnsavedChanges"in S&&l(18,k=S.isUnsavedChanges),"readOnly"in S&&l(4,N=S.readOnly),"staff"in S&&l(0,C=S.staff),"contractors"in S&&l(1,y=S.contractors),"incidents"in S&&l(5,H=S.incidents),"month"in S&&l(6,w=S.month),"year"in S&&l(7,P=S.year)},i.$$.update=()=>{i.$$.dirty[0]&524288&&l(15,t=(S,Z,J,Q,Y=!1,K)=>{let G=Z.map(le=>{var W,se,ae,oe,re,A;if(le.incidents[S]){let X=le.incidents[S].manHours;if(K){const fe=x=>K.indexOf(x)!==-1,me=fe(b.TRC),ue=fe(b.LTI),$=fe(b.TROI);return X.map((x,be)=>(me||$)&&be>0||ue&&be>2?Q===c.Total?Y?((x==null?void 0:x.male.systemHours)||0)+((x==null?void 0:x.female.systemHours)||0):((x==null?void 0:x.male.hours)||0)+((x==null?void 0:x.female.hours)||0):(Y?x==null?void 0:x[Q].systemHours:x==null?void 0:x[Q].hours)||0:0).reduce((x,be)=>x+be,0)}else return Q===c.Total?Y?(((W=X[J])==null?void 0:W.male.systemHours)||0)+(((se=X[J])==null?void 0:se.female.systemHours)||0):(((ae=X[J])==null?void 0:ae.male.hours)||0)+(((oe=X[J])==null?void 0:oe.female.hours)||0):(Y?(re=X[J])==null?void 0:re[Q].systemHours:(A=X[J])==null?void 0:A[Q].hours)||0}return 0}).reduce((le,W)=>le+W,0);return G?E(G):0}),i.$$.dirty[0]&524288&&l(12,f=(S,Z,J,Q)=>{const Y=W=>Q.indexOf(W)!==-1,K=Y(b.TRC),G=Y(b.LTI),le=Y(b.TROI);if(Z.incidents[S]){let W=Z.incidents[S].manHours.map((se,ae)=>(K||le)&&ae>0||G&&ae>2?J===c.Total?((se==null?void 0:se.male.hours)||0)+((se==null?void 0:se.female.hours)||0):(se==null?void 0:se[J].hours)||0:0).reduce((se,ae)=>se+ae,0);return W?E(W):0}return 0}),i.$$.dirty[0]&1&&l(11,n=(S,Z=!1)=>{let J={top:0,tes:0,male:0,female:0,total:0};return C.forEach(Q=>{Q.companyPlants.forEach(Y=>{Y.incidents[S]&&Y.incidents[S].manHours.forEach(G=>{Object.entries(G).forEach(le=>{var W,se,ae,oe;if(J[le[0]]?J[le[0]]+=((W=le[1])==null?void 0:W[Z?"systemHours":"hours"])||0:J[le[0]]=((se=le[1])==null?void 0:se[Z?"systemHours":"hours"])||0,(Y.name==="TOP"||Y.name==="TES")&&(le[0]==="male"||le[0]==="female")){const re=Y.name==="TOP"?"top":"tes";J[re]?J[re]+=((ae=le[1])==null?void 0:ae[Z?"systemHours":"hours"])||0:J[re]=((oe=le[1])==null?void 0:oe[Z?"systemHours":"hours"])||0}J.total=(J.male||0)+(J.female||0)})})})}),J}),i.$$.dirty[0]&524289&&l(10,s=(S,Z,J=!1,Q)=>{let Y={top:0,tes:0,male:0,female:0,total:0};return C.forEach(K=>{K.companyPlants.forEach(G=>{if(G.incidents[S]){let le=G.incidents[S].manHours;if(Q){const W=re=>Q.indexOf(re)!==-1,se=W(b.TRC),ae=W(b.LTI),oe=W(b.TROI);le.forEach((re,A)=>{((se||oe)&&A>0||ae&&A>2)&&Object.entries(re).forEach(X=>{var fe,me,ue,$;if(Y[X[0]]?Y[X[0]]+=((fe=X[1])==null?void 0:fe[J?"systemHours":"hours"])||0:Y[X[0]]=((me=X[1])==null?void 0:me[J?"systemHours":"hours"])||0,(G.name==="TOP"||G.name==="TES")&&(X[0]==="male"||X[0]==="female")){const x=G.name==="TOP"?"top":"tes";Y[x]?Y[x]+=((ue=X[1])==null?void 0:ue[J?"systemHours":"hours"])||0:Y[x]=(($=X[1])==null?void 0:$[J?"systemHours":"hours"])||0}Y.total=(Y.male||0)+(Y.female||0)})})}else le[Z]&&Object.entries(le[Z]).forEach(W=>{var se,ae,oe,re;if(Y[W[0]]?Y[W[0]]+=((se=W[1])==null?void 0:se[J?"systemHours":"hours"])||0:Y[W[0]]=((ae=W[1])==null?void 0:ae[J?"systemHours":"hours"])||0,(G.name==="TOP"||G.name==="TES")&&(W[0]==="male"||W[0]==="female")){const A=G.name==="TOP"?"top":"tes";Y[A]?Y[A]+=((oe=W[1])==null?void 0:oe[J?"systemHours":"hours"])||0:Y[A]=((re=W[1])==null?void 0:re[J?"systemHours":"hours"])||0}Y.total=(Y.male||0)+(Y.female||0)})}})}),Y}),i.$$.dirty[0]&2&&l(9,_=(S,Z=!1)=>{let J={top:0,tes:0,male:0,female:0,total:0};return y.forEach(Q=>{Q.incidents[S]&&Q.incidents[S].manHours.forEach(K=>{Object.entries(K).forEach(G=>{var le,W;J[G[0]]?J[G[0]]+=((le=G[1])==null?void 0:le[Z?"systemHours":"hours"])||0:J[G[0]]=((W=G[1])==null?void 0:W[Z?"systemHours":"hours"])||0,J.total=(J.male||0)+(J.female||0)})})}),J}),i.$$.dirty[0]&524290&&l(8,a=(S,Z,J=!1,Q)=>{let Y={top:0,tes:0,male:0,female:0,total:0};return y.forEach(K=>{if(K.incidents[S]){let G=K.incidents[S].manHours;if(Q){const le=oe=>Q.indexOf(oe)!==-1,W=le(b.TRC),se=le(b.LTI),ae=le(b.TROI);G.forEach((oe,re)=>{((W||ae)&&re>0||se&&re>2)&&Object.entries(oe).forEach(A=>{var X,fe;Y[A[0]]?Y[A[0]]+=((X=A[1])==null?void 0:X[J?"systemHours":"hours"])||0:Y[A[0]]=((fe=A[1])==null?void 0:fe[J?"systemHours":"hours"])||0,Y.total=(Y.male||0)+(Y.female||0)})})}else G[Z]&&Object.entries(G[Z]).forEach(le=>{var W,se;Y[le[0]]?Y[le[0]]+=((W=le[1])==null?void 0:W[J?"systemHours":"hours"])||0:Y[le[0]]=((se=le[1])==null?void 0:se[J?"systemHours":"hours"])||0,Y.total=(Y.male||0)+(Y.female||0)})}}),Y})},l(14,o=(S,Z,J,Q=!1)=>{if(Z.incidents[S]){let Y=Z.incidents[S].manHours.map(K=>J===c.Total?Q?((K==null?void 0:K.male.systemHours)||0)+((K==null?void 0:K.female.systemHours)||0):((K==null?void 0:K.male.hours)||0)+((K==null?void 0:K.female.hours)||0):(Q?K==null?void 0:K[J].systemHours:K==null?void 0:K[J].hours)||0).reduce((K,G)=>K+G,0);return Y?E(Y):0}return 0}),l(13,r=(S,Z,J,Q=!1)=>{let Y=Z.map(K=>K.incidents[S]&&K.incidents[S].manHours.map((G,le)=>J===c.Total?Q?((G==null?void 0:G.male.systemHours)||0)+((G==null?void 0:G.female.systemHours)||0):((G==null?void 0:G.male.hours)||0)+((G==null?void 0:G.female.hours)||0):(Q?G==null?void 0:G[J].systemHours:G==null?void 0:G[J].hours)||0).reduce((G,le)=>G+le,0)||0).reduce((K,G)=>K+G,0);return Y?E(Y):0}),[C,y,m,u,N,H,w,P,a,_,s,n,f,r,o,t,c,D,k,b,U,z,V,O]}class ns extends Be{constructor(e){super();Ge(this,e,is,ts,Je,{isDisplaySubTotal:2,isDisplayFromSystem:3,isUnsavedChanges:18,readOnly:4,staff:0,contractors:1,incidents:5,month:6,year:7},null,[-1,-1,-1])}}function Qt(i,e,l){const t=i.slice();return t[17]=e[l],t[18]=e,t[19]=l,t}function Wt(i,e,l){const t=i.slice();return t[20]=e[l],t[21]=e,t[22]=l,t}function Xt(i,e,l){const t=i.slice();return t[23]=e[l],t[25]=l,t}function $t(i,e,l){const t=i.slice();return t[23]=e[l],t[25]=l,t}function gt(i,e,l){const t=i.slice();return t[23]=e[l],t[28]=l,t}function xt(i,e,l){const t=i.slice();return t[23]=e[l],t[29]=e,t[28]=l,t}function ei(i,e,l){const t=i.slice();return t[23]=e[l],t[28]=l,t}function li(i,e,l){const t=i.slice();return t[23]=e[l],t[32]=l,t}function ti(i,e,l){const t=i.slice();return t[17]=e[l],t[33]=e,t[19]=l,t}function ii(i,e,l){const t=i.slice();return t[20]=e[l],t[34]=e,t[22]=l,t}function ni(i,e,l){const t=i.slice();return t[35]=e[l],t[25]=l,t}function si(i,e,l){const t=i.slice();return t[35]=e[l],t[25]=l,t}function fi(i,e,l){const t=i.slice();return t[35]=e[l],t[25]=l,t}function oi(i,e,l){const t=i.slice();return t[35]=e[l],t[39]=e,t[25]=l,t}function _i(i,e,l){const t=i.slice();return t[35]=e[l],t[25]=l,t}function ui(i,e,l){const t=i.slice();return t[35]=e[l],t[32]=l,t}function ai(i){let e;return{c(){e=v("th"),e.textContent="Total",T(e,"class","_head-col _plant-total")},m(l,t){d(l,e,t)},d(l){l&&p(e)}}}function ri(i,e){let l,t=e[35].company.name+"",o,r,f,n=e[0].length-1===e[32]&&e[2]&&ai();return{key:i,first:null,c(){l=v("th"),o=F(t),r=M(),n&&n.c(),f=q(),T(l,"class","_head-col _extend"),this.first=l},m(s,_){d(s,l,_),h(l,o),d(s,r,_),n&&n.m(s,_),d(s,f,_)},p(s,_){e=s,_[0]&1&&t!==(t=e[35].company.name+"")&&I(o,t),e[0].length-1===e[32]&&e[2]?n||(n=ai(),n.c(),n.m(f.parentNode,f)):n&&(n.d(1),n=null)},d(s){s&&p(l),s&&p(r),n&&n.d(s),s&&p(f)}}}function mi(i){let e;return{c(){e=v("tr"),e.innerHTML='<td class="_col _space"></td>'},m(l,t){d(l,e,t)},d(l){l&&p(e)}}}function di(i){let e,l=E(i[11](i[19]).total)+"",t;return{c(){e=v("td"),t=F(l),T(e,"class","_col _indicator-total")},m(o,r){d(o,e,r),h(e,t)},p(o,r){r[0]&2080&&l!==(l=E(o[11](o[19]).total)+"")&&I(t,l)},d(o){o&&p(e)}}}function pi(i,e){let l,t=e[12](e[19],e[35])+"",o,r,f,n=e[0].length-1===e[25]&&e[2]&&di(e);return{key:i,first:null,c(){l=v("td"),o=F(t),r=M(),n&&n.c(),f=q(),T(l,"class","_col _indicator-total"),this.first=l},m(s,_){d(s,l,_),h(l,o),d(s,r,_),n&&n.m(s,_),d(s,f,_)},p(s,_){e=s,_[0]&4129&&t!==(t=e[12](e[19],e[35])+"")&&I(o,t),e[0].length-1===e[25]&&e[2]?n?n.p(e,_):(n=di(e),n.c(),n.m(f.parentNode,f)):n&&(n.d(1),n=null)},d(s){s&&p(l),s&&p(r),n&&n.d(s),s&&p(f)}}}function ss(i){let e;return{c(){e=v("td"),e.textContent="0"},m(l,t){d(l,e,t)},p:ke,i:ke,o:ke,d(l){l&&p(e)}}}function fs(i){let e,l,t,o;function r(n){i[15](n,i[35],i[19],i[22])}let f={name:"total",input:i[13],disabled:i[4]};return i[35].incidents[i[19]].manHours[i[22]].total.hours!==void 0&&(f.value=i[35].incidents[i[19]].manHours[i[22]].total.hours),l=new Ee({props:f}),ye.push(()=>ve(l,"value",r)),{c(){e=v("td"),Ce(l.$$.fragment)},m(n,s){d(n,e,s),Ne(l,e,null),o=!0},p(n,s){i=n;const _={};s[0]&16&&(_.disabled=i[4]),!t&&s[0]&33&&(t=!0,_.value=i[35].incidents[i[19]].manHours[i[22]].total.hours,he(()=>t=!1)),l.$set(_)},i(n){o||(te(l.$$.fragment,n),o=!0)},o(n){ie(l.$$.fragment,n),o=!1},d(n){n&&p(e),Me(l)}}}function bi(i){let e,l=E(i[10](i[19],i[22]).total)+"",t;return{c(){e=v("td"),t=F(l),T(e,"class","")},m(o,r){d(o,e,r),h(e,t)},p(o,r){r[0]&1056&&l!==(l=E(o[10](o[19],o[22]).total)+"")&&I(t,l)},d(o){o&&p(e)}}}function ki(i,e){let l,t,o,r,f,n;const s=[fs,ss],_=[];function a(u,k){return u[35].incidents[u[19]].manHours[u[22]]?0:1}t=a(e),o=_[t]=s[t](e);let m=e[0].length-1===e[25]&&e[2]&&bi(e);return{key:i,first:null,c(){l=q(),o.c(),r=M(),m&&m.c(),f=q(),this.first=l},m(u,k){d(u,l,k),_[t].m(u,k),d(u,r,k),m&&m.m(u,k),d(u,f,k),n=!0},p(u,k){e=u;let N=t;t=a(e),t===N?_[t].p(e,k):(de(),ie(_[N],1,1,()=>{_[N]=null}),pe(),o=_[t],o?o.p(e,k):(o=_[t]=s[t](e),o.c()),te(o,1),o.m(r.parentNode,r)),e[0].length-1===e[25]&&e[2]?m?m.p(e,k):(m=bi(e),m.c(),m.m(f.parentNode,f)):m&&(m.d(1),m=null)},i(u){n||(te(o),n=!0)},o(u){ie(o),n=!1},d(u){u&&p(l),_[t].d(u),u&&p(r),m&&m.d(u),u&&p(f)}}}function ci(i){let e=[],l=new Map,t,o=i[0];const r=f=>`${f[35].id}_${f[22]}`;for(let f=0;f<o.length;f+=1){let n=fi(i,o,f),s=r(n);l.set(s,e[f]=vi(s,n))}return{c(){for(let f=0;f<e.length;f+=1)e[f].c();t=q()},m(f,n){for(let s=0;s<e.length;s+=1)e[s].m(f,n);d(f,t,n)},p(f,n){n[0]&1061&&(o=f[0],e=ee(e,n,r,1,f,o,l,t.parentNode,_e,vi,t,fi))},d(f){for(let n=0;n<e.length;n+=1)e[n].d(f);f&&p(t)}}}function os(i){let e;return{c(){e=v("td"),e.textContent="0"},m(l,t){d(l,e,t)},p:ke,d(l){l&&p(e)}}}function _s(i){let e,l=E(i[35].incidents[i[19]].manHours[i[22]].total.systemHours)+"",t;return{c(){e=v("td"),t=F(l)},m(o,r){d(o,e,r),h(e,t)},p(o,r){r[0]&33&&l!==(l=E(o[35].incidents[o[19]].manHours[o[22]].total.systemHours)+"")&&I(t,l)},d(o){o&&p(e)}}}function yi(i){let e,l=E(i[10](i[19],i[22],!1,!0).total)+"",t;return{c(){e=v("td"),t=F(l),T(e,"class","")},m(o,r){d(o,e,r),h(e,t)},p(o,r){r[0]&1056&&l!==(l=E(o[10](o[19],o[22],!1,!0).total)+"")&&I(t,l)},d(o){o&&p(e)}}}function vi(i,e){let l,t,o;function r(_,a){return _[35].incidents[_[19]].manHours[_[22]]?_s:os}let f=r(e),n=f(e),s=e[0].length-1===e[25]&&e[2]&&yi(e);return{key:i,first:null,c(){l=q(),n.c(),t=M(),s&&s.c(),o=q(),this.first=l},m(_,a){d(_,l,a),n.m(_,a),d(_,t,a),s&&s.m(_,a),d(_,o,a)},p(_,a){e=_,f===(f=r(e))&&n?n.p(e,a):(n.d(1),n=f(e),n&&(n.c(),n.m(t.parentNode,t))),e[0].length-1===e[25]&&e[2]?s?s.p(e,a):(s=yi(e),s.c(),s.m(o.parentNode,o)):s&&(s.d(1),s=null)},d(_){_&&p(l),n.d(_),_&&p(t),s&&s.d(_),_&&p(o)}}}function hi(i){let e,l,t=i[20].name.replace(/(\d)\D+$/g,"$1")+"",o,r,f,n,s=[],_=new Map,a,m,u,k=i[0];const N=y=>`${y[35].id}_${y[22]}`;for(let y=0;y<k.length;y+=1){let H=si(i,k,y),w=N(H);_.set(w,s[y]=wi(w,H))}let C=i[3]&&Ti(i);return{c(){e=v("tr"),l=v("td"),o=F(t),r=F(" Total"),n=M();for(let y=0;y<s.length;y+=1)s[y].c();a=M(),m=v("tr"),C&&C.c(),u=M(),T(l,"class","_col _kpi-total text-left"),T(l,"rowspan",f=i[3]?2:1),T(m,"class","_row _system-cell")},m(y,H){d(y,e,H),h(e,l),h(l,o),h(l,r),h(e,n);for(let w=0;w<s.length;w+=1)s[w].m(e,null);d(y,a,H),d(y,m,H),C&&C.m(m,null),h(m,u)},p(y,H){H[0]&32&&t!==(t=y[20].name.replace(/(\d)\D+$/g,"$1")+"")&&I(o,t),H[0]&8&&f!==(f=y[3]?2:1)&&T(l,"rowspan",f),H[0]&805&&(k=y[0],s=ee(s,H,N,1,y,k,_,e,_e,wi,null,si)),y[3]?C?C.p(y,H):(C=Ti(y),C.c(),C.m(m,u)):C&&(C.d(1),C=null)},d(y){y&&p(e);for(let H=0;H<s.length;H+=1)s[H].d();y&&p(a),y&&p(m),C&&C.d()}}}function Hi(i){let e,l=i[8](i[19],i[22],i[0])+"",t,o;return{c(){e=v("td"),t=F(l),o=M(),T(e,"class","_col _kpi-total")},m(r,f){d(r,e,f),h(e,t),h(e,o)},p(r,f){f[0]&289&&l!==(l=r[8](r[19],r[22],r[0])+"")&&I(t,l)},d(r){r&&p(e)}}}function wi(i,e){let l,t=e[9](e[19],e[22],e[35])+"",o,r,f,n=e[0].length-1===e[25]&&e[2]&&Hi(e);return{key:i,first:null,c(){l=v("td"),o=F(t),r=M(),n&&n.c(),f=q(),T(l,"class","_col _kpi-total"),this.first=l},m(s,_){d(s,l,_),h(l,o),d(s,r,_),n&&n.m(s,_),d(s,f,_)},p(s,_){e=s,_[0]&545&&t!==(t=e[9](e[19],e[22],e[35])+"")&&I(o,t),e[0].length-1===e[25]&&e[2]?n?n.p(e,_):(n=Hi(e),n.c(),n.m(f.parentNode,f)):n&&(n.d(1),n=null)},d(s){s&&p(l),s&&p(r),n&&n.d(s),s&&p(f)}}}function Ti(i){let e=[],l=new Map,t,o=i[0];const r=f=>`${f[35].id}_${f[22]}`;for(let f=0;f<o.length;f+=1){let n=ni(i,o,f),s=r(n);l.set(s,e[f]=Ni(s,n))}return{c(){for(let f=0;f<e.length;f+=1)e[f].c();t=q()},m(f,n){for(let s=0;s<e.length;s+=1)e[s].m(f,n);d(f,t,n)},p(f,n){n[0]&805&&(o=f[0],e=ee(e,n,r,1,f,o,l,t.parentNode,_e,Ni,t,ni))},d(f){for(let n=0;n<e.length;n+=1)e[n].d(f);f&&p(t)}}}function Ci(i){let e,l=i[8](i[19],i[22],i[0],!0)+"",t,o;return{c(){e=v("td"),t=F(l),o=M(),T(e,"class","_col _kpi-total")},m(r,f){d(r,e,f),h(e,t),h(e,o)},p(r,f){f[0]&289&&l!==(l=r[8](r[19],r[22],r[0],!0)+"")&&I(t,l)},d(r){r&&p(e)}}}function Ni(i,e){let l,t=e[9](e[19],e[22],e[35],!0)+"",o,r,f,n=e[0].length-1===e[25]&&e[2]&&Ci(e);return{key:i,first:null,c(){l=v("td"),o=F(t),r=M(),n&&n.c(),f=q(),T(l,"class","_col _kpi-total"),this.first=l},m(s,_){d(s,l,_),h(l,o),d(s,r,_),n&&n.m(s,_),d(s,f,_)},p(s,_){e=s,_[0]&545&&t!==(t=e[9](e[19],e[22],e[35],!0)+"")&&I(o,t),e[0].length-1===e[25]&&e[2]?n?n.p(e,_):(n=Ci(e),n.c(),n.m(f.parentNode,f)):n&&(n.d(1),n=null)},d(s){s&&p(l),s&&p(r),n&&n.d(s),s&&p(f)}}}function Mi(i,e){let l,t,o=e[20].name+"",r,f,n,s=[],_=new Map,a,m,u,k=e[22]%2!=0&&e[20].name.indexOf("PSE Tier")!==-1,N,C,y=e[0];const H=c=>`${c[35].id}_${c[22]}`;for(let c=0;c<y.length;c+=1){let b=oi(e,y,c),D=H(b);_.set(D,s[c]=ki(D,b))}let w=e[3]&&ci(e),P=k&&hi(e);return{key:i,first:null,c(){l=v("tr"),t=v("td"),r=F(o),n=M();for(let c=0;c<s.length;c+=1)s[c].c();a=M(),m=v("tr"),w&&w.c(),u=M(),P&&P.c(),N=q(),T(t,"class","text-left _is-sticky"),T(t,"rowspan",f=e[3]?2:1),T(m,"class","_row _system-cell"),this.first=l},m(c,b){d(c,l,b),h(l,t),h(t,r),h(l,n);for(let D=0;D<s.length;D+=1)s[D].m(l,null);d(c,a,b),d(c,m,b),w&&w.m(m,null),d(c,u,b),P&&P.m(c,b),d(c,N,b),C=!0},p(c,b){e=c,(!C||b[0]&32)&&o!==(o=e[20].name+"")&&I(r,o),(!C||b[0]&8&&f!==(f=e[3]?2:1))&&T(t,"rowspan",f),b[0]&9269&&(y=e[0],de(),s=ee(s,b,H,1,e,y,_,l,ce,ki,null,oi),pe()),e[3]?w?w.p(e,b):(w=ci(e),w.c(),w.m(m,null)):w&&(w.d(1),w=null),b[0]&32&&(k=e[22]%2!=0&&e[20].name.indexOf("PSE Tier")!==-1),k?P?P.p(e,b):(P=hi(e),P.c(),P.m(N.parentNode,N)):P&&(P.d(1),P=null)},i(c){if(!C){for(let b=0;b<y.length;b+=1)te(s[b]);C=!0}},o(c){for(let b=0;b<s.length;b+=1)ie(s[b]);C=!1},d(c){c&&p(l);for(let b=0;b<s.length;b+=1)s[b].d();c&&p(a),c&&p(m),w&&w.d(),c&&p(u),P&&P.d(c),c&&p(N)}}}function Di(i,e){let l,t,o,r,f=e[17].name+"",n,s,_=[],a=new Map,m,u=[],k=new Map,N,C,y=e[19]>0&&mi(),H=e[0];const w=b=>`${b[35].id}_${b[19]}`;for(let b=0;b<H.length;b+=1){let D=_i(e,H,b),U=w(D);a.set(U,_[b]=pi(U,D))}let P=e[17].incidentCases;const c=b=>b[20].id;for(let b=0;b<P.length;b+=1){let D=ii(e,P,b),U=c(D);k.set(U,u[b]=Mi(U,D))}return{key:i,first:null,c(){l=q(),y&&y.c(),t=M(),o=v("tr"),r=v("td"),n=F(f),s=M();for(let b=0;b<_.length;b+=1)_[b].c();m=M();for(let b=0;b<u.length;b+=1)u[b].c();N=q(),T(r,"class","_col _indicator-total text-left _is-sticky"),this.first=l},m(b,D){d(b,l,D),y&&y.m(b,D),d(b,t,D),d(b,o,D),h(o,r),h(r,n),h(o,s);for(let U=0;U<_.length;U+=1)_[U].m(o,null);d(b,m,D);for(let U=0;U<u.length;U+=1)u[U].m(b,D);d(b,N,D),C=!0},p(b,D){e=b,e[19]>0?y||(y=mi(),y.c(),y.m(t.parentNode,t)):y&&(y.d(1),y=null),(!C||D[0]&32)&&f!==(f=e[17].name+"")&&I(n,f),D[0]&6181&&(H=e[0],_=ee(_,D,w,1,e,H,a,o,_e,pi,null,_i)),D[0]&10045&&(P=e[17].incidentCases,de(),u=ee(u,D,c,1,e,P,k,N.parentNode,ce,Mi,N,ii),pe())},i(b){if(!C){for(let D=0;D<P.length;D+=1)te(u[D]);C=!0}},o(b){for(let D=0;D<u.length;D+=1)ie(u[D]);C=!1},d(b){b&&p(l),y&&y.d(b),b&&p(t),b&&p(o);for(let D=0;D<_.length;D+=1)_[D].d();b&&p(m);for(let D=0;D<u.length;D+=1)u[D].d(b);b&&p(N)}}}function Si(i){let e;return{c(){e=v("th"),e.textContent="Total",T(e,"class","_head-col _plant-total")},m(l,t){d(l,e,t)},d(l){l&&p(e)}}}function Pi(i,e){let l,t=e[23].company.name+"",o,r,f,n=e[1].length-1===e[32]&&e[2]&&Si();return{key:i,first:null,c(){l=v("th"),o=F(t),r=M(),n&&n.c(),f=q(),T(l,"class","_head-col _extend"),this.first=l},m(s,_){d(s,l,_),h(l,o),d(s,r,_),n&&n.m(s,_),d(s,f,_)},p(s,_){e=s,_[0]&2&&t!==(t=e[23].company.name+"")&&I(o,t),e[1].length-1===e[32]&&e[2]?n||(n=Si(),n.c(),n.m(f.parentNode,f)):n&&(n.d(1),n=null)},d(s){s&&p(l),s&&p(r),n&&n.d(s),s&&p(f)}}}function Oi(i){let e;return{c(){e=v("tr"),e.innerHTML='<td class="_col _space"></td>'},m(l,t){d(l,e,t)},d(l){l&&p(e)}}}function Fi(i){let e,l=E(i[11](i[19],!0).total)+"",t;return{c(){e=v("td"),t=F(l),T(e,"class","_col _indicator-total")},m(o,r){d(o,e,r),h(e,t)},p(o,r){r[0]&2080&&l!==(l=E(o[11](o[19],!0).total)+"")&&I(t,l)},d(o){o&&p(e)}}}function Ei(i,e){let l,t=e[12](e[19],e[23])+"",o,r,f,n=e[1].length-1===e[28]&&e[2]&&Fi(e);return{key:i,first:null,c(){l=v("td"),o=F(t),r=M(),n&&n.c(),f=q(),T(l,"class","_col _indicator-total"),this.first=l},m(s,_){d(s,l,_),h(l,o),d(s,r,_),n&&n.m(s,_),d(s,f,_)},p(s,_){e=s,_[0]&4130&&t!==(t=e[12](e[19],e[23])+"")&&I(o,t),e[1].length-1===e[28]&&e[2]?n?n.p(e,_):(n=Fi(e),n.c(),n.m(f.parentNode,f)):n&&(n.d(1),n=null)},d(s){s&&p(l),s&&p(r),n&&n.d(s),s&&p(f)}}}function us(i){let e;return{c(){e=v("td"),e.textContent="0"},m(l,t){d(l,e,t)},p:ke,i:ke,o:ke,d(l){l&&p(e)}}}function as(i){let e,l,t,o;function r(n){i[16](n,i[23],i[19],i[22])}let f={name:"total",input:i[13],disabled:i[4]};return i[23].incidents[i[19]].manHours[i[22]].total.hours!==void 0&&(f.value=i[23].incidents[i[19]].manHours[i[22]].total.hours),l=new Ee({props:f}),ye.push(()=>ve(l,"value",r)),{c(){e=v("td"),Ce(l.$$.fragment)},m(n,s){d(n,e,s),Ne(l,e,null),o=!0},p(n,s){i=n;const _={};s[0]&16&&(_.disabled=i[4]),!t&&s[0]&34&&(t=!0,_.value=i[23].incidents[i[19]].manHours[i[22]].total.hours,he(()=>t=!1)),l.$set(_)},i(n){o||(te(l.$$.fragment,n),o=!0)},o(n){ie(l.$$.fragment,n),o=!1},d(n){n&&p(e),Me(l)}}}function Ri(i){let e,l=E(i[10](i[19],i[22],!0).total)+"",t;return{c(){e=v("td"),t=F(l),T(e,"class","")},m(o,r){d(o,e,r),h(e,t)},p(o,r){r[0]&1056&&l!==(l=E(o[10](o[19],o[22],!0).total)+"")&&I(t,l)},d(o){o&&p(e)}}}function Ii(i,e){let l,t,o,r,f,n;const s=[as,us],_=[];function a(u,k){return u[23].incidents[u[19]].manHours[u[22]]?0:1}t=a(e),o=_[t]=s[t](e);let m=e[1].length-1===e[28]&&e[2]&&Ri(e);return{key:i,first:null,c(){l=q(),o.c(),r=M(),m&&m.c(),f=q(),this.first=l},m(u,k){d(u,l,k),_[t].m(u,k),d(u,r,k),m&&m.m(u,k),d(u,f,k),n=!0},p(u,k){e=u;let N=t;t=a(e),t===N?_[t].p(e,k):(de(),ie(_[N],1,1,()=>{_[N]=null}),pe(),o=_[t],o?o.p(e,k):(o=_[t]=s[t](e),o.c()),te(o,1),o.m(r.parentNode,r)),e[1].length-1===e[28]&&e[2]?m?m.p(e,k):(m=Ri(e),m.c(),m.m(f.parentNode,f)):m&&(m.d(1),m=null)},i(u){n||(te(o),n=!0)},o(u){ie(o),n=!1},d(u){u&&p(l),_[t].d(u),u&&p(r),m&&m.d(u),u&&p(f)}}}function ji(i){let e=[],l=new Map,t,o=i[1];const r=f=>`${f[23].id}_${f[22]}`;for(let f=0;f<o.length;f+=1){let n=gt(i,o,f),s=r(n);l.set(s,e[f]=Zi(s,n))}return{c(){for(let f=0;f<e.length;f+=1)e[f].c();t=q()},m(f,n){for(let s=0;s<e.length;s+=1)e[s].m(f,n);d(f,t,n)},p(f,n){n[0]&1062&&(o=f[1],e=ee(e,n,r,1,f,o,l,t.parentNode,_e,Zi,t,gt))},d(f){for(let n=0;n<e.length;n+=1)e[n].d(f);f&&p(t)}}}function rs(i){let e;return{c(){e=v("td"),e.textContent="0"},m(l,t){d(l,e,t)},p:ke,d(l){l&&p(e)}}}function ms(i){let e,l=E(i[23].incidents[i[19]].manHours[i[22]].total.systemHours)+"",t;return{c(){e=v("td"),t=F(l)},m(o,r){d(o,e,r),h(e,t)},p(o,r){r[0]&34&&l!==(l=E(o[23].incidents[o[19]].manHours[o[22]].total.systemHours)+"")&&I(t,l)},d(o){o&&p(e)}}}function Ui(i){let e,l=E(i[10](i[19],i[22],!0,!0).total)+"",t;return{c(){e=v("td"),t=F(l),T(e,"class","")},m(o,r){d(o,e,r),h(e,t)},p(o,r){r[0]&1056&&l!==(l=E(o[10](o[19],o[22],!0,!0).total)+"")&&I(t,l)},d(o){o&&p(e)}}}function Zi(i,e){let l,t,o;function r(_,a){return _[23].incidents[_[19]].manHours[_[22]]?ms:rs}let f=r(e),n=f(e),s=e[1].length-1===e[28]&&e[2]&&Ui(e);return{key:i,first:null,c(){l=q(),n.c(),t=M(),s&&s.c(),o=q(),this.first=l},m(_,a){d(_,l,a),n.m(_,a),d(_,t,a),s&&s.m(_,a),d(_,o,a)},p(_,a){e=_,f===(f=r(e))&&n?n.p(e,a):(n.d(1),n=f(e),n&&(n.c(),n.m(t.parentNode,t))),e[1].length-1===e[28]&&e[2]?s?s.p(e,a):(s=Ui(e),s.c(),s.m(o.parentNode,o)):s&&(s.d(1),s=null)},d(_){_&&p(l),n.d(_),_&&p(t),s&&s.d(_),_&&p(o)}}}function Li(i){let e,l,t=i[20].name.replace(/(\d)\D+$/g,"$1")+"",o,r,f,n,s=[],_=new Map,a,m,u,k=i[1];const N=y=>`${y[23].id}_${y[22]}`;for(let y=0;y<k.length;y+=1){let H=$t(i,k,y),w=N(H);_.set(w,s[y]=Bi(w,H))}let C=i[3]&&Gi(i);return{c(){e=v("tr"),l=v("td"),o=F(t),r=F(" Total"),n=M();for(let y=0;y<s.length;y+=1)s[y].c();a=M(),m=v("tr"),C&&C.c(),u=M(),T(l,"class","_col _kpi-total text-left"),T(l,"rowspan",f=i[3]?2:1),T(m,"class","_row _system-cell")},m(y,H){d(y,e,H),h(e,l),h(l,o),h(l,r),h(e,n);for(let w=0;w<s.length;w+=1)s[w].m(e,null);d(y,a,H),d(y,m,H),C&&C.m(m,null),h(m,u)},p(y,H){H[0]&32&&t!==(t=y[20].name.replace(/(\d)\D+$/g,"$1")+"")&&I(o,t),H[0]&8&&f!==(f=y[3]?2:1)&&T(l,"rowspan",f),H[0]&806&&(k=y[1],s=ee(s,H,N,1,y,k,_,e,_e,Bi,null,$t)),y[3]?C?C.p(y,H):(C=Gi(y),C.c(),C.m(m,u)):C&&(C.d(1),C=null)},d(y){y&&p(e);for(let H=0;H<s.length;H+=1)s[H].d();y&&p(a),y&&p(m),C&&C.d()}}}function qi(i){let e,l=i[8](i[19],i[22],i[1])+"",t,o;return{c(){e=v("td"),t=F(l),o=M(),T(e,"class","_col _kpi-total")},m(r,f){d(r,e,f),h(e,t),h(e,o)},p(r,f){f[0]&290&&l!==(l=r[8](r[19],r[22],r[1])+"")&&I(t,l)},d(r){r&&p(e)}}}function Bi(i,e){let l,t=e[9](e[19],e[22],e[23])+"",o,r,f,n=e[1].length-1===e[25]&&e[2]&&qi(e);return{key:i,first:null,c(){l=v("td"),o=F(t),r=M(),n&&n.c(),f=q(),T(l,"class","_col _kpi-total"),this.first=l},m(s,_){d(s,l,_),h(l,o),d(s,r,_),n&&n.m(s,_),d(s,f,_)},p(s,_){e=s,_[0]&546&&t!==(t=e[9](e[19],e[22],e[23])+"")&&I(o,t),e[1].length-1===e[25]&&e[2]?n?n.p(e,_):(n=qi(e),n.c(),n.m(f.parentNode,f)):n&&(n.d(1),n=null)},d(s){s&&p(l),s&&p(r),n&&n.d(s),s&&p(f)}}}function Gi(i){let e=[],l=new Map,t,o=i[1];const r=f=>`${f[23].id}_${f[22]}`;for(let f=0;f<o.length;f+=1){let n=Xt(i,o,f),s=r(n);l.set(s,e[f]=Ai(s,n))}return{c(){for(let f=0;f<e.length;f+=1)e[f].c();t=q()},m(f,n){for(let s=0;s<e.length;s+=1)e[s].m(f,n);d(f,t,n)},p(f,n){n[0]&806&&(o=f[1],e=ee(e,n,r,1,f,o,l,t.parentNode,_e,Ai,t,Xt))},d(f){for(let n=0;n<e.length;n+=1)e[n].d(f);f&&p(t)}}}function Ji(i){let e,l=i[8](i[19],i[22],i[1],!0)+"",t,o;return{c(){e=v("td"),t=F(l),o=M(),T(e,"class","_col _kpi-total")},m(r,f){d(r,e,f),h(e,t),h(e,o)},p(r,f){f[0]&290&&l!==(l=r[8](r[19],r[22],r[1],!0)+"")&&I(t,l)},d(r){r&&p(e)}}}function Ai(i,e){let l,t=e[9](e[19],e[22],e[23],!0)+"",o,r,f,n=e[1].length-1===e[25]&&e[2]&&Ji(e);return{key:i,first:null,c(){l=v("td"),o=F(t),r=M(),n&&n.c(),f=q(),T(l,"class","_col _kpi-total"),this.first=l},m(s,_){d(s,l,_),h(l,o),d(s,r,_),n&&n.m(s,_),d(s,f,_)},p(s,_){e=s,_[0]&546&&t!==(t=e[9](e[19],e[22],e[23],!0)+"")&&I(o,t),e[1].length-1===e[25]&&e[2]?n?n.p(e,_):(n=Ji(e),n.c(),n.m(f.parentNode,f)):n&&(n.d(1),n=null)},d(s){s&&p(l),s&&p(r),n&&n.d(s),s&&p(f)}}}function Ki(i,e){let l,t,o=e[20].name+"",r,f,n,s=[],_=new Map,a,m,u,k=e[22]%2!=0&&e[20].name.indexOf("PSE Tier")!==-1,N,C,y=e[1];const H=c=>`${c[23].id}_${c[22]}`;for(let c=0;c<y.length;c+=1){let b=xt(e,y,c),D=H(b);_.set(D,s[c]=Ii(D,b))}let w=e[3]&&ji(e),P=k&&Li(e);return{key:i,first:null,c(){l=v("tr"),t=v("td"),r=F(o),n=M();for(let c=0;c<s.length;c+=1)s[c].c();a=M(),m=v("tr"),w&&w.c(),u=M(),P&&P.c(),N=q(),T(t,"class","text-left _is-sticky"),T(t,"rowspan",f=e[3]?2:1),T(m,"class","_row _system-cell"),this.first=l},m(c,b){d(c,l,b),h(l,t),h(t,r),h(l,n);for(let D=0;D<s.length;D+=1)s[D].m(l,null);d(c,a,b),d(c,m,b),w&&w.m(m,null),d(c,u,b),P&&P.m(c,b),d(c,N,b),C=!0},p(c,b){e=c,(!C||b[0]&32)&&o!==(o=e[20].name+"")&&I(r,o),(!C||b[0]&8&&f!==(f=e[3]?2:1))&&T(t,"rowspan",f),b[0]&9270&&(y=e[1],de(),s=ee(s,b,H,1,e,y,_,l,ce,Ii,null,xt),pe()),e[3]?w?w.p(e,b):(w=ji(e),w.c(),w.m(m,null)):w&&(w.d(1),w=null),b[0]&32&&(k=e[22]%2!=0&&e[20].name.indexOf("PSE Tier")!==-1),k?P?P.p(e,b):(P=Li(e),P.c(),P.m(N.parentNode,N)):P&&(P.d(1),P=null)},i(c){if(!C){for(let b=0;b<y.length;b+=1)te(s[b]);C=!0}},o(c){for(let b=0;b<s.length;b+=1)ie(s[b]);C=!1},d(c){c&&p(l);for(let b=0;b<s.length;b+=1)s[b].d();c&&p(a),c&&p(m),w&&w.d(),c&&p(u),P&&P.d(c),c&&p(N)}}}function Yi(i,e){let l,t,o,r,f=e[17].name+"",n,s,_=[],a=new Map,m,u=[],k=new Map,N,C,y=e[19]>0&&Oi(),H=e[1];const w=b=>`${b[23].id}_${b[19]}`;for(let b=0;b<H.length;b+=1){let D=ei(e,H,b),U=w(D);a.set(U,_[b]=Ei(U,D))}let P=e[17].incidentCases;const c=b=>b[20].id;for(let b=0;b<P.length;b+=1){let D=Wt(e,P,b),U=c(D);k.set(U,u[b]=Ki(U,D))}return{key:i,first:null,c(){l=q(),y&&y.c(),t=M(),o=v("tr"),r=v("td"),n=F(f),s=M();for(let b=0;b<_.length;b+=1)_[b].c();m=M();for(let b=0;b<u.length;b+=1)u[b].c();N=q(),T(r,"class","_col _indicator-total text-left _is-sticky"),this.first=l},m(b,D){d(b,l,D),y&&y.m(b,D),d(b,t,D),d(b,o,D),h(o,r),h(r,n),h(o,s);for(let U=0;U<_.length;U+=1)_[U].m(o,null);d(b,m,D);for(let U=0;U<u.length;U+=1)u[U].m(b,D);d(b,N,D),C=!0},p(b,D){e=b,e[19]>0?y||(y=Oi(),y.c(),y.m(t.parentNode,t)):y&&(y.d(1),y=null),(!C||D[0]&32)&&f!==(f=e[17].name+"")&&I(n,f),D[0]&6182&&(H=e[1],_=ee(_,D,w,1,e,H,a,o,_e,Ei,null,ei)),D[0]&10046&&(P=e[17].incidentCases,de(),u=ee(u,D,c,1,e,P,k,N.parentNode,ce,Ki,N,Wt),pe())},i(b){if(!C){for(let D=0;D<P.length;D+=1)te(u[D]);C=!0}},o(b){for(let D=0;D<u.length;D+=1)ie(u[D]);C=!1},d(b){b&&p(l),y&&y.d(b),b&&p(t),b&&p(o);for(let D=0;D<_.length;D+=1)_[D].d();b&&p(m);for(let D=0;D<u.length;D+=1)u[D].d(b);b&&p(N)}}}function ds(i){let e,l,t,o,r=De[i[6]]+"",f,n,s,_,a,m,u,k,N,C,y=[],H=new Map,w,P,c=[],b=new Map,D,U,z,V,O,S=De[i[6]]+"",Z,J,Q,Y,K,G,le,W,se,ae,oe=[],re=new Map,A,X,fe=[],me=new Map,ue,$=i[0];const x=R=>R[35].id;for(let R=0;R<$.length;R+=1){let j=ui(i,$,R),g=x(j);H.set(g,y[R]=ri(g,j))}let be=i[5];const Oe=R=>R[17].id;for(let R=0;R<be.length;R+=1){let j=ti(i,be,R),g=Oe(j);b.set(g,c[R]=Di(g,j))}let Te=i[1];const He=R=>R[23].id;for(let R=0;R<Te.length;R+=1){let j=li(i,Te,R),g=He(j);re.set(g,oe[R]=Pi(g,j))}let we=i[5];const Se=R=>R[17].id;for(let R=0;R<we.length;R+=1){let j=Qt(i,we,R),g=Se(j);me.set(g,fe[R]=Yi(g,j))}return{c(){e=v("div"),l=v("div"),t=v("div"),o=F(`Staff Incident
      `),f=F(r),n=M(),s=F(i[7]),_=M(),a=v("div"),m=v("table"),u=v("thead"),k=v("tr"),N=v("th"),N.textContent="Incident",C=M();for(let R=0;R<y.length;R+=1)y[R].c();w=M(),P=v("tbody");for(let R=0;R<c.length;R+=1)c[R].c();D=M(),U=v("div"),z=v("div"),V=v("div"),O=F(`Contractor Incident
      `),Z=F(S),J=M(),Q=F(i[7]),Y=M(),K=v("div"),G=v("table"),le=v("thead"),W=v("tr"),se=v("th"),se.textContent="Incident",ae=M();for(let R=0;R<oe.length;R+=1)oe[R].c();A=M(),X=v("tbody");for(let R=0;R<fe.length;R+=1)fe[R].c();T(t,"class","_box-title push-bottom-2"),T(N,"class","_head-col _head-incident-other"),T(P,"class","_incident"),Pe(P,"_is-display-from-system",i[3]),T(a,"class","_table-container"),T(l,"class","box"),T(V,"class","_box-title push-bottom-2 push-top-2"),T(se,"class","_head-col _head-incident-other"),T(X,"class","_incident"),Pe(X,"_is-display-from-system",i[3]),T(K,"class","_table-container"),T(z,"class","box push-top-2")},m(R,j){d(R,e,j),h(e,l),h(l,t),h(t,o),h(t,f),h(t,n),h(t,s),h(l,_),h(l,a),h(a,m),h(m,u),h(u,k),h(k,N),h(k,C);for(let g=0;g<y.length;g+=1)y[g].m(k,null);h(m,w),h(m,P);for(let g=0;g<c.length;g+=1)c[g].m(P,null);d(R,D,j),d(R,U,j),h(U,z),h(z,V),h(V,O),h(V,Z),h(V,J),h(V,Q),h(z,Y),h(z,K),h(K,G),h(G,le),h(le,W),h(W,se),h(W,ae);for(let g=0;g<oe.length;g+=1)oe[g].m(W,null);h(G,A),h(G,X);for(let g=0;g<fe.length;g+=1)fe[g].m(X,null);ue=!0},p(R,j){(!ue||j[0]&64)&&r!==(r=De[R[6]]+"")&&I(f,r),(!ue||j[0]&128)&&I(s,R[7]),j[0]&5&&($=R[0],y=ee(y,j,x,1,R,$,H,k,_e,ri,null,ui)),j[0]&16189&&(be=R[5],de(),c=ee(c,j,Oe,1,R,be,b,P,ce,Di,null,ti),pe()),j[0]&8&&Pe(P,"_is-display-from-system",R[3]),(!ue||j[0]&64)&&S!==(S=De[R[6]]+"")&&I(Z,S),(!ue||j[0]&128)&&I(Q,R[7]),j[0]&6&&(Te=R[1],oe=ee(oe,j,He,1,R,Te,re,W,_e,Pi,null,li)),j[0]&16190&&(we=R[5],de(),fe=ee(fe,j,Se,1,R,we,me,X,ce,Yi,null,Qt),pe()),j[0]&8&&Pe(X,"_is-display-from-system",R[3])},i(R){if(!ue){for(let j=0;j<be.length;j+=1)te(c[j]);for(let j=0;j<we.length;j+=1)te(fe[j]);ue=!0}},o(R){for(let j=0;j<c.length;j+=1)ie(c[j]);for(let j=0;j<fe.length;j+=1)ie(fe[j]);ue=!1},d(R){R&&p(e);for(let j=0;j<y.length;j+=1)y[j].d();for(let j=0;j<c.length;j+=1)c[j].d();R&&p(D),R&&p(U);for(let j=0;j<oe.length;j+=1)oe[j].d();for(let j=0;j<fe.length;j+=1)fe[j].d()}}}function ps(i,e,l){let t,o,r,f,n,{isDisplaySubTotal:s}=e,{isDisplayFromSystem:_}=e,{isUnsavedChanges:a}=e,{readOnly:m}=e,{staff:u=[]}=e,{contractors:k=[]}=e,{incidents:N=[]}=e,{month:C}=e,{year:y}=e;function H(){l(14,a=!0)}function w(c,b,D,U){i.$$.not_equal(b.incidents[D].manHours[U].total.hours,c)&&(b.incidents[D].manHours[U].total.hours=c,l(0,u))}function P(c,b,D,U){i.$$.not_equal(b.incidents[D].manHours[U].total.hours,c)&&(b.incidents[D].manHours[U].total.hours=c,l(1,k))}return i.$$set=c=>{"isDisplaySubTotal"in c&&l(2,s=c.isDisplaySubTotal),"isDisplayFromSystem"in c&&l(3,_=c.isDisplayFromSystem),"isUnsavedChanges"in c&&l(14,a=c.isUnsavedChanges),"readOnly"in c&&l(4,m=c.readOnly),"staff"in c&&l(0,u=c.staff),"contractors"in c&&l(1,k=c.contractors),"incidents"in c&&l(5,N=c.incidents),"month"in c&&l(6,C=c.month),"year"in c&&l(7,y=c.year)},i.$$.update=()=>{i.$$.dirty[0]&3&&l(11,o=(c,b=!1,D=!1)=>{let U={top:0,tes:0,male:0,female:0,total:0};return(b?k:u).forEach(V=>{V.incidents[c].manHours.forEach(O=>{Object.entries(O).forEach(S=>{var Z,J;U[S[0]]?U[S[0]]+=((Z=S[1])==null?void 0:Z[D?"systemHours":"hours"])||0:U[S[0]]=((J=S[1])==null?void 0:J[D?"systemHours":"hours"])||0})})}),U}),i.$$.dirty[0]&3&&l(10,r=(c,b,D=!1,U=!1)=>{let z={total:0};return(D?k:u).forEach(O=>{O.incidents[c].manHours[b]&&Object.entries(O.incidents[c].manHours[b]).forEach(S=>{var Z,J;z[S[0]]?z[S[0]]+=((Z=S[1])==null?void 0:Z[U?"systemHours":"hours"])||0:z[S[0]]=((J=S[1])==null?void 0:J[U?"systemHours":"hours"])||0})}),z})},l(12,t=(c,b,D=!1)=>{let U=b.incidents[c].manHours.map(z=>(D?z==null?void 0:z.total.systemHours:z==null?void 0:z.total.hours)||0).reduce((z,V)=>z+V,0);return U?E(U):0}),l(9,f=(c,b,D,U=!1)=>{let z=D.incidents[c].manHours.slice(b-1,b+1).map(V=>(U?V==null?void 0:V.total.systemHours:V==null?void 0:V.total.hours)||0).reduce((V,O)=>V+O,0);return z?E(z):0}),l(8,n=(c,b,D,U=!1)=>{let z=D.map(V=>V.incidents[c].manHours.slice(b-1,b+1).map(O=>(U?O==null?void 0:O.total.systemHours:O==null?void 0:O.total.hours)||0).reduce((O,S)=>O+S,0)||0).reduce((V,O)=>V+O,0);return z?E(z):0}),[u,k,s,_,m,N,C,y,n,f,r,o,t,H,a,w,P]}class bs extends Be{constructor(e){super();Ge(this,e,ps,ds,Je,{isDisplaySubTotal:2,isDisplayFromSystem:3,isUnsavedChanges:14,readOnly:4,staff:0,contractors:1,incidents:5,month:6,year:7},null,[-1,-1])}}function zi(i,e,l){const t=i.slice();return t[15]=e[l],t[16]=e,t[17]=l,t}function Vi(i,e,l){const t=i.slice();return t[18]=e[l],t[19]=e,t[20]=l,t}function Qi(i,e,l){const t=i.slice();return t[21]=e[l],t[23]=l,t}function Wi(i,e,l){const t=i.slice();return t[21]=e[l],t[24]=e,t[23]=l,t}function Xi(i,e,l){const t=i.slice();return t[21]=e[l],t[26]=l,t}function $i(i,e,l){const t=i.slice();return t[21]=e[l],t[20]=l,t}function gi(i,e,l){const t=i.slice();return t[15]=e[l],t[28]=e,t[17]=l,t}function xi(i,e,l){const t=i.slice();return t[18]=e[l],t[29]=e,t[20]=l,t}function en(i,e,l){const t=i.slice();return t[30]=e[l],t[23]=l,t}function ln(i,e,l){const t=i.slice();return t[30]=e[l],t[32]=e,t[23]=l,t}function tn(i,e,l){const t=i.slice();return t[30]=e[l],t[26]=l,t}function nn(i,e,l){const t=i.slice();return t[30]=e[l],t[20]=l,t}function sn(i){let e;return{c(){e=v("th"),e.textContent="Total",T(e,"class","_head-col _plant-total")},m(l,t){d(l,e,t)},d(l){l&&p(e)}}}function fn(i,e){let l,t=e[30].company.name+"",o,r,f,n=e[0].length-1===e[20]&&e[2]&&sn();return{key:i,first:null,c(){l=v("th"),o=F(t),r=M(),n&&n.c(),f=q(),T(l,"class","_head-col _extend"),this.first=l},m(s,_){d(s,l,_),h(l,o),d(s,r,_),n&&n.m(s,_),d(s,f,_)},p(s,_){e=s,_[0]&1&&t!==(t=e[30].company.name+"")&&I(o,t),e[0].length-1===e[20]&&e[2]?n||(n=sn(),n.c(),n.m(f.parentNode,f)):n&&(n.d(1),n=null)},d(s){s&&p(l),s&&p(r),n&&n.d(s),s&&p(f)}}}function on(i){let e;return{c(){e=v("tr"),e.innerHTML='<td class="_col _space"></td>'},m(l,t){d(l,e,t)},d(l){l&&p(e)}}}function _n(i){let e,l=E(i[9](i[17]).total)+"",t;return{c(){e=v("td"),t=F(l),T(e,"class","_col _indicator-total")},m(o,r){d(o,e,r),h(e,t)},p(o,r){r[0]&544&&l!==(l=E(o[9](o[17]).total)+"")&&I(t,l)},d(o){o&&p(e)}}}function un(i,e){let l,t=e[10](e[17],e[30])+"",o,r,f,n=e[0].length-1===e[26]&&e[2]&&_n(e);return{key:i,first:null,c(){l=v("td"),o=F(t),r=M(),n&&n.c(),f=q(),T(l,"class","_col _indicator-total"),this.first=l},m(s,_){d(s,l,_),h(l,o),d(s,r,_),n&&n.m(s,_),d(s,f,_)},p(s,_){e=s,_[0]&1057&&t!==(t=e[10](e[17],e[30])+"")&&I(o,t),e[0].length-1===e[26]&&e[2]?n?n.p(e,_):(n=_n(e),n.c(),n.m(f.parentNode,f)):n&&(n.d(1),n=null)},d(s){s&&p(l),s&&p(r),n&&n.d(s),s&&p(f)}}}function ks(i){let e;return{c(){e=v("td"),e.textContent="0"},m(l,t){d(l,e,t)},p:ke,i:ke,o:ke,d(l){l&&p(e)}}}function cs(i){let e,l,t,o;function r(n){i[13](n,i[30],i[17],i[20])}let f={name:"total",input:i[11],disabled:i[4]};return i[30].incidents[i[17]].manHours[i[20]].total.hours!==void 0&&(f.value=i[30].incidents[i[17]].manHours[i[20]].total.hours),l=new Ee({props:f}),ye.push(()=>ve(l,"value",r)),{c(){e=v("td"),Ce(l.$$.fragment)},m(n,s){d(n,e,s),Ne(l,e,null),o=!0},p(n,s){i=n;const _={};s[0]&16&&(_.disabled=i[4]),!t&&s[0]&33&&(t=!0,_.value=i[30].incidents[i[17]].manHours[i[20]].total.hours,he(()=>t=!1)),l.$set(_)},i(n){o||(te(l.$$.fragment,n),o=!0)},o(n){ie(l.$$.fragment,n),o=!1},d(n){n&&p(e),Me(l)}}}function an(i){let e,l=E(i[8](i[17],i[20]).total)+"",t;return{c(){e=v("td"),t=F(l),T(e,"class","")},m(o,r){d(o,e,r),h(e,t)},p(o,r){r[0]&288&&l!==(l=E(o[8](o[17],o[20]).total)+"")&&I(t,l)},d(o){o&&p(e)}}}function rn(i,e){let l,t,o,r,f,n;const s=[cs,ks],_=[];function a(u,k){return u[30].incidents[u[17]].manHours[u[20]]?0:1}t=a(e),o=_[t]=s[t](e);let m=e[0].length-1===e[23]&&e[2]&&an(e);return{key:i,first:null,c(){l=q(),o.c(),r=M(),m&&m.c(),f=q(),this.first=l},m(u,k){d(u,l,k),_[t].m(u,k),d(u,r,k),m&&m.m(u,k),d(u,f,k),n=!0},p(u,k){e=u;let N=t;t=a(e),t===N?_[t].p(e,k):(de(),ie(_[N],1,1,()=>{_[N]=null}),pe(),o=_[t],o?o.p(e,k):(o=_[t]=s[t](e),o.c()),te(o,1),o.m(r.parentNode,r)),e[0].length-1===e[23]&&e[2]?m?m.p(e,k):(m=an(e),m.c(),m.m(f.parentNode,f)):m&&(m.d(1),m=null)},i(u){n||(te(o),n=!0)},o(u){ie(o),n=!1},d(u){u&&p(l),_[t].d(u),u&&p(r),m&&m.d(u),u&&p(f)}}}function mn(i){let e=[],l=new Map,t,o=i[0];const r=f=>`${f[30].id}_${f[20]}`;for(let f=0;f<o.length;f+=1){let n=en(i,o,f),s=r(n);l.set(s,e[f]=pn(s,n))}return{c(){for(let f=0;f<e.length;f+=1)e[f].c();t=q()},m(f,n){for(let s=0;s<e.length;s+=1)e[s].m(f,n);d(f,t,n)},p(f,n){n[0]&293&&(o=f[0],e=ee(e,n,r,1,f,o,l,t.parentNode,_e,pn,t,en))},d(f){for(let n=0;n<e.length;n+=1)e[n].d(f);f&&p(t)}}}function ys(i){let e;return{c(){e=v("td"),e.textContent="0"},m(l,t){d(l,e,t)},p:ke,d(l){l&&p(e)}}}function vs(i){let e,l=E(i[30].incidents[i[17]].manHours[i[20]].total.systemHours)+"",t;return{c(){e=v("td"),t=F(l)},m(o,r){d(o,e,r),h(e,t)},p(o,r){r[0]&33&&l!==(l=E(o[30].incidents[o[17]].manHours[o[20]].total.systemHours)+"")&&I(t,l)},d(o){o&&p(e)}}}function dn(i){let e,l=E(i[8](i[17],i[20],!1,!0).total)+"",t;return{c(){e=v("td"),t=F(l),T(e,"class","")},m(o,r){d(o,e,r),h(e,t)},p(o,r){r[0]&288&&l!==(l=E(o[8](o[17],o[20],!1,!0).total)+"")&&I(t,l)},d(o){o&&p(e)}}}function pn(i,e){let l,t,o;function r(_,a){return _[30].incidents[_[17]].manHours[_[20]]?vs:ys}let f=r(e),n=f(e),s=e[0].length-1===e[23]&&e[2]&&dn(e);return{key:i,first:null,c(){l=q(),n.c(),t=M(),s&&s.c(),o=q(),this.first=l},m(_,a){d(_,l,a),n.m(_,a),d(_,t,a),s&&s.m(_,a),d(_,o,a)},p(_,a){e=_,f===(f=r(e))&&n?n.p(e,a):(n.d(1),n=f(e),n&&(n.c(),n.m(t.parentNode,t))),e[0].length-1===e[23]&&e[2]?s?s.p(e,a):(s=dn(e),s.c(),s.m(o.parentNode,o)):s&&(s.d(1),s=null)},d(_){_&&p(l),n.d(_),_&&p(t),s&&s.d(_),_&&p(o)}}}function bn(i,e){let l,t,o=e[18].name+"",r,f,n,s=[],_=new Map,a,m,u,k,N=e[0];const C=H=>`${H[30].id}_${H[20]}`;for(let H=0;H<N.length;H+=1){let w=ln(e,N,H),P=C(w);_.set(P,s[H]=rn(P,w))}let y=e[3]&&mn(e);return{key:i,first:null,c(){l=v("tr"),t=v("td"),r=F(o),n=M();for(let H=0;H<s.length;H+=1)s[H].c();a=M(),m=v("tr"),y&&y.c(),u=M(),T(t,"class","text-left _is-sticky"),T(t,"rowspan",f=e[3]?2:1),T(m,"class","_row _system-cell"),this.first=l},m(H,w){d(H,l,w),h(l,t),h(t,r),h(l,n);for(let P=0;P<s.length;P+=1)s[P].m(l,null);d(H,a,w),d(H,m,w),y&&y.m(m,null),h(m,u),k=!0},p(H,w){e=H,(!k||w[0]&32)&&o!==(o=e[18].name+"")&&I(r,o),(!k||w[0]&8&&f!==(f=e[3]?2:1))&&T(t,"rowspan",f),w[0]&2357&&(N=e[0],de(),s=ee(s,w,C,1,e,N,_,l,ce,rn,null,ln),pe()),e[3]?y?y.p(e,w):(y=mn(e),y.c(),y.m(m,u)):y&&(y.d(1),y=null)},i(H){if(!k){for(let w=0;w<N.length;w+=1)te(s[w]);k=!0}},o(H){for(let w=0;w<s.length;w+=1)ie(s[w]);k=!1},d(H){H&&p(l);for(let w=0;w<s.length;w+=1)s[w].d();H&&p(a),H&&p(m),y&&y.d()}}}function kn(i,e){let l,t,o,r,f=e[15].name+"",n,s,_=[],a=new Map,m,u=[],k=new Map,N,C,y=e[17]>0&&on(),H=e[0];const w=b=>`${b[30].id}_${b[17]}`;for(let b=0;b<H.length;b+=1){let D=tn(e,H,b),U=w(D);a.set(U,_[b]=un(U,D))}let P=e[15].incidentCases;const c=b=>b[18].id;for(let b=0;b<P.length;b+=1){let D=xi(e,P,b),U=c(D);k.set(U,u[b]=bn(U,D))}return{key:i,first:null,c(){l=q(),y&&y.c(),t=M(),o=v("tr"),r=v("td"),n=F(f),s=M();for(let b=0;b<_.length;b+=1)_[b].c();m=M();for(let b=0;b<u.length;b+=1)u[b].c();N=q(),T(r,"class","_col _indicator-total text-left _is-sticky"),this.first=l},m(b,D){d(b,l,D),y&&y.m(b,D),d(b,t,D),d(b,o,D),h(o,r),h(r,n),h(o,s);for(let U=0;U<_.length;U+=1)_[U].m(o,null);d(b,m,D);for(let U=0;U<u.length;U+=1)u[U].m(b,D);d(b,N,D),C=!0},p(b,D){e=b,e[17]>0?y||(y=on(),y.c(),y.m(t.parentNode,t)):y&&(y.d(1),y=null),(!C||D[0]&32)&&f!==(f=e[15].name+"")&&I(n,f),D[0]&1573&&(H=e[0],_=ee(_,D,w,1,e,H,a,o,_e,un,null,tn)),D[0]&2365&&(P=e[15].incidentCases,de(),u=ee(u,D,c,1,e,P,k,N.parentNode,ce,bn,N,xi),pe())},i(b){if(!C){for(let D=0;D<P.length;D+=1)te(u[D]);C=!0}},o(b){for(let D=0;D<u.length;D+=1)ie(u[D]);C=!1},d(b){b&&p(l),y&&y.d(b),b&&p(t),b&&p(o);for(let D=0;D<_.length;D+=1)_[D].d();b&&p(m);for(let D=0;D<u.length;D+=1)u[D].d(b);b&&p(N)}}}function cn(i){let e;return{c(){e=v("th"),e.textContent="Total",T(e,"class","_head-col _plant-total")},m(l,t){d(l,e,t)},d(l){l&&p(e)}}}function yn(i,e){let l,t=e[21].company.name+"",o,r,f,n=e[1].length-1===e[20]&&e[2]&&cn();return{key:i,first:null,c(){l=v("th"),o=F(t),r=M(),n&&n.c(),f=q(),T(l,"class","_head-col _extend"),this.first=l},m(s,_){d(s,l,_),h(l,o),d(s,r,_),n&&n.m(s,_),d(s,f,_)},p(s,_){e=s,_[0]&2&&t!==(t=e[21].company.name+"")&&I(o,t),e[1].length-1===e[20]&&e[2]?n||(n=cn(),n.c(),n.m(f.parentNode,f)):n&&(n.d(1),n=null)},d(s){s&&p(l),s&&p(r),n&&n.d(s),s&&p(f)}}}function vn(i){let e;return{c(){e=v("tr"),e.innerHTML='<td class="_col _space"></td>'},m(l,t){d(l,e,t)},d(l){l&&p(e)}}}function hn(i){let e,l=E(i[9](i[17],!0).total)+"",t;return{c(){e=v("td"),t=F(l),T(e,"class","_col _indicator-total")},m(o,r){d(o,e,r),h(e,t)},p(o,r){r[0]&544&&l!==(l=E(o[9](o[17],!0).total)+"")&&I(t,l)},d(o){o&&p(e)}}}function Hn(i,e){let l,t=e[10](e[17],e[21])+"",o,r,f,n=e[1].length-1===e[26]&&e[2]&&hn(e);return{key:i,first:null,c(){l=v("td"),o=F(t),r=M(),n&&n.c(),f=q(),T(l,"class","_col _indicator-total"),this.first=l},m(s,_){d(s,l,_),h(l,o),d(s,r,_),n&&n.m(s,_),d(s,f,_)},p(s,_){e=s,_[0]&1058&&t!==(t=e[10](e[17],e[21])+"")&&I(o,t),e[1].length-1===e[26]&&e[2]?n?n.p(e,_):(n=hn(e),n.c(),n.m(f.parentNode,f)):n&&(n.d(1),n=null)},d(s){s&&p(l),s&&p(r),n&&n.d(s),s&&p(f)}}}function hs(i){let e;return{c(){e=v("td"),e.textContent="0"},m(l,t){d(l,e,t)},p:ke,i:ke,o:ke,d(l){l&&p(e)}}}function Hs(i){let e,l,t,o;function r(n){i[14](n,i[21],i[17],i[20])}let f={name:"total",input:i[11],disabled:i[4]};return i[21].incidents[i[17]].manHours[i[20]].total.hours!==void 0&&(f.value=i[21].incidents[i[17]].manHours[i[20]].total.hours),l=new Ee({props:f}),ye.push(()=>ve(l,"value",r)),{c(){e=v("td"),Ce(l.$$.fragment)},m(n,s){d(n,e,s),Ne(l,e,null),o=!0},p(n,s){i=n;const _={};s[0]&16&&(_.disabled=i[4]),!t&&s[0]&34&&(t=!0,_.value=i[21].incidents[i[17]].manHours[i[20]].total.hours,he(()=>t=!1)),l.$set(_)},i(n){o||(te(l.$$.fragment,n),o=!0)},o(n){ie(l.$$.fragment,n),o=!1},d(n){n&&p(e),Me(l)}}}function wn(i){let e,l=E(i[8](i[17],i[20],!0).total)+"",t;return{c(){e=v("td"),t=F(l),T(e,"class","")},m(o,r){d(o,e,r),h(e,t)},p(o,r){r[0]&288&&l!==(l=E(o[8](o[17],o[20],!0).total)+"")&&I(t,l)},d(o){o&&p(e)}}}function Tn(i,e){let l,t,o,r,f,n;const s=[Hs,hs],_=[];function a(u,k){return u[21].incidents[u[17]].manHours[u[20]]?0:1}t=a(e),o=_[t]=s[t](e);let m=e[1].length-1===e[23]&&e[2]&&wn(e);return{key:i,first:null,c(){l=q(),o.c(),r=M(),m&&m.c(),f=q(),this.first=l},m(u,k){d(u,l,k),_[t].m(u,k),d(u,r,k),m&&m.m(u,k),d(u,f,k),n=!0},p(u,k){e=u;let N=t;t=a(e),t===N?_[t].p(e,k):(de(),ie(_[N],1,1,()=>{_[N]=null}),pe(),o=_[t],o?o.p(e,k):(o=_[t]=s[t](e),o.c()),te(o,1),o.m(r.parentNode,r)),e[1].length-1===e[23]&&e[2]?m?m.p(e,k):(m=wn(e),m.c(),m.m(f.parentNode,f)):m&&(m.d(1),m=null)},i(u){n||(te(o),n=!0)},o(u){ie(o),n=!1},d(u){u&&p(l),_[t].d(u),u&&p(r),m&&m.d(u),u&&p(f)}}}function Cn(i){let e=[],l=new Map,t,o=i[1];const r=f=>`${f[21].id}_${f[20]}`;for(let f=0;f<o.length;f+=1){let n=Qi(i,o,f),s=r(n);l.set(s,e[f]=Mn(s,n))}return{c(){for(let f=0;f<e.length;f+=1)e[f].c();t=q()},m(f,n){for(let s=0;s<e.length;s+=1)e[s].m(f,n);d(f,t,n)},p(f,n){n[0]&294&&(o=f[1],e=ee(e,n,r,1,f,o,l,t.parentNode,_e,Mn,t,Qi))},d(f){for(let n=0;n<e.length;n+=1)e[n].d(f);f&&p(t)}}}function ws(i){let e;return{c(){e=v("td"),e.textContent="0"},m(l,t){d(l,e,t)},p:ke,d(l){l&&p(e)}}}function Ts(i){let e,l=E(i[21].incidents[i[17]].manHours[i[20]].total.systemHours)+"",t;return{c(){e=v("td"),t=F(l)},m(o,r){d(o,e,r),h(e,t)},p(o,r){r[0]&34&&l!==(l=E(o[21].incidents[o[17]].manHours[o[20]].total.systemHours)+"")&&I(t,l)},d(o){o&&p(e)}}}function Nn(i){let e,l=E(i[8](i[17],i[20],!0,!0).total)+"",t;return{c(){e=v("td"),t=F(l),T(e,"class","")},m(o,r){d(o,e,r),h(e,t)},p(o,r){r[0]&288&&l!==(l=E(o[8](o[17],o[20],!0,!0).total)+"")&&I(t,l)},d(o){o&&p(e)}}}function Mn(i,e){let l,t,o;function r(_,a){return _[21].incidents[_[17]].manHours[_[20]]?Ts:ws}let f=r(e),n=f(e),s=e[1].length-1===e[23]&&e[2]&&Nn(e);return{key:i,first:null,c(){l=q(),n.c(),t=M(),s&&s.c(),o=q(),this.first=l},m(_,a){d(_,l,a),n.m(_,a),d(_,t,a),s&&s.m(_,a),d(_,o,a)},p(_,a){e=_,f===(f=r(e))&&n?n.p(e,a):(n.d(1),n=f(e),n&&(n.c(),n.m(t.parentNode,t))),e[1].length-1===e[23]&&e[2]?s?s.p(e,a):(s=Nn(e),s.c(),s.m(o.parentNode,o)):s&&(s.d(1),s=null)},d(_){_&&p(l),n.d(_),_&&p(t),s&&s.d(_),_&&p(o)}}}function Dn(i,e){let l,t,o=e[18].name+"",r,f,n,s=[],_=new Map,a,m,u,k,N=e[1];const C=H=>`${H[21].id}_${H[20]}`;for(let H=0;H<N.length;H+=1){let w=Wi(e,N,H),P=C(w);_.set(P,s[H]=Tn(P,w))}let y=e[3]&&Cn(e);return{key:i,first:null,c(){l=v("tr"),t=v("td"),r=F(o),n=M();for(let H=0;H<s.length;H+=1)s[H].c();a=M(),m=v("tr"),y&&y.c(),u=M(),T(t,"class","text-left _is-sticky"),T(t,"rowspan",f=e[3]?2:1),T(m,"class","_row _system-cell"),this.first=l},m(H,w){d(H,l,w),h(l,t),h(t,r),h(l,n);for(let P=0;P<s.length;P+=1)s[P].m(l,null);d(H,a,w),d(H,m,w),y&&y.m(m,null),h(m,u),k=!0},p(H,w){e=H,(!k||w[0]&32)&&o!==(o=e[18].name+"")&&I(r,o),(!k||w[0]&8&&f!==(f=e[3]?2:1))&&T(t,"rowspan",f),w[0]&2358&&(N=e[1],de(),s=ee(s,w,C,1,e,N,_,l,ce,Tn,null,Wi),pe()),e[3]?y?y.p(e,w):(y=Cn(e),y.c(),y.m(m,u)):y&&(y.d(1),y=null)},i(H){if(!k){for(let w=0;w<N.length;w+=1)te(s[w]);k=!0}},o(H){for(let w=0;w<s.length;w+=1)ie(s[w]);k=!1},d(H){H&&p(l);for(let w=0;w<s.length;w+=1)s[w].d();H&&p(a),H&&p(m),y&&y.d()}}}function Sn(i,e){let l,t,o,r,f=e[15].name+"",n,s,_=[],a=new Map,m,u=[],k=new Map,N,C,y=e[17]>0&&vn(),H=e[1];const w=b=>`${b[21].id}_${b[17]}`;for(let b=0;b<H.length;b+=1){let D=Xi(e,H,b),U=w(D);a.set(U,_[b]=Hn(U,D))}let P=e[15].incidentCases;const c=b=>b[18].id;for(let b=0;b<P.length;b+=1){let D=Vi(e,P,b),U=c(D);k.set(U,u[b]=Dn(U,D))}return{key:i,first:null,c(){l=q(),y&&y.c(),t=M(),o=v("tr"),r=v("td"),n=F(f),s=M();for(let b=0;b<_.length;b+=1)_[b].c();m=M();for(let b=0;b<u.length;b+=1)u[b].c();N=q(),T(r,"class","_col _indicator-total text-left _is-sticky"),this.first=l},m(b,D){d(b,l,D),y&&y.m(b,D),d(b,t,D),d(b,o,D),h(o,r),h(r,n),h(o,s);for(let U=0;U<_.length;U+=1)_[U].m(o,null);d(b,m,D);for(let U=0;U<u.length;U+=1)u[U].m(b,D);d(b,N,D),C=!0},p(b,D){e=b,e[17]>0?y||(y=vn(),y.c(),y.m(t.parentNode,t)):y&&(y.d(1),y=null),(!C||D[0]&32)&&f!==(f=e[15].name+"")&&I(n,f),D[0]&1574&&(H=e[1],_=ee(_,D,w,1,e,H,a,o,_e,Hn,null,Xi)),D[0]&2366&&(P=e[15].incidentCases,de(),u=ee(u,D,c,1,e,P,k,N.parentNode,ce,Dn,N,Vi),pe())},i(b){if(!C){for(let D=0;D<P.length;D+=1)te(u[D]);C=!0}},o(b){for(let D=0;D<u.length;D+=1)ie(u[D]);C=!1},d(b){b&&p(l),y&&y.d(b),b&&p(t),b&&p(o);for(let D=0;D<_.length;D+=1)_[D].d();b&&p(m);for(let D=0;D<u.length;D+=1)u[D].d(b);b&&p(N)}}}function Cs(i){let e,l,t,o,r=De[i[6]]+"",f,n,s,_,a,m,u,k,N,C,y=[],H=new Map,w,P,c=[],b=new Map,D,U,z,V,O,S=De[i[6]]+"",Z,J,Q,Y,K,G,le,W,se,ae,oe=[],re=new Map,A,X,fe=[],me=new Map,ue,$=i[0];const x=R=>R[30].id;for(let R=0;R<$.length;R+=1){let j=nn(i,$,R),g=x(j);H.set(g,y[R]=fn(g,j))}let be=i[5];const Oe=R=>R[15].id;for(let R=0;R<be.length;R+=1){let j=gi(i,be,R),g=Oe(j);b.set(g,c[R]=kn(g,j))}let Te=i[1];const He=R=>R[21].id;for(let R=0;R<Te.length;R+=1){let j=$i(i,Te,R),g=He(j);re.set(g,oe[R]=yn(g,j))}let we=i[5];const Se=R=>R[15].id;for(let R=0;R<we.length;R+=1){let j=zi(i,we,R),g=Se(j);me.set(g,fe[R]=Sn(g,j))}return{c(){e=v("div"),l=v("div"),t=v("div"),o=F("Staff Incident "),f=F(r),n=M(),s=F(i[7]),_=M(),a=v("div"),m=v("table"),u=v("thead"),k=v("tr"),N=v("th"),N.textContent="Incident",C=M();for(let R=0;R<y.length;R+=1)y[R].c();w=M(),P=v("tbody");for(let R=0;R<c.length;R+=1)c[R].c();D=M(),U=v("div"),z=v("div"),V=v("div"),O=F("Contractor Incident "),Z=F(S),J=M(),Q=F(i[7]),Y=M(),K=v("div"),G=v("table"),le=v("thead"),W=v("tr"),se=v("th"),se.textContent="Incident",ae=M();for(let R=0;R<oe.length;R+=1)oe[R].c();A=M(),X=v("tbody");for(let R=0;R<fe.length;R+=1)fe[R].c();T(t,"class","_box-title push-bottom-2"),T(N,"class","_head-col _head-incident-other"),T(P,"class","_incident"),Pe(P,"_is-display-from-system",i[3]),T(a,"class","_table-container"),T(l,"class","box"),T(V,"class","_box-title push-bottom-2 push-top-2"),T(se,"class","_head-col _head-incident-other"),T(X,"class","_incident"),Pe(X,"_is-display-from-system",i[3]),T(K,"class","_table-container"),T(z,"class","box push-top-2")},m(R,j){d(R,e,j),h(e,l),h(l,t),h(t,o),h(t,f),h(t,n),h(t,s),h(l,_),h(l,a),h(a,m),h(m,u),h(u,k),h(k,N),h(k,C);for(let g=0;g<y.length;g+=1)y[g].m(k,null);h(m,w),h(m,P);for(let g=0;g<c.length;g+=1)c[g].m(P,null);d(R,D,j),d(R,U,j),h(U,z),h(z,V),h(V,O),h(V,Z),h(V,J),h(V,Q),h(z,Y),h(z,K),h(K,G),h(G,le),h(le,W),h(W,se),h(W,ae);for(let g=0;g<oe.length;g+=1)oe[g].m(W,null);h(G,A),h(G,X);for(let g=0;g<fe.length;g+=1)fe[g].m(X,null);ue=!0},p(R,j){(!ue||j[0]&64)&&r!==(r=De[R[6]]+"")&&I(f,r),(!ue||j[0]&128)&&I(s,R[7]),j[0]&5&&($=R[0],y=ee(y,j,x,1,R,$,H,k,_e,fn,null,nn)),j[0]&3901&&(be=R[5],de(),c=ee(c,j,Oe,1,R,be,b,P,ce,kn,null,gi),pe()),j[0]&8&&Pe(P,"_is-display-from-system",R[3]),(!ue||j[0]&64)&&S!==(S=De[R[6]]+"")&&I(Z,S),(!ue||j[0]&128)&&I(Q,R[7]),j[0]&6&&(Te=R[1],oe=ee(oe,j,He,1,R,Te,re,W,_e,yn,null,$i)),j[0]&3902&&(we=R[5],de(),fe=ee(fe,j,Se,1,R,we,me,X,ce,Sn,null,zi),pe()),j[0]&8&&Pe(X,"_is-display-from-system",R[3])},i(R){if(!ue){for(let j=0;j<be.length;j+=1)te(c[j]);for(let j=0;j<we.length;j+=1)te(fe[j]);ue=!0}},o(R){for(let j=0;j<c.length;j+=1)ie(c[j]);for(let j=0;j<fe.length;j+=1)ie(fe[j]);ue=!1},d(R){R&&p(e);for(let j=0;j<y.length;j+=1)y[j].d();for(let j=0;j<c.length;j+=1)c[j].d();R&&p(D),R&&p(U);for(let j=0;j<oe.length;j+=1)oe[j].d();for(let j=0;j<fe.length;j+=1)fe[j].d()}}}function Ns(i,e,l){let t,o,r,{isDisplaySubTotal:f}=e,{isDisplayFromSystem:n}=e,{isUnsavedChanges:s}=e,{readOnly:_}=e,{staff:a=[]}=e,{contractors:m=[]}=e,{incidents:u=[]}=e,{month:k}=e,{year:N}=e;function C(){l(12,s=!0)}function y(w,P,c,b){i.$$.not_equal(P.incidents[c].manHours[b].total.hours,w)&&(P.incidents[c].manHours[b].total.hours=w,l(0,a))}function H(w,P,c,b){i.$$.not_equal(P.incidents[c].manHours[b].total.hours,w)&&(P.incidents[c].manHours[b].total.hours=w,l(1,m))}return i.$$set=w=>{"isDisplaySubTotal"in w&&l(2,f=w.isDisplaySubTotal),"isDisplayFromSystem"in w&&l(3,n=w.isDisplayFromSystem),"isUnsavedChanges"in w&&l(12,s=w.isUnsavedChanges),"readOnly"in w&&l(4,_=w.readOnly),"staff"in w&&l(0,a=w.staff),"contractors"in w&&l(1,m=w.contractors),"incidents"in w&&l(5,u=w.incidents),"month"in w&&l(6,k=w.month),"year"in w&&l(7,N=w.year)},i.$$.update=()=>{i.$$.dirty[0]&3&&l(9,o=(w,P=!1,c=!1)=>{let b={top:0,tes:0,male:0,female:0,total:0};return(P?m:a).forEach(U=>{U.incidents[w].manHours.forEach(z=>{Object.entries(z).forEach(V=>{var O,S;b[V[0]]?b[V[0]]+=((O=V[1])==null?void 0:O[c?"systemHours":"hours"])||0:b[V[0]]=((S=V[1])==null?void 0:S[c?"systemHours":"hours"])||0})})}),b}),i.$$.dirty[0]&3&&l(8,r=(w,P,c=!1,b=!1)=>{let D={top:0,tes:0,male:0,female:0,total:0};return(c?m:a).forEach(z=>{z.incidents[w].manHours[P]&&Object.entries(z.incidents[w].manHours[P]).forEach(V=>{var O,S;D[V[0]]?D[V[0]]+=((O=V[1])==null?void 0:O[b?"systemHours":"hours"])||0:D[V[0]]=((S=V[1])==null?void 0:S[b?"systemHours":"hours"])||0})}),D})},l(10,t=(w,P,c=!1)=>{let b=P.incidents[w].manHours.map(D=>(c?D==null?void 0:D.total.systemHours:D==null?void 0:D.total.hours)||0).reduce((D,U)=>D+U,0);return b?E(b):0}),[a,m,f,n,_,u,k,N,r,o,t,C,s,y,H]}class Ms extends Be{constructor(e){super();Ge(this,e,Ns,Cs,Je,{isDisplaySubTotal:2,isDisplayFromSystem:3,isUnsavedChanges:12,readOnly:4,staff:0,contractors:1,incidents:5,month:6,year:7},null,[-1,-1])}}function Pn(i){let e,l,t,o,r,f,n;return{c(){e=v("div"),l=v("label"),t=v("input"),o=M(),r=v("span"),r.textContent="Display from System",T(t,"type","checkbox"),T(l,"class","checkbox is-filled"),T(e,"class","push-right-2")},m(s,_){d(s,e,_),h(e,l),h(l,t),t.checked=i[3],h(l,o),h(l,r),f||(n=xe(t,"change",i[23]),f=!0)},p(s,_){_[0]&8&&(t.checked=s[3])},d(s){s&&p(e),f=!1,n()}}}function Ds(i){let e,l,t,o,r;function f(a){i[30](a)}function n(a){i[31](a)}function s(a){i[32](a)}let _={month:i[12],year:i[11],incidents:i[10].incidents,staff:i[10].staffRestrictedZone,contractors:i[10].contractorRestrictedZone,readOnly:i[5]};return i[2]!==void 0&&(_.isDisplaySubTotal=i[2]),i[3]!==void 0&&(_.isDisplayFromSystem=i[3]),i[1]!==void 0&&(_.isUnsavedChanges=i[1]),e=new Ms({props:_}),ye.push(()=>ve(e,"isDisplaySubTotal",f)),ye.push(()=>ve(e,"isDisplayFromSystem",n)),ye.push(()=>ve(e,"isUnsavedChanges",s)),{c(){Ce(e.$$.fragment)},m(a,m){Ne(e,a,m),r=!0},p(a,m){const u={};m[0]&4096&&(u.month=a[12]),m[0]&2048&&(u.year=a[11]),m[0]&1024&&(u.incidents=a[10].incidents),m[0]&1024&&(u.staff=a[10].staffRestrictedZone),m[0]&1024&&(u.contractors=a[10].contractorRestrictedZone),m[0]&32&&(u.readOnly=a[5]),!l&&m[0]&4&&(l=!0,u.isDisplaySubTotal=a[2],he(()=>l=!1)),!t&&m[0]&8&&(t=!0,u.isDisplayFromSystem=a[3],he(()=>t=!1)),!o&&m[0]&2&&(o=!0,u.isUnsavedChanges=a[1],he(()=>o=!1)),e.$set(u)},i(a){r||(te(e.$$.fragment,a),r=!0)},o(a){ie(e.$$.fragment,a),r=!1},d(a){Me(e,a)}}}function Ss(i){let e,l,t,o,r;function f(a){i[27](a)}function n(a){i[28](a)}function s(a){i[29](a)}let _={month:i[12],year:i[11],incidents:i[9].incidents,staff:i[9].staffRestrictedZone,contractors:i[9].contractorRestrictedZone,readOnly:i[5]};return i[2]!==void 0&&(_.isDisplaySubTotal=i[2]),i[3]!==void 0&&(_.isDisplayFromSystem=i[3]),i[1]!==void 0&&(_.isUnsavedChanges=i[1]),e=new bs({props:_}),ye.push(()=>ve(e,"isDisplaySubTotal",f)),ye.push(()=>ve(e,"isDisplayFromSystem",n)),ye.push(()=>ve(e,"isUnsavedChanges",s)),{c(){Ce(e.$$.fragment)},m(a,m){Ne(e,a,m),r=!0},p(a,m){const u={};m[0]&4096&&(u.month=a[12]),m[0]&2048&&(u.year=a[11]),m[0]&512&&(u.incidents=a[9].incidents),m[0]&512&&(u.staff=a[9].staffRestrictedZone),m[0]&512&&(u.contractors=a[9].contractorRestrictedZone),m[0]&32&&(u.readOnly=a[5]),!l&&m[0]&4&&(l=!0,u.isDisplaySubTotal=a[2],he(()=>l=!1)),!t&&m[0]&8&&(t=!0,u.isDisplayFromSystem=a[3],he(()=>t=!1)),!o&&m[0]&2&&(o=!0,u.isUnsavedChanges=a[1],he(()=>o=!1)),e.$set(u)},i(a){r||(te(e.$$.fragment,a),r=!0)},o(a){ie(e.$$.fragment,a),r=!1},d(a){Me(e,a)}}}function Ps(i){let e,l,t,o,r;function f(a){i[24](a)}function n(a){i[25](a)}function s(a){i[26](a)}let _={month:i[12],year:i[11],incidents:i[8].incidents,staff:i[8].staffRestrictedZone,contractors:i[8].contractorRestrictedZone,readOnly:i[5]};return i[2]!==void 0&&(_.isDisplaySubTotal=i[2]),i[3]!==void 0&&(_.isDisplayFromSystem=i[3]),i[1]!==void 0&&(_.isUnsavedChanges=i[1]),e=new ns({props:_}),ye.push(()=>ve(e,"isDisplaySubTotal",f)),ye.push(()=>ve(e,"isDisplayFromSystem",n)),ye.push(()=>ve(e,"isUnsavedChanges",s)),{c(){Ce(e.$$.fragment)},m(a,m){Ne(e,a,m),r=!0},p(a,m){const u={};m[0]&4096&&(u.month=a[12]),m[0]&2048&&(u.year=a[11]),m[0]&256&&(u.incidents=a[8].incidents),m[0]&256&&(u.staff=a[8].staffRestrictedZone),m[0]&256&&(u.contractors=a[8].contractorRestrictedZone),m[0]&32&&(u.readOnly=a[5]),!l&&m[0]&4&&(l=!0,u.isDisplaySubTotal=a[2],he(()=>l=!1)),!t&&m[0]&8&&(t=!0,u.isDisplayFromSystem=a[3],he(()=>t=!1)),!o&&m[0]&2&&(o=!0,u.isUnsavedChanges=a[1],he(()=>o=!1)),e.$set(u)},i(a){r||(te(e.$$.fragment,a),r=!0)},o(a){ie(e.$$.fragment,a),r=!1},d(a){Me(e,a)}}}function Os(i){let e,l,t,o,r,f,n,s,_,a,m,u,k,N,C,y,H,w,P,c,b,D,U,z,V,O,S,Z,J,Q,Y,K,G,le,W,se;l=new On({props:{isShow:i[4]}}),n=new Fn({props:{activeTab:i[13],tabs:jn,isUnsavedChanges:!1}}),a=new qn({props:{activeTab:i[0],tabs:Un,isUnsavedChanges:!1}}),a.$on("tabChange",i[16]);function ae($){i[20]($)}let oe={label:"Year",name:"year",options:i[14],change:i[18],isHorizontal:!0};i[11]!==void 0&&(oe.value=i[11]),N=new $e({props:oe}),ye.push(()=>ve(N,"value",ae));function re($){i[21]($)}let A={label:"Month",name:"month",options:i[15],change:i[18],isHorizontal:!0};i[12]!==void 0&&(A.value=i[12]),H=new $e({props:A}),ye.push(()=>ve(H,"value",re));let X=!i[7]&&Pn(i);Q=new Zn({props:{onExport:i[19],isExport:i[6],canEdit:!i[5],onSave:i[17]}});const fe=[Ps,Ss,Ds],me=[];function ue($,x){return $[0]===Ae.PersonalInjury?0:$[0]===Ae.ProcessSafetyIncident?1:$[0]===Ae.OtherIncident?2:-1}return~(K=ue(i))&&(G=me[K]=fe[K](i)),{c(){e=v("main"),Ce(l.$$.fragment),t=M(),o=v("div"),o.textContent="Incident",r=M(),f=v("div"),Ce(n.$$.fragment),s=M(),_=v("div"),Ce(a.$$.fragment),m=M(),u=v("div"),k=v("div"),Ce(N.$$.fragment),y=M(),Ce(H.$$.fragment),P=M(),c=v("div"),b=v("div"),D=v("div"),U=v("label"),z=v("input"),V=M(),O=v("span"),O.textContent="Display Sub Total",S=M(),X&&X.c(),Z=M(),J=v("div"),Ce(Q.$$.fragment),Y=M(),G&&G.c(),T(o,"class","text-center text-weight-bold push-bottom-3 _title svelte-1k6ldyi"),T(f,"class","push-bottom-3"),T(_,"class","push-bottom-3"),T(z,"type","checkbox"),T(U,"class","checkbox is-filled"),T(D,"class","push-right-2"),T(b,"class","is-flex is-align-center"),T(c,"class","is-flex is-align-center text-size-medium"),T(k,"class","is-flex"),T(u,"class","_filter-wrapper push-bottom-3 svelte-1k6ldyi"),T(e,"class","_data-management")},m($,x){d($,e,x),Ne(l,e,null),h(e,t),h(e,o),h(e,r),h(e,f),Ne(n,f,null),h(e,s),h(e,_),Ne(a,_,null),h(e,m),h(e,u),h(u,k),Ne(N,k,null),h(k,y),Ne(H,k,null),h(k,P),h(k,c),h(c,b),h(b,D),h(D,U),h(U,z),z.checked=i[2],h(U,V),h(U,O),h(b,S),X&&X.m(b,null),h(u,Z),h(u,J),Ne(Q,J,null),h(e,Y),~K&&me[K].m(e,null),le=!0,W||(se=xe(z,"change",i[22]),W=!0)},p($,x){const be={};x[0]&16&&(be.isShow=$[4]),l.$set(be);const Oe={};x[0]&1&&(Oe.activeTab=$[0]),a.$set(Oe);const Te={};!C&&x[0]&2048&&(C=!0,Te.value=$[11],he(()=>C=!1)),N.$set(Te);const He={};!w&&x[0]&4096&&(w=!0,He.value=$[12],he(()=>w=!1)),H.$set(He),x[0]&4&&(z.checked=$[2]),$[7]?X&&(X.d(1),X=null):X?X.p($,x):(X=Pn($),X.c(),X.m(b,null));const we={};x[0]&64&&(we.isExport=$[6]),x[0]&32&&(we.canEdit=!$[5]),Q.$set(we);let Se=K;K=ue($),K===Se?~K&&me[K].p($,x):(G&&(de(),ie(me[Se],1,1,()=>{me[Se]=null}),pe()),~K?(G=me[K],G?G.p($,x):(G=me[K]=fe[K]($),G.c()),te(G,1),G.m(e,null)):G=null)},i($){le||(te(l.$$.fragment,$),te(n.$$.fragment,$),te(a.$$.fragment,$),te(N.$$.fragment,$),te(H.$$.fragment,$),te(Q.$$.fragment,$),te(G),le=!0)},o($){ie(l.$$.fragment,$),ie(n.$$.fragment,$),ie(a.$$.fragment,$),ie(N.$$.fragment,$),ie(H.$$.fragment,$),ie(Q.$$.fragment,$),ie(G),le=!1},d($){$&&p(e),Me(l),Me(n),Me(a),Me(N),Me(H),X&&X.d(),Me(Q),~K&&me[K].d(),W=!1,se()}}}function Fs(i,e,l){let t=Ae.PersonalInjury,o=Ln.RestrictedZone,r=!1,f=!1,n=!1,s=!0,_=!1,a=!1,m=!1,u={},k={},N={};const C=new Date,y=C.getFullYear(),H=En();let w=y;const P=C.getMonth(),c=De.map((A,X)=>({id:X,name:A}));let b=P;Rn(async()=>{window.addEventListener("beforeunload",D),window.getData=()=>{const A=JSON.parse(document.getElementById("rawData").innerText);l(8,u.contractorRestrictedZone=A.personalInjury.contractorRestrictedZone,u),l(8,u.staffRestrictedZone=A.personalInjury.staffRestrictedZone,u),l(8,u.incidents=A.personalInjury.incidents,u),l(9,k.contractorRestrictedZone=A.processSafetyIncident.contractorRestrictedZone,k),l(9,k.staffRestrictedZone=A.processSafetyIncident.staffRestrictedZone,k),l(9,k.incidents=A.processSafetyIncident.incidents,k),l(10,N.contractorRestrictedZone=A.otherIncident.contractorRestrictedZone,N),l(10,N.staffRestrictedZone=A.otherIncident.staffRestrictedZone,N),l(10,N.incidents=A.otherIncident.incidents,N),l(5,_=A.readOnly),l(6,a=A.isExport),l(7,m=A.isHideDisplay),l(4,s=!1)},window.getData()});function D(A){if(r)if(A)A.returnValue="Changes you made may not be saved.";else return confirm("Changes you made may not be saved.");return!0}function U(A){l(0,t=A.detail),l(2,f=!1),l(3,n=!1)}function z(){l(1,r=!1);const A={data:{personalInjury:u,processSafetyIncident:k,otherIncident:N},filterData:{year:w,month:b+1},dataManagementName:"IncidentRestrictedZone"};console.log("saveData",A),console.log(JSON.stringify(A)),l(4,s=!0),window.PerformSave(JSON.stringify(A))}function V(){if(r&&!confirm("Changes you made may not be saved."))return null;const A={year:w,month:b+1,dataManagementName:"IncidentRestrictedZone"};console.log(A),console.log(JSON.stringify(A)),l(4,s=!0),window.PerformSearch(JSON.stringify(A))}function O(){const A={year:w,month:b,finalData:ge(0)+ge(1),dataManagementName:"IncidentRestrictedZone"};console.log("onExport",JSON.stringify(A)),window.PerformExport(JSON.stringify(A))}function S(A){w=A,l(11,w)}function Z(A){b=A,l(12,b)}function J(){f=this.checked,l(2,f)}function Q(){n=this.checked,l(3,n)}function Y(A){f=A,l(2,f)}function K(A){n=A,l(3,n)}function G(A){r=A,l(1,r)}function le(A){f=A,l(2,f)}function W(A){n=A,l(3,n)}function se(A){r=A,l(1,r)}function ae(A){f=A,l(2,f)}function oe(A){n=A,l(3,n)}function re(A){r=A,l(1,r)}return[t,r,f,n,s,_,a,m,u,k,N,w,b,o,H,c,U,z,V,O,S,Z,J,Q,Y,K,G,le,W,se,ae,oe,re]}class Es extends Be{constructor(e){super();Ge(this,e,Fs,Os,Je,{},null,[-1,-1])}}new Es({target:document.getElementById("app")});
