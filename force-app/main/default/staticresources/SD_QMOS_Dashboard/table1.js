import{T as ve}from"./Tabs.js";import{S as ye,i as ge,s as we,e as o,a as N,d as R,b as ee,c as te,f,g as m,t as J,h as ke,j as t,k as P,l as le,m as q,n as Q,o as I,r as De,p as se,q as ne,u as ae,v as Se,w as ie,x as oe,y as ue,z as Ce,A as Te,B as Ae}from"./vendor.js";import{D as Be}from"./DisplayOption.js";function fe(a,e,l){const s=a.slice();return s[15]=e[l],s[16]=e,s[17]=l,s}function re(a){let e;return{c(){e=o("div"),e.textContent="Unsaved Changes"},m(l,s){N(l,e,s)},d(l){l&&R(e)}}}function de(a){let e;return{c(){e=o("th"),e.textContent="Total",f(e,"class","_total-cell svelte-7wd0ln")},m(l,s){N(l,e,s)},d(l){l&&R(e)}}}function pe(a){let e,l=a[15].total+"",s;return{c(){e=o("td"),s=J(l),f(e,"class","_total-cell _disabled-cell svelte-7wd0ln")},m(p,u){N(p,e,u),t(e,s)},p(p,u){u&8&&l!==(l=p[15].total+"")&&I(s,l)},d(p){p&&R(e)}}}function _e(a){let e,l,s=a[15].systemA+"",p,u,c,h=a[15].systemOperator+"",r,B,b,w=a[15].systemB+"",v,D,_,k,O=a[15].systemResult+"",S,n=a[1]&&ce(a);return{c(){e=o("tr"),l=o("td"),p=J(s),u=m(),c=o("td"),r=J(h),B=m(),b=o("td"),v=J(w),D=m(),n&&n.c(),_=m(),k=o("td"),S=J(O),f(l,"class","svelte-7wd0ln"),f(c,"class","svelte-7wd0ln"),f(b,"class","svelte-7wd0ln"),f(k,"class","_disabled-cell svelte-7wd0ln"),f(e,"class","_system-cell")},m(d,F){N(d,e,F),t(e,l),t(l,p),t(e,u),t(e,c),t(c,r),t(e,B),t(e,b),t(b,v),t(e,D),n&&n.m(e,null),t(e,_),t(e,k),t(k,S)},p(d,F){F&8&&s!==(s=d[15].systemA+"")&&I(p,s),F&8&&h!==(h=d[15].systemOperator+"")&&I(r,h),F&8&&w!==(w=d[15].systemB+"")&&I(v,w),d[1]?n?n.p(d,F):(n=ce(d),n.c(),n.m(e,_)):n&&(n.d(1),n=null),F&8&&O!==(O=d[15].systemResult+"")&&I(S,O)},d(d){d&&R(e),n&&n.d()}}}function ce(a){let e,l=a[15].systemTotal+"",s;return{c(){e=o("td"),s=J(l),f(e,"class","_total-cell _disabled-cell svelte-7wd0ln")},m(p,u){N(p,e,u),t(e,s)},p(p,u){u&8&&l!==(l=p[15].systemTotal+"")&&I(s,l)},d(p){p&&R(e)}}}function me(a,e){let l,s,p,u,c,h,r,B,b,w,v,D,_,k,O,S,n=e[15].result+"",d,F,A,M,V;function z(){e[10].call(u,e[16],e[17])}function G(){e[11].call(r,e[16],e[17])}function L(){e[12].call(_,e[16],e[17])}let y=e[1]&&pe(e),g=e[2]&&_e(e);return{key:a,first:null,c(){l=o("tbody"),s=o("tr"),p=o("td"),u=o("input"),c=m(),h=o("td"),r=o("select"),B=o("option"),b=o("option"),b.textContent="+",w=o("option"),w.textContent="-",v=m(),D=o("td"),_=o("input"),k=m(),y&&y.c(),O=m(),S=o("td"),d=J(n),F=m(),g&&g.c(),A=m(),f(u,"name","a"),f(u,"type","number"),f(u,"class","svelte-7wd0ln"),f(p,"class","svelte-7wd0ln"),B.__value="",B.value=B.__value,b.__value="+",b.value=b.__value,w.__value="-",w.value=w.__value,f(r,"name","operator"),f(r,"class","svelte-7wd0ln"),e[15].operator===void 0&&ke(G),f(h,"class","svelte-7wd0ln"),f(_,"name","b"),f(_,"type","number"),f(_,"class","svelte-7wd0ln"),f(D,"class","svelte-7wd0ln"),f(S,"class","_disabled-cell svelte-7wd0ln"),this.first=l},m(C,U){N(C,l,U),t(l,s),t(s,p),t(p,u),P(u,e[15].a),t(s,c),t(s,h),t(h,r),t(r,B),t(r,b),t(r,w),le(r,e[15].operator),t(s,v),t(s,D),t(D,_),P(_,e[15].b),t(s,k),y&&y.m(s,null),t(s,O),t(s,S),t(S,d),t(l,F),g&&g.m(l,null),t(l,A),M||(V=[q(u,"input",z),q(u,"input",e[6]),q(r,"change",G),q(r,"change",e[6]),q(_,"input",L),q(_,"input",e[6])],M=!0)},p(C,U){e=C,U&8&&Q(u.value)!==e[15].a&&P(u,e[15].a),U&8&&le(r,e[15].operator),U&8&&Q(_.value)!==e[15].b&&P(_,e[15].b),e[1]?y?y.p(e,U):(y=pe(e),y.c(),y.m(s,O)):y&&(y.d(1),y=null),U&8&&n!==(n=e[15].result+"")&&I(d,n),e[2]?g?g.p(e,U):(g=_e(e),g.c(),g.m(l,A)):g&&(g.d(1),g=null)},d(C){C&&R(l),y&&y.d(),g&&g.d(),M=!1,De(V)}}}function Oe(a){let e,l,s,p,u,c,h,r,B,b,w,v,D,_,k,O,S,n,d,F,A,M,V,z,G,L,y,g,C=[],U=new Map,H,W,Z;s=new ve({props:{tabs:a[4],isUnsavedChanges:a[0]}}),s.$on("tabChange",a[5]);let $=a[0]&&re();function be(i){a[8](i)}function he(i){a[9](i)}let X={};a[1]!==void 0&&(X.isDisplaySubTotal=a[1]),a[2]!==void 0&&(X.isDisplayFromSystem=a[2]),c=new Be({props:X}),ee.push(()=>te(c,"isDisplaySubTotal",be)),ee.push(()=>te(c,"isDisplayFromSystem",he));let j=a[1]&&de(),K=a[3];const x=i=>i[15].id;for(let i=0;i<K.length;i+=1){let T=fe(a,K,i),E=x(T);U.set(E,C[i]=me(E,T))}return{c(){e=o("main"),l=J(`Table 1

  `),se(s.$$.fragment),p=m(),$&&$.c(),u=m(),se(c.$$.fragment),B=m(),b=o("button"),b.textContent="Save",w=m(),v=o("table"),D=o("thead"),_=o("tr"),k=o("th"),O=J("Basic Math"),n=m(),d=o("th"),d.textContent="Result",F=m(),A=o("tr"),M=o("th"),M.textContent="A",V=m(),z=o("th"),z.textContent="Operator",G=m(),L=o("th"),L.textContent="B",y=m(),j&&j.c(),g=m();for(let i=0;i<C.length;i+=1)C[i].c();f(k,"class","_header-has-total-cell svelte-7wd0ln"),f(k,"colspan",S=a[1]?4:3),f(d,"rowspan","2"),f(d,"class","svelte-7wd0ln"),f(M,"class","svelte-7wd0ln"),f(z,"class","svelte-7wd0ln"),f(L,"class","svelte-7wd0ln"),f(v,"class","svelte-7wd0ln")},m(i,T){N(i,e,T),t(e,l),ne(s,e,null),t(e,p),$&&$.m(e,null),t(e,u),ne(c,e,null),t(e,B),t(e,b),t(e,w),t(e,v),t(v,D),t(D,_),t(_,k),t(k,O),t(_,n),t(_,d),t(D,F),t(D,A),t(A,M),t(A,V),t(A,z),t(A,G),t(A,L),t(A,y),j&&j.m(A,null),t(v,g);for(let E=0;E<C.length;E+=1)C[E].m(v,null);H=!0,W||(Z=q(b,"click",a[7]),W=!0)},p(i,[T]){const E={};T&1&&(E.isUnsavedChanges=i[0]),s.$set(E),i[0]?$||($=re(),$.c(),$.m(e,u)):$&&($.d(1),$=null);const Y={};!h&&T&2&&(h=!0,Y.isDisplaySubTotal=i[1],ae(()=>h=!1)),!r&&T&4&&(r=!0,Y.isDisplayFromSystem=i[2],ae(()=>r=!1)),c.$set(Y),(!H||T&2&&S!==(S=i[1]?4:3))&&f(k,"colspan",S),i[1]?j||(j=de(),j.c(),j.m(A,null)):j&&(j.d(1),j=null),T&78&&(K=i[3],C=Se(C,T,x,1,i,K,U,v,Te,me,null,fe))},i(i){H||(ie(s.$$.fragment,i),ie(c.$$.fragment,i),H=!0)},o(i){oe(s.$$.fragment,i),oe(c.$$.fragment,i),H=!1},d(i){i&&R(e),ue(s),$&&$.d(),ue(c),j&&j.d();for(let T=0;T<C.length;T+=1)C[T].d();W=!1,Z()}}}function Fe(a,e,l){let s=[{id:1,name:"TAB A"},{id:2,name:"TAB B"}],p=1,u=!1,c=!1,h=!1,r=[];Ce(async()=>{window.addEventListener("beforeunload",v),window.getData=()=>{l(3,r=JSON.parse(document.getElementById("rawData").innerText))},window.getData()});function B(n){p!==n&&!v()||(p=n)}function b(){l(0,u=!0)}function w(){l(0,u=!1),console.log(JSON.stringify(r)),window.TestCal(JSON.stringify(r))}function v(n){if(u)if(n)n.returnValue="Changes you made may not be saved.";else return confirm("Changes you made may not be saved.");return!0}function D(n){c=n,l(1,c)}function _(n){h=n,l(2,h)}function k(n,d){n[d].a=Q(this.value),l(3,r)}function O(n,d){n[d].operator=Ae(this),l(3,r)}function S(n,d){n[d].b=Q(this.value),l(3,r)}return[u,c,h,r,s,B,b,w,D,_,k,O,S]}class $e extends ye{constructor(e){super();ge(this,e,Fe,Oe,we,{})}}new $e({target:document.getElementById("app")});
