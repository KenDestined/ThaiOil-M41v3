var Gt=Object.defineProperty,Jt=Object.defineProperties;var Ut=Object.getOwnPropertyDescriptors;var Pt=Object.getOwnPropertySymbols;var Rt=Object.prototype.hasOwnProperty,Xt=Object.prototype.propertyIsEnumerable;var Nt=(e,n,t)=>n in e?Gt(e,n,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[n]=t,St=(e,n)=>{for(var t in n||(n={}))Rt.call(n,t)&&Nt(e,t,n[t]);if(Pt)for(var t of Pt(n))Xt.call(n,t)&&Nt(e,t,n[t]);return e},It=(e,n)=>Jt(e,Ut(n));import{B as qe,T as Zt}from"./BaseDropdown.js";import{S as it,i as st,s as rt,e as r,t as Ce,a as h,b as Bt,c as i,D as Ze,k as Xe,d as ue,f as a,E as Qe,g as Ie,n as _t,h as de,A as ot,B as Re,C as ht,m as te,o as _e,j as Ht,l as gt,p as X,q as Z,M as pt,w as ge,r as F,u as G,v as x,K as bt,z as vt,F as xt,y as $t,x as en}from"./vendor.js";import{F as kt,g as Tt,a as tn,s as nn,b as zt}from"./FilterButtons.js";import{c as ne}from"./chartConfig.js";var Be;(function(e){e.Year="Year",e.Quarter="Quarter",e.Month="Month"})(Be||(Be={}));var We;(function(e){e.BarChart="BarChart",e.LineChart="LineChart"})(We||(We={}));var ct;(function(e){e[e.KPIPerformance=1]="KPIPerformance",e[e.KPIPerformanceTrending=2]="KPIPerformanceTrending",e[e.KPIPeriodComparing=3]="KPIPeriodComparing",e[e.SSHEKPIBenchmark=4]="SSHEKPIBenchmark"})(ct||(ct={}));var tt;(function(e){e.Target="Target",e.Actual="Actual"})(tt||(tt={}));var Fe;(function(e){e.Quarter="Quarter",e.Month="Month"})(Fe||(Fe={}));function an(e){let n,t,l,s,o,u,f,v,c,m,O,k;return{c(){n=r("div"),t=r("div"),l=r("label"),s=Ce(e[0]),o=h(),u=r("div"),f=r("input"),v=h(),c=Bt("svg"),m=Bt("path"),i(l,"for",e[1]),i(t,"class","label-wrapper svelte-1ltdc4t"),i(f,"type","text"),i(f,"id",e[1]),i(f,"name",e[1]),Ze(f,"width",e[3]+"px"),i(f,"class","svelte-1ltdc4t"),i(m,"fill","#566d80"),i(m,"d","M6 12H4v-2h2zm3-3H7V7h2zm3 0h-2V7h2zm-3 3H7v-2h2zm3 0h-2v-2h2zm1-10h2c.5 0 1 .4 1 .9V15c0 .5-.4 1-.9 1H1c-.5 0-1-.4-1-.9V3c0-.5.4-1 .9-1H3V1c0-.5.4-1 .9-1H4c.5 0 1 .4 1 .9V2h6V1c0-.6.4-1 1-1s1 .4 1 1zM2 5v9h12V5z"),i(c,"xmlns","http://www.w3.org/2000/svg"),i(c,"width","16"),i(c,"height","16"),i(c,"viewBox","0 0 16 16"),i(c,"class","is-clickable svelte-1ltdc4t"),i(u,"class","input-wrapper svelte-1ltdc4t"),i(n,"class","date-picker-container svelte-1ltdc4t"),Ze(n,"width",e[2]+"px"),Xe(n,"is-flex",e[4]),Xe(n,"is-horizontal",e[4])},m(p,g){ue(p,n,g),a(n,t),a(t,l),a(l,s),a(n,o),a(n,u),a(u,f),a(u,v),a(u,c),a(c,m),O||(k=Qe(c,"click",e[5]),O=!0)},p(p,[g]){g&1&&Ie(s,p[0]),g&2&&i(l,"for",p[1]),g&2&&i(f,"id",p[1]),g&2&&i(f,"name",p[1]),g&8&&Ze(f,"width",p[3]+"px"),g&4&&Ze(n,"width",p[2]+"px"),g&16&&Xe(n,"is-flex",p[4]),g&16&&Xe(n,"is-horizontal",p[4])},i:_t,o:_t,d(p){p&&de(n),O=!1,k()}}}function ln(e,n,t){let{label:l}=n,{name:s}=n,{value:o=void 0}=n,{wrapperWidth:u=void 0}=n,{width:f=void 0}=n,{isHorizontal:v=!1}=n,{minDate:c=void 0}=n,{maxDate:m=void 0}=n,O;ot(async()=>{await Re(),O=window.flatpickr(`#${s}`,{dateFormat:"d/m/Y",defaultDate:o,minDate:c,maxDate:m,onChange:p=>{t(6,o=p[0])}})}),ht(async()=>{await Re(),O&&(O.setDate(o),c&&O.set({minDate:c}),m&&O.set({maxDate:m}))});const k=()=>{O&&O.toggle()};return e.$$set=p=>{"label"in p&&t(0,l=p.label),"name"in p&&t(1,s=p.name),"value"in p&&t(6,o=p.value),"wrapperWidth"in p&&t(2,u=p.wrapperWidth),"width"in p&&t(3,f=p.width),"isHorizontal"in p&&t(4,v=p.isHorizontal),"minDate"in p&&t(7,c=p.minDate),"maxDate"in p&&t(8,m=p.maxDate)},[l,s,u,f,v,k,o,c,m]}class mt extends it{constructor(n){super();st(this,n,ln,an,rt,{label:0,name:1,value:6,wrapperWidth:2,width:3,isHorizontal:4,minDate:7,maxDate:8})}}function Kt(e,n,t){const l=e.slice();return l[34]=n[t],l}function At(e,n,t){const l=e.slice();return l[37]=n[t],l}function Mt(e,n,t){const l=e.slice();return l[40]=n[t],l}function Et(e,n,t){const l=e.slice();return l[40]=n[t],l}function Qt(e){let n,t=e[40]+"",l,s,o;return{c(){n=r("th"),l=Ce(t),s=h(),i(n,"colspan",o=e[9]?2:1),i(n,"class","_head-col _extend _col-extend svelte-1kl634i")},m(u,f){ue(u,n,f),a(n,l),a(n,s)},p(u,f){f[0]&8192&&t!==(t=u[40]+"")&&Ie(l,t),f[0]&512&&o!==(o=u[9]?2:1)&&i(n,"colspan",o)},d(u){u&&de(n)}}}function Wt(e){let n;return{c(){n=r("th"),n.textContent="Target",i(n,"class","_head-col _target svelte-1kl634i")},m(t,l){ue(t,n,l)},d(t){t&&de(n)}}}function Lt(e){let n;return{c(){n=r("th"),n.textContent="Actual",i(n,"class","_head-col _actual svelte-1kl634i")},m(t,l){ue(t,n,l)},d(t){t&&de(n)}}}function Yt(e){let n,t,l=e[7]&&Wt(),s=e[8]&&Lt();return{c(){l&&l.c(),n=h(),s&&s.c(),t=Ht()},m(o,u){l&&l.m(o,u),ue(o,n,u),s&&s.m(o,u),ue(o,t,u)},p(o,u){o[7]?l||(l=Wt(),l.c(),l.m(n.parentNode,n)):l&&(l.d(1),l=null),o[8]?s||(s=Lt(),s.c(),s.m(t.parentNode,t)):s&&(s.d(1),s=null)},d(o){l&&l.d(o),o&&de(n),s&&s.d(o),o&&de(t)}}}function jt(e){let n,t=e[37].target+"",l;return{c(){n=r("td"),l=Ce(t),i(n,"class","svelte-1kl634i")},m(s,o){ue(s,n,o),a(n,l)},p(s,o){o[0]&4&&t!==(t=s[37].target+"")&&Ie(l,t)},d(s){s&&de(n)}}}function Vt(e){let n,t=e[37].actual+"",l;return{c(){n=r("td"),l=Ce(t),i(n,"class","svelte-1kl634i")},m(s,o){ue(s,n,o),a(n,l)},p(s,o){o[0]&4&&t!==(t=s[37].actual+"")&&Ie(l,t)},d(s){s&&de(n)}}}function qt(e){let n,t,l=e[7]&&jt(e),s=e[8]&&Vt(e);return{c(){l&&l.c(),n=h(),s&&s.c(),t=Ht()},m(o,u){l&&l.m(o,u),ue(o,n,u),s&&s.m(o,u),ue(o,t,u)},p(o,u){o[7]?l?l.p(o,u):(l=jt(o),l.c(),l.m(n.parentNode,n)):l&&(l.d(1),l=null),o[8]?s?s.p(o,u):(s=Vt(o),s.c(),s.m(t.parentNode,t)):s&&(s.d(1),s=null)},d(o){l&&l.d(o),o&&de(n),s&&s.d(o),o&&de(t)}}}function Ft(e){let n,t,l=e[34].name+"",s,o,u,f=e[34].unit+"",v,c,m,O=e[34].pttKpiCode+"",k,p,g,D=e[34].djsiKpiCode+"",V,K,d,C=e[34].type+"",E,H,L,z=e[34].datas,I=[];for(let M=0;M<z.length;M+=1)I[M]=qt(At(e,z,M));return{c(){n=r("tr"),t=r("td"),s=Ce(l),o=h(),u=r("td"),v=Ce(f),c=h(),m=r("td"),k=Ce(O),p=h(),g=r("td"),V=Ce(D),K=h(),d=r("td"),E=Ce(C),H=h();for(let M=0;M<I.length;M+=1)I[M].c();L=h(),i(t,"class","_col-kpi svelte-1kl634i"),i(u,"class","svelte-1kl634i"),i(m,"class","svelte-1kl634i"),i(g,"class","svelte-1kl634i"),i(d,"class","svelte-1kl634i")},m(M,Y){ue(M,n,Y),a(n,t),a(t,s),a(n,o),a(n,u),a(u,v),a(n,c),a(n,m),a(m,k),a(n,p),a(n,g),a(g,V),a(n,K),a(n,d),a(d,E),a(n,H);for(let B=0;B<I.length;B+=1)I[B].m(n,null);a(n,L)},p(M,Y){if(Y[0]&4&&l!==(l=M[34].name+"")&&Ie(s,l),Y[0]&4&&f!==(f=M[34].unit+"")&&Ie(v,f),Y[0]&4&&O!==(O=M[34].pttKpiCode+"")&&Ie(k,O),Y[0]&4&&D!==(D=M[34].djsiKpiCode+"")&&Ie(V,D),Y[0]&4&&C!==(C=M[34].type+"")&&Ie(E,C),Y[0]&388){z=M[34].datas;let B;for(B=0;B<z.length;B+=1){const A=At(M,z,B);I[B]?I[B].p(A,Y):(I[B]=qt(A),I[B].c(),I[B].m(n,L))}for(;B<I.length;B+=1)I[B].d(1);I.length=z.length}},d(M){M&&de(n),gt(I,M)}}}function sn(e){let n,t,l,s,o,u,f,v,c,m,O,k,p,g,D,V,K,d,C,E,H,L,z,I,M,Y,B,A,j,ae,le,oe,J,ee,U,se,T,fe,me,w,b,be,ie,he,pe,q,Ke,He,ye,S,$,ve,De,we,Ge,Ne,Le,Ee,Je,Ae,y,R,Me,Ue,ze,Se,Ye,Te;function xe(_){e[21](_)}let nt={label:"Start Date Entered",name:"startDate",width:150,maxDate:e[4]};e[3]!==void 0&&(nt.value=e[3]),l=new mt({props:nt}),te.push(()=>_e(l,"value",xe));function ut(_){e[22](_)}let at={label:"End Date Entered",name:"endDate",width:150,minDate:e[3]};e[4]!==void 0&&(at.value=e[4]),u=new mt({props:at}),te.push(()=>_e(u,"value",ut));function dt(_){e[23](_)}let lt={label:"Company",name:"company",options:e[0],width:156};e[5]!==void 0&&(lt.value=e[5]),c=new qe({props:lt}),te.push(()=>_e(c,"value",dt)),e[24](c);function ft(_){e[25](_)}let P={label:"KPI Code Type",name:"kpiCodeType",options:e[1],width:156};e[6]!==void 0&&(P.value=e[6]),k=new qe({props:P}),te.push(()=>_e(k,"value",ft)),e[26](k);function ce(_){e[27](_)}let $e={label:"Display Period",name:"displayPeriod",options:e[14],width:114};e[10]!==void 0&&($e.value=e[10]),D=new qe({props:$e}),te.push(()=>_e(D,"value",ce)),b=new kt({props:{search:e[17],clear:e[30]}});let Ve=e[13],ke=[];for(let _=0;_<Ve.length;_+=1)ke[_]=Qt(Et(e,Ve,_));let N=e[13],Q=[];for(let _=0;_<N.length;_+=1)Q[_]=Yt(Mt(e,N,_));let je=e[2],Oe=[];for(let _=0;_<je.length;_+=1)Oe[_]=Ft(Kt(e,je,_));return{c(){n=r("div"),t=r("div"),X(l.$$.fragment),o=h(),X(u.$$.fragment),v=h(),X(c.$$.fragment),O=h(),X(k.$$.fragment),g=h(),X(D.$$.fragment),K=h(),d=r("div"),C=r("div"),C.textContent="Data Type",E=h(),H=r("div"),L=r("div"),z=r("label"),I=r("input"),M=h(),Y=r("span"),Y.textContent="All",B=h(),A=r("div"),j=r("label"),ae=r("input"),le=h(),oe=r("span"),oe.textContent="Target",J=h(),ee=r("div"),U=r("label"),se=r("input"),T=h(),fe=r("span"),fe.textContent="Actual",me=h(),w=r("div"),X(b.$$.fragment),be=h(),ie=r("div"),he=r("div"),pe=Ce("KPI Performance by "),q=Ce(e[10]),Ke=h(),He=r("div"),ye=r("table"),S=r("thead"),$=r("tr"),ve=r("th"),ve.textContent="KPI Name",De=h(),we=r("th"),we.textContent="Unit",Ge=h(),Ne=r("th"),Ne.innerHTML="PTT KPI<br/>Code",Le=h(),Ee=r("th"),Ee.innerHTML="DJSI KPI<br/>Code",Je=h(),Ae=r("th"),Ae.textContent="Type",y=h();for(let _=0;_<ke.length;_+=1)ke[_].c();R=h(),Me=r("tr");for(let _=0;_<Q.length;_+=1)Q[_].c();Ue=h(),ze=r("tbody");for(let _=0;_<Oe.length;_+=1)Oe[_].c();i(C,"class","push-bottom-1"),i(I,"type","checkbox"),I.checked=e[9],i(z,"class","checkbox is-filled"),i(L,"class","push-right-2"),i(ae,"type","checkbox"),ae.checked=e[7],i(j,"class","checkbox is-filled"),i(A,"class","push-right-2"),i(se,"type","checkbox"),se.checked=e[8],i(U,"class","checkbox is-filled"),i(ee,"class","push-right-2"),i(H,"class","is-flex is-align-center"),Ze(H,"height","36px"),i(d,"class","text-size-medium"),i(t,"class","is-flex"),i(w,"class","is-flex is-align-end"),i(n,"class","is-flex is-justify-between push-bottom-3"),i(he,"class","title push-bottom-2 svelte-1kl634i"),i(ve,"rowspan","2"),i(ve,"class","_head-col _col-kpi svelte-1kl634i"),i(we,"rowspan","2"),i(we,"class","_head-col _col-unit svelte-1kl634i"),i(Ne,"rowspan","2"),i(Ne,"class","_head-col _col-ptt svelte-1kl634i"),i(Ee,"rowspan","2"),i(Ee,"class","_head-col _col-djsi svelte-1kl634i"),i(Ae,"rowspan","2"),i(Ae,"class","_head-col _col-type svelte-1kl634i"),i(ye,"class","text-size-small svelte-1kl634i"),i(He,"class","_table-wrapper svelte-1kl634i"),i(ie,"class","box svelte-1kl634i")},m(_,re){ue(_,n,re),a(n,t),Z(l,t,null),a(t,o),Z(u,t,null),a(t,v),Z(c,t,null),a(t,O),Z(k,t,null),a(t,g),Z(D,t,null),a(t,K),a(t,d),a(d,C),a(d,E),a(d,H),a(H,L),a(L,z),a(z,I),a(z,M),a(z,Y),a(H,B),a(H,A),a(A,j),a(j,ae),a(j,le),a(j,oe),a(H,J),a(H,ee),a(ee,U),a(U,se),a(U,T),a(U,fe),a(n,me),a(n,w),Z(b,w,null),ue(_,be,re),ue(_,ie,re),a(ie,he),a(he,pe),a(he,q),a(ie,Ke),a(ie,He),a(He,ye),a(ye,S),a(S,$),a($,ve),a($,De),a($,we),a($,Ge),a($,Ne),a($,Le),a($,Ee),a($,Je),a($,Ae),a($,y);for(let Pe=0;Pe<ke.length;Pe+=1)ke[Pe].m($,null);a(S,R),a(S,Me);for(let Pe=0;Pe<Q.length;Pe+=1)Q[Pe].m(Me,null);a(ye,Ue),a(ye,ze);for(let Pe=0;Pe<Oe.length;Pe+=1)Oe[Pe].m(ze,null);Se=!0,Ye||(Te=[Qe(I,"click",pt(e[15])),Qe(ae,"click",pt(e[28])),Qe(se,"click",pt(e[29]))],Ye=!0)},p(_,re){const Pe={};re[0]&16&&(Pe.maxDate=_[4]),!s&&re[0]&8&&(s=!0,Pe.value=_[3],ge(()=>s=!1)),l.$set(Pe);const Ct={};re[0]&8&&(Ct.minDate=_[3]),!f&&re[0]&16&&(f=!0,Ct.value=_[4],ge(()=>f=!1)),u.$set(Ct);const yt={};re[0]&1&&(yt.options=_[0]),!m&&re[0]&32&&(m=!0,yt.value=_[5],ge(()=>m=!1)),c.$set(yt);const Dt={};re[0]&2&&(Dt.options=_[1]),!p&&re[0]&64&&(p=!0,Dt.value=_[6],ge(()=>p=!1)),k.$set(Dt);const Ot={};if(!V&&re[0]&1024&&(V=!0,Ot.value=_[10],ge(()=>V=!1)),D.$set(Ot),(!Se||re[0]&512)&&(I.checked=_[9]),(!Se||re[0]&128)&&(ae.checked=_[7]),(!Se||re[0]&256)&&(se.checked=_[8]),(!Se||re[0]&1024)&&Ie(q,_[10]),re[0]&8704){Ve=_[13];let W;for(W=0;W<Ve.length;W+=1){const et=Et(_,Ve,W);ke[W]?ke[W].p(et,re):(ke[W]=Qt(et),ke[W].c(),ke[W].m($,null))}for(;W<ke.length;W+=1)ke[W].d(1);ke.length=Ve.length}if(re[0]&8576){N=_[13];let W;for(W=0;W<N.length;W+=1){const et=Mt(_,N,W);Q[W]?Q[W].p(et,re):(Q[W]=Yt(et),Q[W].c(),Q[W].m(Me,null))}for(;W<Q.length;W+=1)Q[W].d(1);Q.length=N.length}if(re[0]&388){je=_[2];let W;for(W=0;W<je.length;W+=1){const et=Kt(_,je,W);Oe[W]?Oe[W].p(et,re):(Oe[W]=Ft(et),Oe[W].c(),Oe[W].m(ze,null))}for(;W<Oe.length;W+=1)Oe[W].d(1);Oe.length=je.length}},i(_){Se||(F(l.$$.fragment,_),F(u.$$.fragment,_),F(c.$$.fragment,_),F(k.$$.fragment,_),F(D.$$.fragment,_),F(b.$$.fragment,_),Se=!0)},o(_){G(l.$$.fragment,_),G(u.$$.fragment,_),G(c.$$.fragment,_),G(k.$$.fragment,_),G(D.$$.fragment,_),G(b.$$.fragment,_),Se=!1},d(_){_&&de(n),x(l),x(u),e[24](null),x(c),e[26](null),x(k),x(D),x(b),_&&de(be),_&&de(ie),gt(ke,_),gt(Q,_),gt(Oe,_),Ye=!1,bt(Te)}}}function rn(e,n,t){let{defaultStartDate:l}=n,{defaultEndDate:s}=n,{companyOptions:o=[]}=n,{kpiCodeTypeOptions:u=[]}=n,{kpiTableDatas:f=[]}=n,v,c,m,O,k=!0,p=!0,g=!0;const D=Be.Year;let V=[{id:Be.Year,name:Be.Year},{id:Be.Quarter,name:Be.Quarter},{id:Be.Month,name:Be.Month}],K=D,d,C;const E=vt();let H=[];ot(async()=>{await Re(),Y(),L()});function L(){t(13,H=Tt(v,c,K))}function z(T){t(7,k=!0),t(8,p=!0),t(9,g=!0),setTimeout(()=>T.target.checked=g,0)}function I(T,fe){fe==="target"&&p&&(t(7,k=!k),setTimeout(()=>T.target.checked=k,0)),fe==="actual"&&k&&(t(8,p=!p),setTimeout(()=>T.target.checked=p,0)),t(9,g=k&&p)}function M(){E("search",{startDate:v,endDate:c,company:m,kpiCodeType:O,displayPeriod:K,dashboardName:"KPIPerformance"}),L()}function Y(T=!0){T||(d.reset(),C.reset()),t(10,K=D),t(3,v=l),t(4,c=s),t(7,k=!0),t(8,p=!0)}function B(T){v=T,t(3,v)}function A(T){c=T,t(4,c)}function j(T){m=T,t(5,m)}function ae(T){te[T?"unshift":"push"](()=>{d=T,t(11,d)})}function le(T){O=T,t(6,O)}function oe(T){te[T?"unshift":"push"](()=>{C=T,t(12,C)})}function J(T){K=T,t(10,K)}const ee=T=>I(T,"target"),U=T=>I(T,"actual"),se=()=>Y(!1);return e.$$set=T=>{"defaultStartDate"in T&&t(19,l=T.defaultStartDate),"defaultEndDate"in T&&t(20,s=T.defaultEndDate),"companyOptions"in T&&t(0,o=T.companyOptions),"kpiCodeTypeOptions"in T&&t(1,u=T.kpiCodeTypeOptions),"kpiTableDatas"in T&&t(2,f=T.kpiTableDatas)},[o,u,f,v,c,m,O,k,p,g,K,d,C,H,V,z,I,M,Y,l,s,B,A,j,ae,le,oe,J,ee,U,se]}class on extends it{constructor(n){super();st(this,n,rn,sn,rt,{defaultStartDate:19,defaultEndDate:20,companyOptions:0,kpiCodeTypeOptions:1,kpiTableDatas:2},null,[-1,-1])}}function un(e){let n,t,l,s,o,u,f,v,c,m,O,k,p,g,D,V,K,d,C,E,H,L,z,I,M,Y,B,A,j,ae,le,oe,J,ee,U,se,T,fe,me,w,b,be,ie,he,pe,q,Ke,He,ye,S,$,ve,De,we,Ge,Ne,Le,Ee,Je,Ae,y,R,Me,Ue,ze,Se,Ye,Te,xe,nt;function ut(N){e[23](N)}let at={label:"Start Date Entered",name:"startDate",width:150,maxDate:e[3]};e[2]!==void 0&&(at.value=e[2]),l=new mt({props:at}),te.push(()=>_e(l,"value",ut));function dt(N){e[24](N)}let lt={label:"End Date Entered",name:"endDate",width:150,minDate:e[2]};e[3]!==void 0&&(lt.value=e[3]),u=new mt({props:lt}),te.push(()=>_e(u,"value",dt));function ft(N){e[25](N)}let P={label:"Company",name:"company",options:e[0],width:156};e[4]!==void 0&&(P.value=e[4]),c=new qe({props:P}),te.push(()=>_e(c,"value",ft)),e[26](c);function ce(N){e[27](N)}let $e={label:"KPI Name",name:"kpiName",options:e[1],change:e[14],width:220};e[5]!==void 0&&($e.value=e[5]),k=new qe({props:$e}),te.push(()=>_e(k,"value",ce)),e[28](k);function Ve(N){e[29](N)}let ke={label:"Graph Type",name:"graphType",options:e[13],change:e[15],width:125};return e[9]!==void 0&&(ke.value=e[9]),D=new qe({props:ke}),te.push(()=>_e(D,"value",Ve)),b=new kt({props:{search:e[18],clear:e[32]}}),{c(){n=r("div"),t=r("div"),X(l.$$.fragment),o=h(),X(u.$$.fragment),v=h(),X(c.$$.fragment),O=h(),X(k.$$.fragment),g=h(),X(D.$$.fragment),K=h(),d=r("div"),C=r("div"),C.textContent="Data Type",E=h(),H=r("div"),L=r("div"),z=r("label"),I=r("input"),M=h(),Y=r("span"),Y.textContent="All",B=h(),A=r("div"),j=r("label"),ae=r("input"),le=h(),oe=r("span"),oe.textContent="Target",J=h(),ee=r("div"),U=r("label"),se=r("input"),T=h(),fe=r("span"),fe.textContent="Actual",me=h(),w=r("div"),X(b.$$.fragment),be=h(),ie=r("div"),he=r("div"),pe=r("div"),q=r("div"),Ke=Ce(e[12]),He=h(),ye=r("span"),ye.textContent="by Year",S=h(),$=r("div"),ve=h(),De=r("div"),we=r("div"),Ge=Ce(e[12]),Ne=h(),Le=r("span"),Le.textContent="by Quarter",Ee=h(),Je=r("div"),Ae=h(),y=r("div"),R=r("div"),Me=Ce(e[12]),Ue=h(),ze=r("span"),ze.textContent="by Month",Se=h(),Ye=r("div"),i(C,"class","push-bottom-1"),i(I,"type","checkbox"),I.checked=e[8],i(z,"class","checkbox is-filled"),i(L,"class","push-right-2"),i(ae,"type","checkbox"),ae.checked=e[6],i(j,"class","checkbox is-filled"),i(A,"class","push-right-2"),i(se,"type","checkbox"),se.checked=e[7],i(U,"class","checkbox is-filled"),i(ee,"class","push-right-2"),i(H,"class","is-flex is-align-center"),Ze(H,"height","36px"),i(d,"class","text-size-medium"),i(t,"class","is-flex"),i(w,"class","is-flex is-align-end"),i(n,"class","is-flex is-justify-between push-bottom-3"),i(ye,"class","period-text svelte-p9im2e"),i(q,"class","text-center title svelte-p9im2e"),i($,"id","trendingYearChart"),i(pe,"class","is-flex-1 box year-box svelte-p9im2e"),i(Le,"class","period-text svelte-p9im2e"),i(we,"class","text-center title svelte-p9im2e"),i(Je,"id","trendingQuarterChart"),i(De,"class","is-flex-1 box quarter-box svelte-p9im2e"),i(he,"class","is-flex push-bottom-2"),i(ze,"class","period-text svelte-p9im2e"),i(R,"class","text-center title svelte-p9im2e"),i(Ye,"id","trendingMonthChart"),i(y,"class","is-flex-1 box svelte-p9im2e")},m(N,Q){ue(N,n,Q),a(n,t),Z(l,t,null),a(t,o),Z(u,t,null),a(t,v),Z(c,t,null),a(t,O),Z(k,t,null),a(t,g),Z(D,t,null),a(t,K),a(t,d),a(d,C),a(d,E),a(d,H),a(H,L),a(L,z),a(z,I),a(z,M),a(z,Y),a(H,B),a(H,A),a(A,j),a(j,ae),a(j,le),a(j,oe),a(H,J),a(H,ee),a(ee,U),a(U,se),a(U,T),a(U,fe),a(n,me),a(n,w),Z(b,w,null),ue(N,be,Q),ue(N,ie,Q),a(ie,he),a(he,pe),a(pe,q),a(q,Ke),a(q,He),a(q,ye),a(pe,S),a(pe,$),a(he,ve),a(he,De),a(De,we),a(we,Ge),a(we,Ne),a(we,Le),a(De,Ee),a(De,Je),a(ie,Ae),a(ie,y),a(y,R),a(R,Me),a(R,Ue),a(R,ze),a(y,Se),a(y,Ye),Te=!0,xe||(nt=[Qe(I,"click",pt(e[16])),Qe(ae,"click",pt(e[30])),Qe(se,"click",pt(e[31]))],xe=!0)},p(N,Q){const je={};Q[0]&8&&(je.maxDate=N[3]),!s&&Q[0]&4&&(s=!0,je.value=N[2],ge(()=>s=!1)),l.$set(je);const Oe={};Q[0]&4&&(Oe.minDate=N[2]),!f&&Q[0]&8&&(f=!0,Oe.value=N[3],ge(()=>f=!1)),u.$set(Oe);const _={};Q[0]&1&&(_.options=N[0]),!m&&Q[0]&16&&(m=!0,_.value=N[4],ge(()=>m=!1)),c.$set(_);const re={};Q[0]&2&&(re.options=N[1]),!p&&Q[0]&32&&(p=!0,re.value=N[5],ge(()=>p=!1)),k.$set(re);const Pe={};!V&&Q[0]&512&&(V=!0,Pe.value=N[9],ge(()=>V=!1)),D.$set(Pe),(!Te||Q[0]&256)&&(I.checked=N[8]),(!Te||Q[0]&64)&&(ae.checked=N[6]),(!Te||Q[0]&128)&&(se.checked=N[7]),(!Te||Q[0]&4096)&&Ie(Ke,N[12]),(!Te||Q[0]&4096)&&Ie(Ge,N[12]),(!Te||Q[0]&4096)&&Ie(Me,N[12])},i(N){Te||(F(l.$$.fragment,N),F(u.$$.fragment,N),F(c.$$.fragment,N),F(k.$$.fragment,N),F(D.$$.fragment,N),F(b.$$.fragment,N),Te=!0)},o(N){G(l.$$.fragment,N),G(u.$$.fragment,N),G(c.$$.fragment,N),G(k.$$.fragment,N),G(D.$$.fragment,N),G(b.$$.fragment,N),Te=!1},d(N){N&&de(n),x(l),x(u),e[26](null),x(c),e[28](null),x(k),x(D),x(b),N&&de(be),N&&de(ie),xe=!1,bt(nt)}}}function dn(e,n,t){let{defaultStartDate:l}=n,{defaultEndDate:s}=n,{companyOptions:o=[]}=n,{kpiNameOptions:u=[]}=n,{trendingChartData:f}=n,v,c,m,O,k=!0,p=!0,g=!0;const D=We.BarChart,V=[{id:We.BarChart,name:"Bar Chart"},{id:We.LineChart,name:"Line Chart"}];let K=D,d,C,E="",H=!1;const L=vt();ot(async()=>{await Re(),j(),z()}),ht(async()=>{await Re(),H&&(H=!1,z())});function z(){const w=K===We.BarChart?"column":void 0,b=[],be=[],ie=[];p&&(b.push({name:"Actual",color:"#39c8e5",data:f.year.actual}),be.push({name:"Actual",color:"#39c8e5",data:f.quarter.actual}),ie.push({name:"Actual",color:"#39c8e5",data:f.month.actual})),k&&(b.push({name:"Target",color:"#e11383",data:f.year.target}),be.push({name:"Target",color:"#e11383",data:f.quarter.target}),ie.push({name:"Target",color:"#e11383",data:f.month.target})),window.Highcharts.chart("trendingYearChart",{chart:{backgroundColor:"#eafbff",type:w},credits:{enabled:!1},title:{text:void 0},xAxis:{title:{text:"Year",style:ne.textBold},labels:{style:ne.textNormal}},yAxis:{min:0,title:{text:f.unit,style:ne.textBold},lineWidth:1,gridLineWidth:1,labels:{style:ne.textNormal}},legend:{verticalAlign:"top",itemStyle:ne.textNormal},plotOptions:{series:{pointStart:v.getFullYear()},line:{dataLabels:{enabled:!0,style:ne.textBold}}},series:b});const he=tn(v,c,!0);window.Highcharts.chart("trendingQuarterChart",{chart:{backgroundColor:"#effff4",type:w},credits:{enabled:!1},title:{text:void 0},xAxis:{categories:he,title:{text:"Quarter",style:ne.textBold},labels:{style:ne.textNormal}},yAxis:{min:0,title:{text:f.unit,style:ne.textBold},lineWidth:1,gridLineWidth:1,labels:{style:ne.textNormal}},legend:{verticalAlign:"top",itemStyle:ne.textNormal},plotOptions:{line:{dataLabels:{enabled:!0,style:ne.textBold}}},series:be});const pe=Tt(v,c,Be.Month);window.Highcharts.chart("trendingMonthChart",{chart:{type:w},credits:{enabled:!1},title:{text:void 0},xAxis:{categories:pe,title:{text:"Month",style:ne.textBold},labels:{style:ne.textNormal}},yAxis:{min:0,title:{text:f.unit,style:ne.textBold},lineWidth:1,gridLineWidth:1,labels:{style:ne.textNormal}},legend:{verticalAlign:"top",itemStyle:ne.textNormal},plotOptions:{line:{dataLabels:{enabled:!0,style:ne.textBold}}},series:ie})}function I(){t(12,E=u.find(w=>w.id===O).name)}function M(){z()}function Y(w){const b=g===!1;t(6,k=!0),t(7,p=!0),t(8,g=!0),setTimeout(()=>w.target.checked=g,0),b&&z()}function B(w,b){b==="target"&&p&&(t(6,k=!k),setTimeout(()=>w.target.checked=k,0),z()),b==="actual"&&k&&(t(7,p=!p),setTimeout(()=>w.target.checked=p,0),z()),t(8,g=k&&p)}function A(){H=!0,L("search",{startDate:v,endDate:c,company:m,kpiName:O,dashboardName:"KPIPerformanceTrending"})}function j(w=!0){w||(d.reset(),C.reset()),t(2,v=l),t(3,c=s),t(12,E=u[0].name),t(6,k=!0),t(6,k=!0),t(9,K=D)}function ae(w){v=w,t(2,v)}function le(w){c=w,t(3,c)}function oe(w){m=w,t(4,m)}function J(w){te[w?"unshift":"push"](()=>{d=w,t(10,d)})}function ee(w){O=w,t(5,O)}function U(w){te[w?"unshift":"push"](()=>{C=w,t(11,C)})}function se(w){K=w,t(9,K)}const T=w=>B(w,"target"),fe=w=>B(w,"actual"),me=()=>j(!1);return e.$$set=w=>{"defaultStartDate"in w&&t(20,l=w.defaultStartDate),"defaultEndDate"in w&&t(21,s=w.defaultEndDate),"companyOptions"in w&&t(0,o=w.companyOptions),"kpiNameOptions"in w&&t(1,u=w.kpiNameOptions),"trendingChartData"in w&&t(22,f=w.trendingChartData)},[o,u,v,c,m,O,k,p,g,K,d,C,E,V,I,M,Y,B,A,j,l,s,f,ae,le,oe,J,ee,U,se,T,fe,me]}class fn extends it{constructor(n){super();st(this,n,dn,un,rt,{defaultStartDate:20,defaultEndDate:21,companyOptions:0,kpiNameOptions:1,trendingChartData:22},null,[-1,-1])}}function pn(e){let n,t,l,s,o,u,f,v;return{c(){n=r("div"),t=r("div"),l=r("label"),s=Ce(e[0]),o=h(),u=r("select"),i(l,"for",e[1]),i(t,"class","label-wrapper svelte-1ferj0z"),i(u,"id",e[1]),i(u,"name",e[1]),u.disabled=e[3],u.multiple=!0,Ze(n,"width",e[5]+"px"),i(n,"class","dropdown-container svelte-1ferj0z"),Xe(n,"is-flex",e[2]),Xe(n,"is-horizontal",e[2]),Xe(n,"is-fullwidth",e[6])},m(c,m){ue(c,n,m),a(n,t),a(t,l),a(l,s),a(n,o),a(n,u),f||(v=Qe(u,"change",function(){xt(e[4])&&e[4].apply(this,arguments)}),f=!0)},p(c,[m]){e=c,m&1&&Ie(s,e[0]),m&2&&i(l,"for",e[1]),m&2&&i(u,"id",e[1]),m&2&&i(u,"name",e[1]),m&8&&(u.disabled=e[3]),m&32&&Ze(n,"width",e[5]+"px"),m&4&&Xe(n,"is-flex",e[2]),m&4&&Xe(n,"is-horizontal",e[2]),m&64&&Xe(n,"is-fullwidth",e[6])},i:_t,o:_t,d(c){c&&de(n),f=!1,v()}}}function cn(e,n,t){let{options:l=[]}=n,{label:s}=n,{name:o}=n,{value:u=[]}=n,{isHorizontal:f=!1}=n,{disabled:v=!1}=n,{change:c=void 0}=n,{isPrimitive:m=!1}=n,{width:O=void 0}=n,{fullWidth:k=!1}=n,{sortItems:p="asc"}=n,g,D;const V=(d=u)=>m?d.map(C=>({value:C+"",label:C+""})):d.map(C=>({value:C.id+"",label:C.name+""})),K=d=>m?d+"":d.id+"";return ot(async()=>{await Re(),D=new window.Choices(`#${o}`,{itemSelectText:"",renderSelectedChoices:"always",removeItems:!1,shouldSortItems:!0,sorter(d,C){return p==="asc"?d.value-C.value:C.value-d.value},callbackOnCreateTemplates:d=>({item:(C,E)=>d(`<span class="selected-item">${E.label} </span>`)}),choices:V(l)}),D&&D.passedElement.element.addEventListener("choice",function(d){const C=d.detail.choice.value;if(d.detail.choice.selected)t(7,u=u.filter(E=>K(E)!==C)),setTimeout(()=>{D.removeActiveItemsByValue(C)});else{if(m)t(7,u=[...u,Number(C)]);else{const E=l.find(H=>K(H)===C);t(7,u=[...u,E])}D.setChoiceByValue(C)}g=u},!1),u.length&&D.setChoiceByValue(V().map(d=>d.value)),g=u}),ht(async()=>{await Re(),D&&(JSON.stringify(g)!==JSON.stringify(u)&&D.setChoiceByValue(V().map(d=>d.value)),v?D.disable():D.enable()),g=u}),e.$$set=d=>{"options"in d&&t(8,l=d.options),"label"in d&&t(0,s=d.label),"name"in d&&t(1,o=d.name),"value"in d&&t(7,u=d.value),"isHorizontal"in d&&t(2,f=d.isHorizontal),"disabled"in d&&t(3,v=d.disabled),"change"in d&&t(4,c=d.change),"isPrimitive"in d&&t(9,m=d.isPrimitive),"width"in d&&t(5,O=d.width),"fullWidth"in d&&t(6,k=d.fullWidth),"sortItems"in d&&t(10,p=d.sortItems)},[s,o,f,v,c,O,k,u,l,m,p]}class wt extends it{constructor(n){super();st(this,n,cn,pn,rt,{options:8,label:0,name:1,value:7,isHorizontal:2,disabled:3,change:4,isPrimitive:9,width:5,fullWidth:6,sortItems:10})}}function mn(e){let n,t,l,s,o,u,f,v,c,m,O,k,p,g,D,V,K,d,C,E,H,L,z,I,M,Y,B,A,j,ae,le,oe,J,ee,U,se,T,fe,me,w,b,be,ie,he,pe,q,Ke,He,ye,S,$,ve,De,we,Ge,Ne,Le,Ee,Je,Ae,y,R,Me;function Ue(P){e[22](P)}let ze={label:"Year",name:"year",options:e[13],width:519,sortItems:"desc",isHorizontal:!0,isPrimitive:!0};e[5]!==void 0&&(ze.value=e[5]),s=new wt({props:ze}),te.push(()=>_e(s,"value",Ue));function Se(P){e[25](P)}let Ye={label:"",name:"quarter",options:e[14],width:636,isHorizontal:!0,disabled:e[4]===Fe.Month};e[6]!==void 0&&(Ye.value=e[6]),g=new wt({props:Ye}),te.push(()=>_e(g,"value",Se));function Te(P){e[27](P)}let xe={label:"",name:"month",options:e[15],width:636,isHorizontal:!0,disabled:e[4]===Fe.Quarter};e[7]!==void 0&&(xe.value=e[7]),z=new wt({props:xe}),te.push(()=>_e(z,"value",Te));function nt(P){e[28](P)}let ut={label:"Company",name:"company",options:e[0],isHorizontal:!0};e[2]!==void 0&&(ut.value=e[2]),A=new qe({props:ut}),te.push(()=>_e(A,"value",nt)),e[29](A);function at(P){e[30](P)}let dt={label:"KPI Name",name:"kpiName",options:e[1],isHorizontal:!0,change:e[17],labelWidth:76};e[3]!==void 0&&(dt.value=e[3]),le=new qe({props:dt}),te.push(()=>_e(le,"value",at)),e[31](le);function lt(P){e[32](P)}let ft={label:"Graph Type",name:"graphType",options:e[16],change:e[18],isHorizontal:!0,labelWidth:85};return e[11]!==void 0&&(ft.value=e[11]),ee=new qe({props:ft}),te.push(()=>_e(ee,"value",lt)),S=new kt({props:{search:e[19],clear:e[35]}}),{c(){n=r("div"),t=r("div"),l=r("div"),X(s.$$.fragment),u=h(),f=r("div"),v=r("div"),c=r("label"),m=r("input"),O=h(),k=r("span"),k.textContent="Quarter",p=h(),X(g.$$.fragment),V=h(),K=r("div"),d=r("label"),C=r("input"),E=h(),H=r("span"),H.textContent="Month",L=h(),X(z.$$.fragment),M=h(),Y=r("div"),B=r("div"),X(A.$$.fragment),ae=h(),X(le.$$.fragment),J=h(),X(ee.$$.fragment),se=h(),T=r("div"),fe=r("span"),fe.textContent="Data Type :",me=h(),w=r("label"),b=r("input"),be=h(),ie=r("span"),ie.textContent="Target",he=h(),pe=r("label"),q=r("input"),Ke=h(),He=r("span"),He.textContent="Actual",ye=h(),X(S.$$.fragment),$=h(),ve=r("div"),De=r("div"),we=Ce(e[12]),Ge=h(),Ne=r("span"),Le=Ce(e[4]),Ee=Ce(" Comparing"),Je=h(),Ae=r("div"),i(l,"class","is-flex-1"),i(m,"type","radio"),i(m,"name","comparePeriod"),m.__value=Fe.Quarter,m.value=m.__value,e[24][0].push(m),i(c,"class","radio text-size-medium"),i(v,"class","is-flex is-justify-between is-align-center push-bottom-1"),Ze(v,"width","719px"),i(C,"type","radio"),i(C,"name","comparePeriod"),C.__value=Fe.Month,C.value=C.__value,e[24][0].push(C),i(d,"class","radio text-size-medium"),i(K,"class","is-flex is-justify-between is-align-center"),i(f,"class","is-flex-1"),i(t,"class","is-flex push-bottom-3"),i(b,"type","radio"),i(b,"name","dataType"),b.__value=tt.Target,b.value=b.__value,e[24][1].push(b),i(w,"class","radio"),i(q,"type","radio"),i(q,"name","dataType"),q.__value=tt.Actual,q.value=q.__value,e[24][1].push(q),i(pe,"class","radio"),i(T,"class","text-size-medium"),i(B,"class","is-flex is-align-center"),i(Y,"class","is-flex is-justify-between"),i(n,"class","push-bottom-3"),i(Ne,"class","period-text svelte-1oa89xd"),i(De,"class","text-center title svelte-1oa89xd"),i(Ae,"id","periodComparingChart"),i(ve,"class","box svelte-1oa89xd")},m(P,ce){ue(P,n,ce),a(n,t),a(t,l),Z(s,l,null),a(t,u),a(t,f),a(f,v),a(v,c),a(c,m),m.checked=m.__value===e[4],a(c,O),a(c,k),a(v,p),Z(g,v,null),a(f,V),a(f,K),a(K,d),a(d,C),C.checked=C.__value===e[4],a(d,E),a(d,H),a(K,L),Z(z,K,null),a(n,M),a(n,Y),a(Y,B),Z(A,B,null),a(B,ae),Z(le,B,null),a(B,J),Z(ee,B,null),a(B,se),a(B,T),a(T,fe),a(T,me),a(T,w),a(w,b),b.checked=b.__value===e[8],a(w,be),a(w,ie),a(T,he),a(T,pe),a(pe,q),q.checked=q.__value===e[8],a(pe,Ke),a(pe,He),a(Y,ye),Z(S,Y,null),ue(P,$,ce),ue(P,ve,ce),a(ve,De),a(De,we),a(De,Ge),a(De,Ne),a(Ne,Le),a(Ne,Ee),a(ve,Je),a(ve,Ae),y=!0,R||(Me=[Qe(m,"change",e[23]),Qe(C,"change",e[26]),Qe(b,"change",e[33]),Qe(q,"change",e[34])],R=!0)},p(P,ce){const $e={};!o&&ce[0]&32&&(o=!0,$e.value=P[5],ge(()=>o=!1)),s.$set($e),ce[0]&16&&(m.checked=m.__value===P[4]);const Ve={};ce[0]&16&&(Ve.disabled=P[4]===Fe.Month),!D&&ce[0]&64&&(D=!0,Ve.value=P[6],ge(()=>D=!1)),g.$set(Ve),ce[0]&16&&(C.checked=C.__value===P[4]);const ke={};ce[0]&16&&(ke.disabled=P[4]===Fe.Quarter),!I&&ce[0]&128&&(I=!0,ke.value=P[7],ge(()=>I=!1)),z.$set(ke);const N={};ce[0]&1&&(N.options=P[0]),!j&&ce[0]&4&&(j=!0,N.value=P[2],ge(()=>j=!1)),A.$set(N);const Q={};ce[0]&2&&(Q.options=P[1]),!oe&&ce[0]&8&&(oe=!0,Q.value=P[3],ge(()=>oe=!1)),le.$set(Q);const je={};!U&&ce[0]&2048&&(U=!0,je.value=P[11],ge(()=>U=!1)),ee.$set(je),ce[0]&256&&(b.checked=b.__value===P[8]),ce[0]&256&&(q.checked=q.__value===P[8]),(!y||ce[0]&4096)&&Ie(we,P[12]),(!y||ce[0]&16)&&Ie(Le,P[4])},i(P){y||(F(s.$$.fragment,P),F(g.$$.fragment,P),F(z.$$.fragment,P),F(A.$$.fragment,P),F(le.$$.fragment,P),F(ee.$$.fragment,P),F(S.$$.fragment,P),y=!0)},o(P){G(s.$$.fragment,P),G(g.$$.fragment,P),G(z.$$.fragment,P),G(A.$$.fragment,P),G(le.$$.fragment,P),G(ee.$$.fragment,P),G(S.$$.fragment,P),y=!1},d(P){P&&de(n),x(s),e[24][0].splice(e[24][0].indexOf(m),1),x(g),e[24][0].splice(e[24][0].indexOf(C),1),x(z),e[29](null),x(A),e[31](null),x(le),x(ee),e[24][1].splice(e[24][1].indexOf(b),1),e[24][1].splice(e[24][1].indexOf(q),1),x(S),P&&de($),P&&de(ve),R=!1,bt(Me)}}}function hn(e,n,t){let{companyOptions:l=[]}=n,{kpiNameOptions:s=[]}=n,{periodComparingChartData:o}=n,u,f;const v=Fe.Quarter;let c=v;const O=new Date().getFullYear(),k=[O],p=Array.from({length:5},(S,$)=>O-$);let g=k;const D=[{id:1,name:"Quarter 1"},{id:2,name:"Quarter 2"},{id:3,name:"Quarter 3"},{id:4,name:"Quarter 4"}],V=[...D];let K=V;const d=nn.map((S,$)=>({id:$+1,name:S})),C=[d[0],d[1]];let E=C;const H=tt.Target;let L=H,z,I;const M=We.BarChart,Y=[{id:We.BarChart,name:"Bar Chart"},{id:We.LineChart,name:"Line Chart"}];let B=M,A="",j=!1;const ae=vt();ot(async()=>{await Re(),U(),le()}),ht(async()=>{await Re(),j&&(j=!1,le())});function le(){const S=B===We.BarChart?"column":void 0,$=(c===Fe.Quarter?K:E).map(ve=>ve.name);window.Highcharts.chart("periodComparingChart",{chart:{type:S},credits:{enabled:!1},title:{text:void 0},xAxis:{title:{text:c,style:ne.textBold},categories:$,labels:{style:ne.textNormal}},yAxis:{min:0,title:{text:o.unit,style:ne.textBold},lineWidth:1,gridLineWidth:1,labels:{style:ne.textNormal}},legend:{verticalAlign:"top",itemStyle:ne.textNormal,title:{text:"year",style:It(St({},ne.textBold),{transform:"translate(-30px, 23px)",textTransform:"capitalize"})}},series:o.series})}function oe(){t(12,A=s.find(S=>S.id===f).name)}function J(){le()}function ee(){j=!0,ae("search",{year:g,quarter:c===Fe.Quarter?K.map(S=>S.id):void 0,month:c===Fe.Month?E.map(S=>S.id):void 0,company:u,kpiName:f,dataType:L,comparePeriod:c,dashboardName:"KPIPeriodComparing"})}function U(S=!0){S||(z.reset(),I.reset()),t(5,g=k),t(6,K=V),t(7,E=C),t(12,A=s[0].name),t(8,L=H),t(11,B=M),t(4,c=v)}const se=[[],[]];function T(S){g=S,t(5,g)}function fe(){c=this.__value,t(4,c)}function me(S){K=S,t(6,K)}function w(){c=this.__value,t(4,c)}function b(S){E=S,t(7,E)}function be(S){u=S,t(2,u)}function ie(S){te[S?"unshift":"push"](()=>{z=S,t(9,z)})}function he(S){f=S,t(3,f)}function pe(S){te[S?"unshift":"push"](()=>{I=S,t(10,I)})}function q(S){B=S,t(11,B)}function Ke(){L=this.__value,t(8,L)}function He(){L=this.__value,t(8,L)}const ye=()=>U(!1);return e.$$set=S=>{"companyOptions"in S&&t(0,l=S.companyOptions),"kpiNameOptions"in S&&t(1,s=S.kpiNameOptions),"periodComparingChartData"in S&&t(21,o=S.periodComparingChartData)},[l,s,u,f,c,g,K,E,L,z,I,B,A,p,D,d,Y,oe,J,ee,U,o,T,fe,se,me,w,b,be,ie,he,pe,q,Ke,He,ye]}class _n extends it{constructor(n){super();st(this,n,hn,mn,rt,{companyOptions:0,kpiNameOptions:1,periodComparingChartData:21},null,[-1,-1])}}function gn(e){let n,t,l,s,o,u,f,v,c,m,O,k,p,g,D,V,K,d,C,E,H,L,z,I,M,Y,B,A,j,ae,le,oe,J,ee,U,se,T,fe,me,w,b,be,ie,he,pe,q,Ke,He;function ye(y){e[21](y)}let S={label:"Start Date",name:"startDate",maxDate:e[3],isHorizontal:!0,wrapperWidth:287,width:199};e[2]!==void 0&&(S.value=e[2]),l=new mt({props:S}),te.push(()=>_e(l,"value",ye));function $(y){e[22](y)}let ve={label:"End Date",name:"endDate",minDate:e[2],isHorizontal:!0,wrapperWidth:262,width:144};e[3]!==void 0&&(ve.value=e[3]),f=new mt({props:ve}),te.push(()=>_e(f,"value",$));function De(y){e[23](y)}let we={label:"Company",name:"company",options:e[0],isHorizontal:!0,fullWidth:!0};e[4]!==void 0&&(we.value=e[4]),m=new wt({props:we}),te.push(()=>_e(m,"value",De));function Ge(y){e[24](y)}let Ne={label:"KPI Name",name:"kpiName",options:e[1],isHorizontal:!0,change:e[13],labelWidth:76};e[5]!==void 0&&(Ne.value=e[5]),D=new qe({props:Ne}),te.push(()=>_e(D,"value",Ge)),e[25](D);function Le(y){e[26](y)}let Ee={label:"Display Period",name:"displayPeriod",options:e[11],isHorizontal:!0,labelWidth:106,width:144};e[7]!==void 0&&(Ee.value=e[7]),d=new qe({props:Ee}),te.push(()=>_e(d,"value",Le));function Je(y){e[27](y)}let Ae={label:"Graph Type",name:"graphType",options:e[12],change:e[14],isHorizontal:!0};return e[8]!==void 0&&(Ae.value=e[8]),H=new qe({props:Ae}),te.push(()=>_e(H,"value",Je)),T=new kt({props:{search:e[15],clear:e[31]}}),{c(){n=r("div"),t=r("div"),X(l.$$.fragment),o=h(),u=r("div"),X(f.$$.fragment),c=h(),X(m.$$.fragment),k=h(),p=r("div"),g=r("div"),X(D.$$.fragment),K=h(),X(d.$$.fragment),E=h(),X(H.$$.fragment),z=h(),I=r("div"),M=r("span"),M.textContent="Data Type :",Y=h(),B=r("label"),A=r("input"),j=h(),ae=r("span"),ae.textContent="Target",le=h(),oe=r("label"),J=r("input"),ee=h(),U=r("span"),U.textContent="Actual",se=h(),X(T.$$.fragment),fe=h(),me=r("div"),w=r("div"),b=Ce(e[10]),be=h(),ie=r("span"),ie.textContent="Benchmark",he=h(),pe=r("div"),i(u,"class","push-right-3"),i(t,"class","is-flex push-bottom-2"),i(A,"type","radio"),i(A,"name","dataType"),A.__value=tt.Target,A.value=A.__value,e[29][0].push(A),i(B,"class","radio"),i(J,"type","radio"),i(J,"name","dataType"),J.__value=tt.Actual,J.value=J.__value,e[29][0].push(J),i(oe,"class","radio"),i(I,"class","text-size-medium"),i(g,"class","is-flex is-align-center"),i(p,"class","is-flex is-justify-between"),i(n,"class","push-bottom-3"),i(w,"class","text-center title svelte-1ihuqn1"),i(pe,"id","benchmarkChart"),i(me,"class","box svelte-1ihuqn1")},m(y,R){ue(y,n,R),a(n,t),Z(l,t,null),a(t,o),a(t,u),Z(f,u,null),a(t,c),Z(m,t,null),a(n,k),a(n,p),a(p,g),Z(D,g,null),a(g,K),Z(d,g,null),a(g,E),Z(H,g,null),a(g,z),a(g,I),a(I,M),a(I,Y),a(I,B),a(B,A),A.checked=A.__value===e[6],a(B,j),a(B,ae),a(I,le),a(I,oe),a(oe,J),J.checked=J.__value===e[6],a(oe,ee),a(oe,U),a(p,se),Z(T,p,null),ue(y,fe,R),ue(y,me,R),a(me,w),a(w,b),a(w,be),a(w,ie),a(me,he),a(me,pe),q=!0,Ke||(He=[Qe(A,"change",e[28]),Qe(J,"change",e[30])],Ke=!0)},p(y,R){const Me={};R[0]&8&&(Me.maxDate=y[3]),!s&&R[0]&4&&(s=!0,Me.value=y[2],ge(()=>s=!1)),l.$set(Me);const Ue={};R[0]&4&&(Ue.minDate=y[2]),!v&&R[0]&8&&(v=!0,Ue.value=y[3],ge(()=>v=!1)),f.$set(Ue);const ze={};R[0]&1&&(ze.options=y[0]),!O&&R[0]&16&&(O=!0,ze.value=y[4],ge(()=>O=!1)),m.$set(ze);const Se={};R[0]&2&&(Se.options=y[1]),!V&&R[0]&32&&(V=!0,Se.value=y[5],ge(()=>V=!1)),D.$set(Se);const Ye={};!C&&R[0]&128&&(C=!0,Ye.value=y[7],ge(()=>C=!1)),d.$set(Ye);const Te={};!L&&R[0]&256&&(L=!0,Te.value=y[8],ge(()=>L=!1)),H.$set(Te),R[0]&64&&(A.checked=A.__value===y[6]),R[0]&64&&(J.checked=J.__value===y[6]),(!q||R[0]&1024)&&Ie(b,y[10])},i(y){q||(F(l.$$.fragment,y),F(f.$$.fragment,y),F(m.$$.fragment,y),F(D.$$.fragment,y),F(d.$$.fragment,y),F(H.$$.fragment,y),F(T.$$.fragment,y),q=!0)},o(y){G(l.$$.fragment,y),G(f.$$.fragment,y),G(m.$$.fragment,y),G(D.$$.fragment,y),G(d.$$.fragment,y),G(H.$$.fragment,y),G(T.$$.fragment,y),q=!1},d(y){y&&de(n),x(l),x(f),x(m),e[25](null),x(D),x(d),x(H),e[29][0].splice(e[29][0].indexOf(A),1),e[29][0].splice(e[29][0].indexOf(J),1),x(T),y&&de(fe),y&&de(me),Ke=!1,bt(He)}}}function bn(e,n,t){let{defaultStartDate:l}=n,{defaultEndDate:s}=n,{defaultMultipleCompany:o}=n,{companyOptions:u=[]}=n,{kpiNameOptions:f=[]}=n,{benchmarkChartData:v}=n,c,m,O,k;const p=tt.Target;let g=p;const D=Be.Year;let V=[{id:Be.Year,name:Be.Year},{id:Be.Quarter,name:Be.Quarter},{id:Be.Month,name:Be.Month}],K=D;const d=We.BarChart,C=[{id:We.BarChart,name:"Bar Chart"},{id:We.LineChart,name:"Line Chart"}];let E=d,H,L="",z=!1;const I=vt();ot(async()=>{await Re(),j(),M()}),ht(async()=>{await Re(),z&&(z=!1,M())});function M(){const b=E===We.BarChart?"column":void 0,be=Tt(c,m,K);window.Highcharts.chart("benchmarkChart",{chart:{type:b},credits:{enabled:!1},title:{text:void 0},xAxis:{title:{text:K,style:ne.textBold},categories:be,labels:{style:ne.textNormal}},yAxis:{min:0,title:{text:v.unit,style:ne.textBold},lineWidth:1,gridLineWidth:1,labels:{style:ne.textNormal}},legend:{verticalAlign:"top",itemStyle:ne.textNormal},plotOptions:{line:{dataLabels:{enabled:!0}}},series:v.series})}function Y(){t(10,L=f.find(b=>b.id===k).name)}function B(){M()}function A(){z=!0,I("search",{startDate:c,endDate:m,company:O.map(b=>b.id),kpiName:k,dataType:g,dashboardName:"SSHEKPIBenchmark"})}function j(b=!0){b||H.reset(),t(2,c=l),t(3,m=s),t(4,O=o),t(10,L=f[0].name),t(6,g=p),t(8,E=d)}const ae=[[]];function le(b){c=b,t(2,c)}function oe(b){m=b,t(3,m)}function J(b){O=b,t(4,O)}function ee(b){k=b,t(5,k)}function U(b){te[b?"unshift":"push"](()=>{H=b,t(9,H)})}function se(b){K=b,t(7,K)}function T(b){E=b,t(8,E)}function fe(){g=this.__value,t(6,g)}function me(){g=this.__value,t(6,g)}const w=()=>j(!1);return e.$$set=b=>{"defaultStartDate"in b&&t(17,l=b.defaultStartDate),"defaultEndDate"in b&&t(18,s=b.defaultEndDate),"defaultMultipleCompany"in b&&t(19,o=b.defaultMultipleCompany),"companyOptions"in b&&t(0,u=b.companyOptions),"kpiNameOptions"in b&&t(1,f=b.kpiNameOptions),"benchmarkChartData"in b&&t(20,v=b.benchmarkChartData)},[u,f,c,m,O,k,g,K,E,H,L,V,C,Y,B,A,j,l,s,o,v,le,oe,J,ee,U,se,T,fe,ae,me,w]}class vn extends it{constructor(n){super();st(this,n,bn,gn,rt,{defaultStartDate:17,defaultEndDate:18,defaultMultipleCompany:19,companyOptions:0,kpiNameOptions:1,benchmarkChartData:20},null,[-1,-1])}}function kn(e){let n,t;return n=new vn({props:{defaultStartDate:e[9],defaultEndDate:e[10],defaultMultipleCompany:e[0],companyOptions:e[1],kpiNameOptions:e[3],benchmarkChartData:e[8]}}),n.$on("search",e[13]),{c(){X(n.$$.fragment)},m(l,s){Z(n,l,s),t=!0},p(l,s){const o={};s&1&&(o.defaultMultipleCompany=l[0]),s&2&&(o.companyOptions=l[1]),s&8&&(o.kpiNameOptions=l[3]),s&256&&(o.benchmarkChartData=l[8]),n.$set(o)},i(l){t||(F(n.$$.fragment,l),t=!0)},o(l){G(n.$$.fragment,l),t=!1},d(l){x(n,l)}}}function wn(e){let n,t;return n=new _n({props:{companyOptions:e[1],kpiNameOptions:e[3],periodComparingChartData:e[7]}}),n.$on("search",e[13]),{c(){X(n.$$.fragment)},m(l,s){Z(n,l,s),t=!0},p(l,s){const o={};s&2&&(o.companyOptions=l[1]),s&8&&(o.kpiNameOptions=l[3]),s&128&&(o.periodComparingChartData=l[7]),n.$set(o)},i(l){t||(F(n.$$.fragment,l),t=!0)},o(l){G(n.$$.fragment,l),t=!1},d(l){x(n,l)}}}function Cn(e){let n,t;return n=new fn({props:{defaultStartDate:e[9],defaultEndDate:e[10],companyOptions:e[1],kpiNameOptions:e[3],trendingChartData:e[6]}}),n.$on("search",e[13]),{c(){X(n.$$.fragment)},m(l,s){Z(n,l,s),t=!0},p(l,s){const o={};s&2&&(o.companyOptions=l[1]),s&8&&(o.kpiNameOptions=l[3]),s&64&&(o.trendingChartData=l[6]),n.$set(o)},i(l){t||(F(n.$$.fragment,l),t=!0)},o(l){G(n.$$.fragment,l),t=!1},d(l){x(n,l)}}}function yn(e){let n,t;return n=new on({props:{defaultStartDate:e[9],defaultEndDate:e[10],companyOptions:e[1],kpiCodeTypeOptions:e[2],kpiTableDatas:e[5]}}),n.$on("search",e[13]),{c(){X(n.$$.fragment)},m(l,s){Z(n,l,s),t=!0},p(l,s){const o={};s&2&&(o.companyOptions=l[1]),s&4&&(o.kpiCodeTypeOptions=l[2]),s&32&&(o.kpiTableDatas=l[5]),n.$set(o)},i(l){t||(F(n.$$.fragment,l),t=!0)},o(l){G(n.$$.fragment,l),t=!1},d(l){x(n,l)}}}function Dn(e){let n,t,l,s,o,u,f,v,c;o=new Zt({props:{tabs:e[11],isUnsavedChanges:!1}}),o.$on("tabChange",e[12]);const m=[yn,Cn,wn,kn],O=[];function k(p,g){return p[4]===ct.KPIPerformance?0:p[4]===ct.KPIPerformanceTrending?1:p[4]===ct.KPIPeriodComparing?2:p[4]===ct.SSHEKPIBenchmark?3:-1}return~(f=k(e))&&(v=O[f]=m[f](e)),{c(){n=r("main"),t=r("div"),t.textContent="OEMS Dashboard",l=h(),s=r("div"),X(o.$$.fragment),u=h(),v&&v.c(),i(t,"class","text-center text-weight-bold push-bottom-3 title svelte-1fx9wsu"),i(s,"class","push-bottom-3")},m(p,g){ue(p,n,g),a(n,t),a(n,l),a(n,s),Z(o,s,null),a(n,u),~f&&O[f].m(n,null),c=!0},p(p,[g]){let D=f;f=k(p),f===D?~f&&O[f].p(p,g):(v&&(en(),G(O[D],1,1,()=>{O[D]=null}),$t()),~f?(v=O[f],v?v.p(p,g):(v=O[f]=m[f](p),v.c()),F(v,1),v.m(n,null)):v=null)},i(p){c||(F(o.$$.fragment,p),F(v),c=!0)},o(p){G(o.$$.fragment,p),G(v),c=!1},d(p){p&&de(n),x(o),~f&&O[f].d()}}}function Tn(e,n,t){const l=new Date,s=new Date(l.getFullYear()-4,0,1),o=new Date(l.setHours(0,0,0));let u,f=[],v=[],c=[];const m=[{id:1,name:"KPI Performance"},{id:2,name:"KPI Performance Trending"},{id:3,name:"KPI Period Comparing"},{id:4,name:"SSHE KPI Benchmark"}];let O=1,k=[],p,g,D;ot(async()=>{window.getData=()=>{const d=JSON.parse(document.getElementById("rawData").innerText);t(1,f=d.companyOptions),f.length>0&&t(0,u=[...f]),t(2,v=d.kpiCodeTypeOptions),t(3,c=d.kpiNameOptions),t(5,k=d.kpiTableData),t(6,p=d.trendingChartData),t(7,g=d.periodComparingChartData),t(8,D=d.benchmarkChartData)},window.getData()});function V(d){t(4,O=d.detail)}function K(d){const C=d.detail;console.log(C),console.log(JSON.stringify(C,zt)),window.TestCal(JSON.stringify(C,zt))}return[u,f,v,c,O,k,p,g,D,s,o,m,V,K]}class On extends it{constructor(n){super();st(this,n,Tn,Dn,rt,{})}}new On({target:document.getElementById("app")});
