var rt=Object.defineProperty;var qe=Object.getOwnPropertySymbols;var ft=Object.prototype.hasOwnProperty,dt=Object.prototype.propertyIsEnumerable;var Qe=(e,t,n)=>t in e?rt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,xe=(e,t)=>{for(var n in t||(t={}))ft.call(t,n)&&Qe(e,n,t[n]);if(qe)for(var n of qe(t))dt.call(t,n)&&Qe(e,n,t[n]);return e};import{B as we,T as ut}from"./BaseDropdown.js";import{S as je,i as Le,s as Ie,e as u,a as b,t as G,b as R,c as l,d as $,f as s,g as de,h as ee,j as Ge,n as Pe,k as Se,l as ht,m as K,o as ye,p as J,q as U,r as P,u as N,v as q,w as De,x as Ke,y as Ve,z as Ze,A as Xe,B as Be,C as $e,D as pt}from"./vendor.js";import{s as Ae,F as et,f as tt,d as gt}from"./FilterButtons.js";import{f as Ne}from"./formatter.js";import{c as Me}from"./chartConfig.js";var Ye;(function(e){e[e.Leading=1]="Leading",e[e.Lagging=2]="Lagging"})(Ye||(Ye={}));function nt(e){let t,n,a,i,o,r,v,d,y,g,m=e[0].finding+"",A,T,O,_,w,M,C,k,E,c,S=e[0].closed+"",V,F,Y,L,x=e[0].closed/e[0].finding*100+"",B,D,ie,oe,te,X=Ne(e[0].closed/e[0].finding*100,2)+"",le,Q,re,H,I,ne,ve,ae,ge,fe,Z=e[0].inProgress+"",ue,ce,f,se,he=e[0].inProgress/e[0].finding*100+"",pe,me,Oe,Ce,_e,be=Ne(e[0].inProgress/e[0].finding*100,2)+"",Ee,ke;return{c(){t=u("div"),n=u("div"),a=b(),i=u("div"),o=G(e[1]),r=b(),v=u("div"),d=u("span"),d.textContent="Finding",y=b(),g=u("span"),A=G(m),T=b(),O=u("div"),_=u("div"),w=R("svg"),M=R("path"),C=b(),k=u("span"),k.textContent="Closed",E=b(),c=u("div"),V=G(S),F=b(),Y=u("div"),L=u("progress"),B=G(x),D=G("%"),oe=b(),te=u("div"),le=G(X),Q=G("%"),re=b(),H=u("div"),I=R("svg"),ne=R("path"),ve=b(),ae=u("span"),ae.textContent="Inprogress",ge=b(),fe=u("div"),ue=G(Z),ce=b(),f=u("div"),se=u("progress"),pe=G(he),me=G("%"),Ce=b(),_e=u("div"),Ee=G(be),ke=G("%"),l(n,"class","is-flex-1"),l(i,"class","is-flex-1 text-center title svelte-by22o5"),l(d,"class","push-right-2"),l(g,"class","text-size-large finding-num svelte-by22o5"),l(v,"class","is-flex-1 text-right text-weight-bold"),l(t,"class","is-flex push-bottom-2"),l(M,"fill","#fc6c2c"),l(M,"d","M6.491 15.382l-1.123-1.124 3.495-3.495-3.495-3.495L6.49 6.144 9.986 9.64l3.496-3.495 1.123 1.124-3.495 3.495 3.495 3.495-1.123 1.124-3.496-3.496zm7.365 4.369c5.118-2.122 7.49-7.99 5.368-13.107-2.122-5.118-7.99-7.49-13.107-5.368C2.372 2.899 0 6.519 0 10.513 0 16.006 4.494 20.5 9.986 20.5c1.373 0 2.622-.25 3.87-.75z"),l(w,"xmlns","http://www.w3.org/2000/svg"),l(w,"width","20"),l(w,"height","21"),l(w,"viewBox","0 0 20 21"),l(w,"class","push-right-2"),l(k,"class","text-size-normal text-weight-bold text-status push-right-1 svelte-by22o5"),l(c,"class","text-closed text-size-large text-weight-bold text-center push-right-2 audit-num svelte-by22o5"),l(L,"class","progress closed push-right-1 svelte-by22o5"),l(L,"max","100"),L.value=ie=e[0].closed/e[0].finding*100,l(te,"class","text-closed text-right text-percent svelte-by22o5"),l(_,"class","is-flex is-align-center"),l(ne,"fill","#2eadc7"),l(ne,"d","M14.375 14.5a6.418 6.418 0 0 0 0-8.875c-1.125-1.25-2.625-1.875-4.25-1.875v6.5L6 14.5c1.125 1.125 2.625 1.75 4.125 1.75 1.625 0 3.25-.625 4.25-1.75zM10 1.25A8.696 8.696 0 0 1 18.75 10 8.696 8.696 0 0 1 10 18.75 8.696 8.696 0 0 1 1.25 10 8.696 8.696 0 0 1 10 1.25zM10 20c5.5 0 10-4.5 10-10S15.5 0 10 0 0 4.5 0 10s4.5 10 10 10z"),l(I,"xmlns","http://www.w3.org/2000/svg"),l(I,"width","20"),l(I,"height","20"),l(I,"viewBox","0 0 20 20"),l(I,"class","push-right-2"),l(ae,"class","text-size-normal text-weight-bold text-status push-right-1 svelte-by22o5"),l(fe,"class","text-in-progress text-size-large text-weight-bold text-center push-right-2 audit-num svelte-by22o5"),l(se,"class","progress in-progress push-right-1 svelte-by22o5"),l(se,"max","100"),se.value=Oe=e[0].inProgress/e[0].finding*100,l(_e,"class","text-in-progress text-right text-percent svelte-by22o5"),l(H,"class","is-flex is-align-center"),l(O,"class","is-flex is-direction-column is-centered")},m(h,z){$(h,t,z),s(t,n),s(t,a),s(t,i),s(i,o),s(t,r),s(t,v),s(v,d),s(v,y),s(v,g),s(g,A),$(h,T,z),$(h,O,z),s(O,_),s(_,w),s(w,M),s(_,C),s(_,k),s(_,E),s(_,c),s(c,V),s(_,F),s(_,Y),s(Y,L),s(L,B),s(L,D),s(_,oe),s(_,te),s(te,le),s(te,Q),s(O,re),s(O,H),s(H,I),s(I,ne),s(H,ve),s(H,ae),s(H,ge),s(H,fe),s(fe,ue),s(H,ce),s(H,f),s(f,se),s(se,pe),s(se,me),s(H,Ce),s(H,_e),s(_e,Ee),s(_e,ke)},p(h,z){z&2&&de(o,h[1]),z&1&&m!==(m=h[0].finding+"")&&de(A,m),z&1&&S!==(S=h[0].closed+"")&&de(V,S),z&1&&x!==(x=h[0].closed/h[0].finding*100+"")&&de(B,x),z&1&&ie!==(ie=h[0].closed/h[0].finding*100)&&(L.value=ie),z&1&&X!==(X=Ne(h[0].closed/h[0].finding*100,2)+"")&&de(le,X),z&1&&Z!==(Z=h[0].inProgress+"")&&de(ue,Z),z&1&&he!==(he=h[0].inProgress/h[0].finding*100+"")&&de(pe,he),z&1&&Oe!==(Oe=h[0].inProgress/h[0].finding*100)&&(se.value=Oe),z&1&&be!==(be=Ne(h[0].inProgress/h[0].finding*100,2)+"")&&de(Ee,be)},d(h){h&&ee(t),h&&ee(T),h&&ee(O)}}}function ct(e){let t,n=e[0]&&nt(e);return{c(){n&&n.c(),t=Ge()},m(a,i){n&&n.m(a,i),$(a,t,i)},p(a,[i]){a[0]?n?n.p(a,i):(n=nt(a),n.c(),n.m(t.parentNode,t)):n&&(n.d(1),n=null)},i:Pe,o:Pe,d(a){n&&n.d(a),a&&ee(t)}}}function mt(e,t,n){let{auditData:a}=t,{title:i=""}=t;return e.$$set=o=>{"auditData"in o&&n(0,a=o.auditData),"title"in o&&n(1,i=o.title)},[a,i]}class st extends je{constructor(t){super();Le(this,t,mt,ct,Ie,{auditData:0,title:1})}}function lt(e,t,n){const a=e.slice();return a[3]=t[n],a}function vt(e){let t,n,a,i,o,r,v,d,y;return{c(){t=R("svg"),n=R("defs"),a=R("clipPath"),i=R("path"),o=R("path"),r=R("path"),v=R("path"),d=R("g"),y=R("path"),l(i,"fill","#fff"),l(i,"d","M0 9a9 9 0 1 1 18 0A9 9 0 0 1 0 9z"),l(a,"id","1lm7a"),l(o,"class","has-stroke svelte-enhre5"),l(o,"fill","none"),l(o,"stroke","#d02000"),l(o,"stroke-miterlimit","20"),l(o,"stroke-width","3.6"),l(o,"d","M0 9a9 9 0 1 1 18 0A9 9 0 0 1 0 9z"),l(o,"clip-path",'url("#1lm7a")'),l(r,"class","has-fill svelte-enhre5"),l(r,"fill","#d02000"),l(r,"d","M5 7.5C5 6.672 5.448 6 6 6s1 .672 1 1.5S6.552 9 6 9s-1-.672-1-1.5z"),l(v,"class","has-fill svelte-enhre5"),l(v,"fill","#d02000"),l(v,"d","M11 7.5c0-.828.448-1.5 1-1.5s1 .672 1 1.5S12.552 9 12 9s-1-.672-1-1.5z"),l(y,"class","has-fill svelte-enhre5"),l(y,"fill","#d02000"),l(y,"d","M9.002 14.002a5.017 5.017 0 0 1-4.901-4.004h1.027a3.999 3.999 0 0 0 7.744 0H13.9a5.015 5.015 0 0 1-4.897 4.004z"),l(d,"transform","rotate(-180 9 12)"),l(t,"xmlns","http://www.w3.org/2000/svg"),l(t,"width","18"),l(t,"height","18"),l(t,"viewBox","0 0 18 18"),l(t,"class","svelte-enhre5"),Se(t,"is-warning",e[2](e[3]))},m(g,m){$(g,t,m),s(t,n),s(n,a),s(a,i),s(t,o),s(t,r),s(t,v),s(t,d),s(d,y)},p(g,m){m&5&&Se(t,"is-warning",g[2](g[3]))},d(g){g&&ee(t)}}}function bt(e){let t,n,a,i,o,r,v,d;return{c(){t=R("svg"),n=R("defs"),a=R("clipPath"),i=R("path"),o=R("path"),r=R("path"),v=R("path"),d=R("path"),l(i,"fill","#fff"),l(i,"d","M0 9a9 9 0 1 1 18 0A9 9 0 0 1 0 9z"),l(a,"id","cmx2a"),l(o,"fill","none"),l(o,"stroke","#58b450"),l(o,"stroke-miterlimit","20"),l(o,"stroke-width","3.6"),l(o,"d","M0 9a9 9 0 1 1 18 0A9 9 0 0 1 0 9z"),l(o,"clip-path",'url("#cmx2a")'),l(r,"fill","#58b450"),l(r,"d","M5 7.5C5 6.672 5.448 6 6 6s1 .672 1 1.5S6.552 9 6 9s-1-.672-1-1.5z"),l(v,"fill","#58b450"),l(v,"d","M11 7.5c0-.828.448-1.5 1-1.5s1 .672 1 1.5S12.552 9 12 9s-1-.672-1-1.5z"),l(d,"fill","#58b450"),l(d,"d","M9.002 14.002a5.017 5.017 0 0 1-4.901-4.004h1.027a3.999 3.999 0 0 0 7.744 0H13.9a5.015 5.015 0 0 1-4.897 4.004z"),l(t,"xmlns","http://www.w3.org/2000/svg"),l(t,"width","18"),l(t,"height","18"),l(t,"viewBox","0 0 18 18")},m(y,g){$(y,t,g),s(t,n),s(n,a),s(a,i),s(t,o),s(t,r),s(t,v),s(t,d)},p:Pe,d(y){y&&ee(t)}}}function at(e){let t,n,a=e[3].name+"",i,o,r,v=e[3].displayMonth+"",d,y,g,m=e[3].displayYTD+"",A,T,O,_,w;function M(E,c){return c&3&&(_=null),_==null&&(_=!!E[1](E[3])),_?bt:vt}let C=M(e,-1),k=C(e);return{c(){t=u("div"),n=u("div"),i=G(a),o=b(),r=u("div"),d=G(v),y=b(),g=u("div"),A=G(m),T=b(),O=u("div"),k.c(),w=b(),l(n,"class","is-flex-1 text-size-small name-col is-single-line push-right-1 svelte-enhre5"),l(r,"class","text-size-normal text-center month-col push-right-1 svelte-enhre5"),l(g,"class","text-size-normal text-center text-weight-bold ytd-col svelte-enhre5"),Se(g,"is-success",e[1](e[3])),Se(g,"is-warning",e[2](e[3])),l(O,"class","icon-col is-flex is-align-center is-justify-end svelte-enhre5"),l(t,"class","is-flex row svelte-enhre5")},m(E,c){$(E,t,c),s(t,n),s(n,i),s(t,o),s(t,r),s(r,d),s(t,y),s(t,g),s(g,A),s(t,T),s(t,O),k.m(O,null),s(t,w)},p(E,c){c&1&&a!==(a=E[3].name+"")&&de(i,a),c&1&&v!==(v=E[3].displayMonth+"")&&de(d,v),c&1&&m!==(m=E[3].displayYTD+"")&&de(A,m),c&3&&Se(g,"is-success",E[1](E[3])),c&5&&Se(g,"is-warning",E[2](E[3])),C===(C=M(E,c))&&k?k.p(E,c):(k.d(1),k=C(E),k&&(k.c(),k.m(O,null)))},d(E){E&&ee(t),k.d()}}}function _t(e){let t,n=e[0],a=[];for(let i=0;i<n.length;i+=1)a[i]=at(lt(e,n,i));return{c(){for(let i=0;i<a.length;i+=1)a[i].c();t=Ge()},m(i,o){for(let r=0;r<a.length;r+=1)a[r].m(i,o);$(i,t,o)},p(i,[o]){if(o&7){n=i[0];let r;for(r=0;r<n.length;r+=1){const v=lt(i,n,r);a[r]?a[r].p(v,o):(a[r]=at(v),a[r].c(),a[r].m(t.parentNode,t))}for(;r<a.length;r+=1)a[r].d(1);a.length=n.length}},i:Pe,o:Pe,d(i){ht(a,i),i&&ee(t)}}}function wt(e,t,n){let{datas:a}=t,{isSuccess:i=r=>!1}=t,{isWarning:o=r=>!1}=t;return e.$$set=r=>{"datas"in r&&n(0,a=r.datas),"isSuccess"in r&&n(1,i=r.isSuccess),"isWarning"in r&&n(2,o=r.isWarning)},[a,i,o]}class Je extends je{constructor(t){super();Le(this,t,wt,_t,Ie,{datas:0,isSuccess:1,isWarning:2})}}function it(e){let t,n,a,i,o,r,v;return a=new st({props:{title:"Month",auditData:e[6].month}}),r=new st({props:{title:"YEAR TO DATE",auditData:e[6].year}}),{c(){t=u("div"),n=u("div"),J(a.$$.fragment),i=b(),o=u("div"),J(r.$$.fragment),l(n,"class","is-flex-1 box svelte-1yc7xvb"),l(o,"class","is-flex-1 box svelte-1yc7xvb"),l(t,"class","is-flex audit-data-wrapper svelte-1yc7xvb")},m(d,y){$(d,t,y),s(t,n),U(a,n,null),s(t,i),s(t,o),U(r,o,null),v=!0},p(d,y){const g={};y[0]&64&&(g.auditData=d[6].month),a.$set(g);const m={};y[0]&64&&(m.auditData=d[6].year),r.$set(m)},i(d){v||(P(a.$$.fragment,d),P(r.$$.fragment,d),v=!0)},o(d){N(a.$$.fragment,d),N(r.$$.fragment,d),v=!1},d(d){d&&ee(t),q(a),q(r)}}}function yt(e){let t,n,a,i,o,r,v,d,y,g,m,A,T,O,_,w,M,C,k,E,c,S,V,F,Y,L,x,B,D,ie,oe,te,X,le,Q,re=Ae[e[8]]+"",H,I,ne,ve,ae,ge,fe,Z,ue,ce,f;function se(p){e[27](p)}let he={label:"Year",name:"year",options:e[0],width:150};e[7]!==void 0&&(he.value=e[7]),a=new we({props:he}),K.push(()=>ye(a,"value",se)),e[28](a);function pe(p){e[29](p)}let me={label:"Month",name:"month",options:e[1],width:150};e[8]!==void 0&&(me.value=e[8]),r=new we({props:me}),K.push(()=>ye(r,"value",pe)),e[30](r);function Oe(p){e[31](p)}let Ce={label:"Company",name:"company",options:e[2],width:312};e[9]!==void 0&&(Ce.value=e[9]),y=new we({props:Ce}),K.push(()=>ye(y,"value",Oe)),e[32](y);function _e(p){e[33](p)}let be={label:"HOX Element",name:"hoxElement",options:e[3],width:156};e[10]!==void 0&&(be.value=e[10]),A=new we({props:be}),K.push(()=>ye(A,"value",_e)),e[34](A);function Ee(p){e[35](p)}let ke={label:"Area",name:"area",options:e[4],width:114};e[11]!==void 0&&(ke.value=e[11]),_=new we({props:ke}),K.push(()=>ye(_,"value",Ee)),e[36](_);function h(p){e[37](p)}let z={label:"Sub Area",name:"subArea",options:e[5],width:114};e[12]!==void 0&&(z.value=e[12]),C=new we({props:z}),K.push(()=>ye(C,"value",h)),e[38](C),S=new et({props:{search:e[20],clear:e[39]}});let W=e[6]&&it(e);return Z=new Je({props:{datas:e[19],isSuccess:Dt}}),{c(){t=u("div"),n=u("div"),J(a.$$.fragment),o=b(),J(r.$$.fragment),d=b(),J(y.$$.fragment),m=b(),J(A.$$.fragment),O=b(),J(_.$$.fragment),M=b(),J(C.$$.fragment),E=b(),c=u("div"),J(S.$$.fragment),V=b(),W&&W.c(),F=b(),Y=u("div"),L=u("div"),x=u("div"),B=u("div"),D=u("div"),D.textContent="HOX Element",ie=b(),oe=u("div"),te=u("div"),te.textContent="% Close",X=b(),le=u("div"),Q=u("div"),H=G(re),I=b(),ne=u("div"),ne.textContent="YTD",ve=b(),ae=u("div"),ge=b(),fe=u("div"),J(Z.$$.fragment),ue=b(),ce=u("div"),ce.innerHTML=`<div class="box push-right-0 push-bottom-2 svelte-1yc7xvb"><div class="text-center title svelte-1yc7xvb">Leading By month</div> 
      <div id="monthChart"></div></div> 
    <div class="box svelte-1yc7xvb"><div class="text-center title svelte-1yc7xvb">Percent of Audit by HOX Element</div> 
      <div id="hoxElementChart"></div></div>`,l(n,"class","is-flex"),l(c,"class","is-flex is-align-end"),l(t,"class","is-flex is-justify-between push-bottom-3"),l(D,"class","is-flex is-flex-1 is-align-center title svelte-1yc7xvb"),l(te,"class","text-center title svelte-1yc7xvb"),l(Q,"class","month-col push-right-1 svelte-1yc7xvb"),l(ne,"class","ytd-col svelte-1yc7xvb"),l(le,"class","is-flex text-center table-header svelte-1yc7xvb"),l(ae,"class","icon-col svelte-1yc7xvb"),l(B,"class","is-flex"),l(x,"class","pad-4"),l(L,"class","is-flex-1 box pad-0 svelte-1yc7xvb"),l(ce,"class","is-flex-1"),l(Y,"class","is-flex")},m(p,j){$(p,t,j),s(t,n),U(a,n,null),s(n,o),U(r,n,null),s(n,d),U(y,n,null),s(n,m),U(A,n,null),s(n,O),U(_,n,null),s(n,M),U(C,n,null),s(t,E),s(t,c),U(S,c,null),$(p,V,j),W&&W.m(p,j),$(p,F,j),$(p,Y,j),s(Y,L),s(L,x),s(x,B),s(B,D),s(B,ie),s(B,oe),s(oe,te),s(oe,X),s(oe,le),s(le,Q),s(Q,H),s(le,I),s(le,ne),s(B,ve),s(B,ae),s(x,ge),s(x,fe),U(Z,fe,null),s(Y,ue),s(Y,ce),f=!0},p(p,j){const ze={};j[0]&1&&(ze.options=p[0]),!i&&j[0]&128&&(i=!0,ze.value=p[7],De(()=>i=!1)),a.$set(ze);const Te={};j[0]&2&&(Te.options=p[1]),!v&&j[0]&256&&(v=!0,Te.value=p[8],De(()=>v=!1)),r.$set(Te);const We={};j[0]&4&&(We.options=p[2]),!g&&j[0]&512&&(g=!0,We.value=p[9],De(()=>g=!1)),y.$set(We);const He={};j[0]&8&&(He.options=p[3]),!T&&j[0]&1024&&(T=!0,He.value=p[10],De(()=>T=!1)),A.$set(He);const Re={};j[0]&16&&(Re.options=p[4]),!w&&j[0]&2048&&(w=!0,Re.value=p[11],De(()=>w=!1)),_.$set(Re);const Fe={};j[0]&32&&(Fe.options=p[5]),!k&&j[0]&4096&&(k=!0,Fe.value=p[12],De(()=>k=!1)),C.$set(Fe),p[6]?W?(W.p(p,j),j[0]&64&&P(W,1)):(W=it(p),W.c(),P(W,1),W.m(F.parentNode,F)):W&&(Ke(),N(W,1,1,()=>{W=null}),Ve()),(!f||j[0]&256)&&re!==(re=Ae[p[8]]+"")&&de(H,re);const Ue={};j[0]&524288&&(Ue.datas=p[19]),Z.$set(Ue)},i(p){f||(P(a.$$.fragment,p),P(r.$$.fragment,p),P(y.$$.fragment,p),P(A.$$.fragment,p),P(_.$$.fragment,p),P(C.$$.fragment,p),P(S.$$.fragment,p),P(W),P(Z.$$.fragment,p),f=!0)},o(p){N(a.$$.fragment,p),N(r.$$.fragment,p),N(y.$$.fragment,p),N(A.$$.fragment,p),N(_.$$.fragment,p),N(C.$$.fragment,p),N(S.$$.fragment,p),N(W),N(Z.$$.fragment,p),f=!1},d(p){p&&ee(t),e[28](null),q(a),e[30](null),q(r),e[32](null),q(y),e[34](null),q(A),e[36](null),q(_),e[38](null),q(C),q(S),p&&ee(V),W&&W.d(p),p&&ee(F),p&&ee(Y),q(Z)}}}function Dt(e){return e.year===100}function Ot(e,t,n){let{yearOptions:a}=t,{monthOptions:i}=t,{companyOptions:o=[]}=t,{hoxElementOptions:r=[]}=t,{areaOptions:v=[]}=t,{subAreaOptions:d=[]}=t,{currentYear:y}=t,{currentMonth:g}=t,{totalAuditData:m}=t,{hoxElementDatas:A=[]}=t,{monthChartData:T}=t,{hoxElementChartData:O}=t,_,w,M,C,k,E,c,S,V,F,Y,L,x=[],B=!1;const D=Ze();Xe(async()=>{await Be(),ie(),X(),oe()}),$e(async()=>{await Be(),B&&(B=!1,ie(),oe())});function ie(){n(19,x=A.map(f=>xe({displayMonth:f.month+"%",displayYTD:f.year+"%"},f)))}function oe(){const f=(_!==y?Ae:Ae.filter((se,he)=>he<=g)).map(se=>`${se}-${_.toString().substring(2)}`);window.Highcharts.chart("monthChart",{chart:{type:"column"},credits:{enabled:!1},title:{text:void 0},xAxis:{categories:f,labels:{style:Me.textNormal}},yAxis:{min:0,title:{text:void 0},lineWidth:1,gridLineWidth:1,labels:{style:Me.textNormal}},legend:{itemStyle:Me.textNormal},series:[{name:"Finding",color:"#4bba83",data:T.series.finding},{name:"Closed",color:"#fc6c2c",data:T.series.closed}]}),window.Highcharts.chart("hoxElementChart",{chart:{type:"bar"},credits:{enabled:!1},title:{text:void 0},xAxis:{title:{text:"HOX Element",style:Me.textBold},categories:O.categories,labels:{style:Me.textNormal},scrollbar:{enabled:!0}},yAxis:{min:0,title:{text:"Percent",style:Me.textBold},lineWidth:1,gridLineWidth:1,labels:{style:Me.textNormal,formatter(){return this.value+"%"}}},legend:{enabled:!1},plotOptions:{bar:{dataLabels:{enabled:!0,formatter(){return this.y+"%"},style:Me.textBold},pointWidth:12}},series:[{name:"",color:"#e11383",data:O.series}]})}function te(){B=!0,D("search",{year:_,month:w+1,company:M,hoxElement:C,area:k,subArea:E,dashboardName:"Leading"})}function X(f=!0){f||(c.reset(),S.reset(),V.reset(),F.reset(),Y.reset(),L.reset())}function le(f){_=f,n(7,_)}function Q(f){K[f?"unshift":"push"](()=>{c=f,n(13,c)})}function re(f){w=f,n(8,w)}function H(f){K[f?"unshift":"push"](()=>{S=f,n(14,S)})}function I(f){M=f,n(9,M)}function ne(f){K[f?"unshift":"push"](()=>{V=f,n(15,V)})}function ve(f){C=f,n(10,C)}function ae(f){K[f?"unshift":"push"](()=>{F=f,n(16,F)})}function ge(f){k=f,n(11,k)}function fe(f){K[f?"unshift":"push"](()=>{Y=f,n(17,Y)})}function Z(f){E=f,n(12,E)}function ue(f){K[f?"unshift":"push"](()=>{L=f,n(18,L)})}const ce=()=>X(!1);return e.$$set=f=>{"yearOptions"in f&&n(0,a=f.yearOptions),"monthOptions"in f&&n(1,i=f.monthOptions),"companyOptions"in f&&n(2,o=f.companyOptions),"hoxElementOptions"in f&&n(3,r=f.hoxElementOptions),"areaOptions"in f&&n(4,v=f.areaOptions),"subAreaOptions"in f&&n(5,d=f.subAreaOptions),"currentYear"in f&&n(22,y=f.currentYear),"currentMonth"in f&&n(23,g=f.currentMonth),"totalAuditData"in f&&n(6,m=f.totalAuditData),"hoxElementDatas"in f&&n(24,A=f.hoxElementDatas),"monthChartData"in f&&n(25,T=f.monthChartData),"hoxElementChartData"in f&&n(26,O=f.hoxElementChartData)},[a,i,o,r,v,d,m,_,w,M,C,k,E,c,S,V,F,Y,L,x,te,X,y,g,A,T,O,le,Q,re,H,I,ne,ve,ae,ge,fe,Z,ue,ce]}class Ct extends je{constructor(t){super();Le(this,t,Ot,yt,Ie,{yearOptions:0,monthOptions:1,companyOptions:2,hoxElementOptions:3,areaOptions:4,subAreaOptions:5,currentYear:22,currentMonth:23,totalAuditData:6,hoxElementDatas:24,monthChartData:25,hoxElementChartData:26},null,[-1,-1])}}function kt(e){let t,n,a,i,o,r,v,d,y,g,m,A,T,O,_,w,M,C,k,E,c,S,V,F,Y=Ae[e[3]]+"",L,x,B,D,ie,oe,te,X,le,Q,re,H,I,ne,ve,ae,ge=Ae[e[3]]+"",fe,Z,ue,ce,f,se,he,pe,me;function Oe(h){e[16](h)}let Ce={label:"Year",name:"year",options:e[0],width:156};e[4]!==void 0&&(Ce.value=e[4]),o=new we({props:Ce}),K.push(()=>ye(o,"value",Oe)),e[17](o);function _e(h){e[18](h)}let be={label:"Month",name:"month",options:e[1],width:156};e[5]!==void 0&&(be.value=e[5]),d=new we({props:be}),K.push(()=>ye(d,"value",_e)),e[19](d);function Ee(h){e[20](h)}let ke={label:"Company",name:"company",options:e[2],width:156};return e[6]!==void 0&&(ke.value=e[6]),m=new we({props:ke}),K.push(()=>ye(m,"value",Ee)),e[21](m),_=new et({props:{search:e[12],clear:e[22]}}),X=new Je({props:{datas:e[10],isSuccess:At,isWarning:Mt}}),pe=new Je({props:{datas:e[11],isSuccess:Et,isWarning:zt}}),{c(){t=u("div"),n=u("div"),a=b(),i=u("div"),J(o.$$.fragment),v=b(),J(d.$$.fragment),g=b(),J(m.$$.fragment),T=b(),O=u("div"),J(_.$$.fragment),w=b(),M=u("div"),C=u("div"),k=u("div"),k.textContent="Incident",E=b(),c=u("div"),S=u("div"),S.textContent="Incident Type",V=b(),F=u("div"),L=G(Y),x=b(),B=u("div"),B.textContent="YTD",D=b(),ie=u("div"),oe=b(),te=u("div"),J(X.$$.fragment),le=b(),Q=u("div"),re=u("div"),re.textContent="Potential Incident Report",H=b(),I=u("div"),ne=u("div"),ne.textContent="PIR",ve=b(),ae=u("div"),fe=G(ge),Z=b(),ue=u("div"),ue.textContent="YTD",ce=b(),f=u("div"),se=b(),he=u("div"),J(pe.$$.fragment),pt(n,"width","204px"),l(i,"class","is-flex"),l(O,"class","is-flex is-align-end"),l(t,"class","is-flex is-justify-between push-bottom-3"),l(k,"class","title push-bottom-1 svelte-z8vbhj"),l(S,"class","is-flex-1"),l(F,"class","text-center push-right-1 month-col svelte-z8vbhj"),l(B,"class","text-center ytd-col svelte-z8vbhj"),l(ie,"class","icon-col svelte-z8vbhj"),l(c,"class","is-flex table-header push-bottom-2 svelte-z8vbhj"),l(C,"class","is-flex-1 box svelte-z8vbhj"),l(re,"class","title push-bottom-1 svelte-z8vbhj"),l(ne,"class","is-flex-1"),l(ae,"class","text-center push-right-1 month-col svelte-z8vbhj"),l(ue,"class","text-center ytd-col svelte-z8vbhj"),l(f,"class","icon-col svelte-z8vbhj"),l(I,"class","is-flex table-header push-bottom-2 svelte-z8vbhj"),l(Q,"class","is-flex-1 box svelte-z8vbhj"),l(M,"class","is-flex")},m(h,z){$(h,t,z),s(t,n),s(t,a),s(t,i),U(o,i,null),s(i,v),U(d,i,null),s(i,g),U(m,i,null),s(t,T),s(t,O),U(_,O,null),$(h,w,z),$(h,M,z),s(M,C),s(C,k),s(C,E),s(C,c),s(c,S),s(c,V),s(c,F),s(F,L),s(c,x),s(c,B),s(c,D),s(c,ie),s(C,oe),s(C,te),U(X,te,null),s(M,le),s(M,Q),s(Q,re),s(Q,H),s(Q,I),s(I,ne),s(I,ve),s(I,ae),s(ae,fe),s(I,Z),s(I,ue),s(I,ce),s(I,f),s(Q,se),s(Q,he),U(pe,he,null),me=!0},p(h,[z]){const W={};z&1&&(W.options=h[0]),!r&&z&16&&(r=!0,W.value=h[4],De(()=>r=!1)),o.$set(W);const p={};z&2&&(p.options=h[1]),!y&&z&32&&(y=!0,p.value=h[5],De(()=>y=!1)),d.$set(p);const j={};z&4&&(j.options=h[2]),!A&&z&64&&(A=!0,j.value=h[6],De(()=>A=!1)),m.$set(j),(!me||z&8)&&Y!==(Y=Ae[h[3]]+"")&&de(L,Y);const ze={};z&1024&&(ze.datas=h[10]),X.$set(ze),(!me||z&8)&&ge!==(ge=Ae[h[3]]+"")&&de(fe,ge);const Te={};z&2048&&(Te.datas=h[11]),pe.$set(Te)},i(h){me||(P(o.$$.fragment,h),P(d.$$.fragment,h),P(m.$$.fragment,h),P(_.$$.fragment,h),P(X.$$.fragment,h),P(pe.$$.fragment,h),me=!0)},o(h){N(o.$$.fragment,h),N(d.$$.fragment,h),N(m.$$.fragment,h),N(_.$$.fragment,h),N(X.$$.fragment,h),N(pe.$$.fragment,h),me=!1},d(h){h&&ee(t),e[17](null),q(o),e[19](null),q(d),e[21](null),q(m),q(_),h&&ee(w),h&&ee(M),q(X),q(pe)}}}function At(e){return e.year===0}function Mt(e){return e.year!==0&&e.year<e.kpiTarget}function Et(e){return e.year>e.kpiTarget}function zt(e){return e.year===e.kpiTarget}function Tt(e,t,n){let{yearOptions:a}=t,{monthOptions:i}=t,{companyOptions:o=[]}=t,{currentMonth:r}=t,{lackingDatas:v=[]}=t,{pirData:d}=t,y,g,m,A,T,O,_=[],w=[],M=!1;const C=Ze();Xe(async()=>{await Be(),k()}),$e(async()=>{await Be(),M&&(M=!1,k())});function k(){n(10,_=v.map(D=>xe({displayMonth:D.month+"",displayYTD:D.year+""},D))),n(11,w[0]={name:"PIR (Unsafe Act)",displayMonth:d.unsafeAct.month+"",displayYTD:d.unsafeAct.year+"",month:d.unsafeAct.month,year:d.unsafeAct.year,kpiTarget:d.unsafeAct.kpiTarget},w),n(11,w[1]={name:"% PIR Close out",displayMonth:d.closeOut.month+"%",displayYTD:d.closeOut.year+"%",month:d.closeOut.month,year:d.closeOut.year,kpiTarget:d.closeOut.kpiTarget},w)}function E(){M=!0,C("search",{year:y,month:g+1,company:m,dashboardName:"Lagging"})}function c(D=!0){A.reset(),T.reset(),O.reset()}function S(D){y=D,n(4,y)}function V(D){K[D?"unshift":"push"](()=>{A=D,n(7,A)})}function F(D){g=D,n(5,g)}function Y(D){K[D?"unshift":"push"](()=>{T=D,n(8,T)})}function L(D){m=D,n(6,m)}function x(D){K[D?"unshift":"push"](()=>{O=D,n(9,O)})}const B=()=>c(!1);return e.$$set=D=>{"yearOptions"in D&&n(0,a=D.yearOptions),"monthOptions"in D&&n(1,i=D.monthOptions),"companyOptions"in D&&n(2,o=D.companyOptions),"currentMonth"in D&&n(3,r=D.currentMonth),"lackingDatas"in D&&n(14,v=D.lackingDatas),"pirData"in D&&n(15,d=D.pirData)},[a,i,o,r,y,g,m,A,T,O,_,w,E,c,v,d,S,V,F,Y,L,x,B]}class St extends je{constructor(t){super();Le(this,t,Tt,kt,Ie,{yearOptions:0,monthOptions:1,companyOptions:2,currentMonth:3,lackingDatas:14,pirData:15})}}function jt(e){let t,n;return t=new St({props:{yearOptions:e[12],monthOptions:e[14],companyOptions:e[0],currentMonth:e[13],lackingDatas:e[9],pirData:e[10]}}),t.$on("search",ot),{c(){J(t.$$.fragment)},m(a,i){U(t,a,i),n=!0},p(a,i){const o={};i&1&&(o.companyOptions=a[0]),i&512&&(o.lackingDatas=a[9]),i&1024&&(o.pirData=a[10]),t.$set(o)},i(a){n||(P(t.$$.fragment,a),n=!0)},o(a){N(t.$$.fragment,a),n=!1},d(a){q(t,a)}}}function Lt(e){let t,n;return t=new Ct({props:{yearOptions:e[12],monthOptions:e[14],companyOptions:e[0],hoxElementOptions:e[1],areaOptions:e[2],subAreaOptions:e[3],currentYear:e[11],currentMonth:e[13],totalAuditData:e[5],hoxElementDatas:e[6],monthChartData:e[7],hoxElementChartData:e[8]}}),t.$on("search",ot),{c(){J(t.$$.fragment)},m(a,i){U(t,a,i),n=!0},p(a,i){const o={};i&1&&(o.companyOptions=a[0]),i&2&&(o.hoxElementOptions=a[1]),i&4&&(o.areaOptions=a[2]),i&8&&(o.subAreaOptions=a[3]),i&32&&(o.totalAuditData=a[5]),i&64&&(o.hoxElementDatas=a[6]),i&128&&(o.monthChartData=a[7]),i&256&&(o.hoxElementChartData=a[8]),t.$set(o)},i(a){n||(P(t.$$.fragment,a),n=!0)},o(a){N(t.$$.fragment,a),n=!1},d(a){q(t,a)}}}function It(e){let t,n,a,i,o,r,v,d,y,g,m,A;d=new ut({props:{tabs:e[15],activeTab:e[4],isUnsavedChanges:!1}}),d.$on("tabChange",e[16]);const T=[Lt,jt],O=[];function _(w,M){return w[4]===Ye.Leading?0:w[4]===Ye.Lagging?1:-1}return~(g=_(e))&&(m=O[g]=T[g](e)),{c(){t=u("main"),n=u("div"),a=u("span"),a.textContent="QMOS Dashboard",i=b(),o=u("span"),o.textContent=`${tt[e[13]]}-${e[11]}`,r=b(),v=u("div"),J(d.$$.fragment),y=b(),m&&m.c(),l(o,"class","month svelte-jb6bh9"),l(n,"class","text-center text-weight-bold push-bottom-3 title svelte-jb6bh9"),l(v,"class","push-bottom-3")},m(w,M){$(w,t,M),s(t,n),s(n,a),s(n,i),s(n,o),s(t,r),s(t,v),U(d,v,null),s(t,y),~g&&O[g].m(t,null),A=!0},p(w,[M]){const C={};M&16&&(C.activeTab=w[4]),d.$set(C);let k=g;g=_(w),g===k?~g&&O[g].p(w,M):(m&&(Ke(),N(O[k],1,1,()=>{O[k]=null}),Ve()),~g?(m=O[g],m?m.p(w,M):(m=O[g]=T[g](w),m.c()),P(m,1),m.m(t,null)):m=null)},i(w){A||(P(d.$$.fragment,w),P(m),A=!0)},o(w){N(d.$$.fragment,w),N(m),A=!1},d(w){w&&ee(t),q(d),~g&&O[g].d()}}}function ot(e){const t=e.detail;console.log(t),console.log(JSON.stringify(t)),window.TestCal(JSON.stringify(t))}function Pt(e,t,n){const a=new Date,i=a.getFullYear(),o=Array.from({length:5},(c,S)=>i-S),r=a.getMonth(),v=tt.map((c,S)=>({id:S,name:c}));let d=[],y=[],g=[],m=[];const A=[{id:1,name:"Leading"},{id:2,name:"Lagging"}];let T=Ye.Leading,O,_=[],w,M,C=[],k;Xe(async()=>{window.getData=()=>{const c=JSON.parse(document.getElementById("rawData").innerText,gt);n(5,O=c.leading.totalAuditData),n(6,_=c.leading.hoxElementData),n(7,w=c.leading.monthChartData),n(8,M=c.leading.hoxElementChartData),n(9,C=c.lagging.lackingData),n(10,k=c.lagging.pirData),n(0,d=c.companyOptions),n(1,y=c.hoxElementOptions),n(2,g=c.areaOptions),n(3,m=c.subAreaOptions)},window.getData()});function E(c){n(4,T=c.detail)}return[d,y,g,m,T,O,_,w,M,C,k,i,o,r,v,A,E]}class Yt extends je{constructor(t){super();Le(this,t,Pt,It,Ie,{})}}new Yt({target:document.getElementById("app")});
