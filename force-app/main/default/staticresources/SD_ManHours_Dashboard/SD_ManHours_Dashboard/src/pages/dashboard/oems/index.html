<apex:page
  controller="ICR_DashboardController"
  standardStylesheets="true"
  lightningStylesheets="true"
  sidebar="false"
  showHeader="false"
  applyHtmlTag="true"
  applyBodyTag="false"
  docType="html-5.0"
  language="th"
>
  <apex:form>
    <apex:actionFunction
      name="TestCal"
      action="{!TestFunction}"
      reRender="rawDataPanel"
      oncomplete="window.getData();"
    />
  </apex:form>
  <!DOCTYPE html>
  <html lang="en">

  <head>
    <meta charset="UTF-8" />
    <link
      rel="icon"
      href="/favicon.ico"
    />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1.0"
    />
    <script src="/js/highcharts.min.js"></script>
    <script src="/js/choices.min.js"></script>
    <script src="/js/flatpickr.min.js"></script>
    <link rel="stylesheet" href="/css/choices.min.css" />
    <link rel="stylesheet" href="/css/flatpickr.min.css" />
    <title>OEMS Dashboard</title>
    <script type="module" crossorigin src="/assets/oems.js"></script>
    <link rel="modulepreload" href="/assets/vendor.js">
    <link rel="modulepreload" href="/assets/BaseDropdown.js">
    <link rel="modulepreload" href="/assets/FilterButtons.js">
    <link rel="modulepreload" href="/assets/chartConfig.js">
    <link rel="stylesheet" href="/assets/BaseDropdown.css">
    <link rel="stylesheet" href="/assets/FilterButtons.css">
    <link rel="stylesheet" href="/assets/oems.css">
  </head>

  <body>
    <apex:outputPanel id="rawDataPanel">
      <div id="rawData" style="display: none">
        {"companyOptions":[{"id":"1","name":"TOP Group"},{"id":"2","name":"TOP"}],"kpiCodeTypeOptions":[{"id":"1","name":"PTT"},{"id":"2","name":"DJSI"}],"kpiNameOptions":[{"id":"1","name":"Small Fire (Severity &lt2)"}],"kpiTableData":[{"name":"# of work related fatalities","unit":"Number","pttKpiCode":"SSHE-01","djsiKpiCode":"SSHE-01","type":"Leading","datas":[{"target":"0","actual":0},{"target":"0","actual":0},{"target":"0","actual":0},{"target":"0","actual":0},{"target":"0","actual":0}]},{"name":"Total Recordable Injury Rate (TRIR)","unit":"Case per mil. Man-hours","pttKpiCode":"SSHE-02","djsiKpiCode":"SSHE-02","type":"Leading","datas":[{"target":"&lt= 0.4","actual":0.1},{"target":"&lt= 0.4","actual":0.1},{"target":"&lt= 0.4","actual":0.1},{"target":"&lt= 0.4","actual":0.1},{"target":"&lt= 0.4","actual":0.1}]},{"name":"Total Recordable Injury Rate (TRIR)","unit":"Case per mil. Man-hours","pttKpiCode":"SSHE-03","djsiKpiCode":"SSHE-03","type":"Leading","datas":[{"target":"&lt= 0.4","actual":0.1},{"target":"&lt= 0.4","actual":0.1},{"target":"&lt= 0.4","actual":0.1},{"target":"&lt= 0.4","actual":0.1},{"target":"&lt= 0.4","actual":0.1}]},{"name":"Loss Time Injury Frequency (LTIF)","unit":"Case per mil. Man-hours","pttKpiCode":"SSHE-04","djsiKpiCode":"SSHE-04","type":"Leading","datas":[{"target":"2","actual":0},{"target":"2","actual":0},{"target":"2","actual":0},{"target":"2","actual":0},{"target":"2","actual":0}]}],"trendingChartData":{"year":{"actual":[1,2,0,2,0],"target":[2,3,4,2,1]},"quarter":{"actual":[1,0,1,1,1,2,1,2,0,1,0,1],"target":[2,2,2,2,3,3,3,3,2,2,2,2]},"month":{"actual":[0,0,0,0,0,1,0,0,0,1,0,0,0,0,1,0,0,0,1,0,0,0,0,0],"target":[2,2,2,2,2,2,2,2,2,2,2,2,3,3,3,3,3,3,3,3,3,3,3,3]},"unit":"Case"},"periodComparingChartData":{"series":[{"name":"2016","color":"#05528B","data":[0,1,1,1]},{"name":"2017","color":"#4BBA83","data":[1,0,2,2]},{"name":"2018","color":"#F87BBF","data":[1,0,1,1]},{"name":"2019","color":"#39C8E5","data":[1,2,1,2]},{"name":"2020","color":"#FF9067","data":[0,1,1,1]}],"unit":"Case"},"benchmarkChartData":{"series":[{"name":"Exxon","color":"#04528B","data":[0.9,0.7,0.65,0.7,0.6]},{"name":"OGP","color":"#4BB982","data":[1.21,1.03,0.95,0.85,0.95]},{"name":"Shell","color":"#F87BBF","data":[0.94,1,0.8,0.7,0.6]},{"name":"TOP","color":"#3AC8E5","data":[0.54,0.53,0.17,0.27,0.37]}],"unit":"Case"}}
      </div>
      <!-- filter data -->
      <!-- {"performanceFilter":{"startDate":"2017-12-31T17:00:00Z","endDate":"2022-01-19T10:59:37Z","company":"1","kpiCodeType":"1","displayPeriod":"Year"},"performanceTrendingFilter":{"startDate":"2017-12-31T17:00:00Z","endDate":"2022-01-19T11:30:08Z","company":"1","kpiName":"1"},"periodComparingFilter":{"year":[2022],"quarter":[1,2,3,4],"company":"1","kpiName":"1","dataType":"Target","comparePeriod":"Quarter"},"benchmarkFilter":{"startDate":"2017-12-31T17:00:00Z","endDate":"2022-01-19T11:30:08Z","company":["1","2"],"kpiName":"1","dataType":"Target"}} -->
    </apex:outputPanel>
    <div id="app"></div>
    
  </body>

  </html>
</apex:page>